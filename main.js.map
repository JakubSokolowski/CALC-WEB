{"version":3,"sources":["C:/Users/Jakub/WebstormProjects/calc/libs/calc-arithmetic/src/index.ts","C:/Users/Jakub/WebstormProjects/calc/libs/calc-arithmetic/src/lib/calc-arithmetic.ts","C:/Users/Jakub/WebstormProjects/calc/libs/calc-arithmetic/src/lib/floating/float-converter.ts","C:/Users/Jakub/WebstormProjects/calc/libs/calc-arithmetic/src/lib/helpers/conversion-helpers.ts","C:/Users/Jakub/WebstormProjects/calc/libs/calc-arithmetic/src/lib/positional/addition.ts","C:/Users/Jakub/WebstormProjects/calc/libs/calc-arithmetic/src/lib/positional/associated-base-converter.ts","C:/Users/Jakub/WebstormProjects/calc/libs/calc-arithmetic/src/lib/positional/base-converter.ts","C:/Users/Jakub/WebstormProjects/calc/libs/calc-arithmetic/src/lib/positional/base-digits.ts","C:/Users/Jakub/WebstormProjects/calc/libs/calc-arithmetic/src/lib/positional/complement-converter.ts","C:/Users/Jakub/WebstormProjects/calc/libs/calc-arithmetic/src/lib/positional/representations.ts","C:/Users/Jakub/WebstormProjects/calc/libs/docs/src/index.ts","C:/Users/Jakub/WebstormProjects/calc/libs/docs/src/lib/components/doc-page/doc-page.tsx","C:/Users/Jakub/WebstormProjects/calc/libs/docs/src/lib/components/heading-renderer/heading-renderer.tsx","C:/Users/Jakub/WebstormProjects/calc/libs/docs/src/lib/components/markdown-renderer/markdown-renderer.tsx","C:/Users/Jakub/WebstormProjects/calc/libs/docs/src/lib/components/scroll-spy/scroll-spy.tsx","C:/Users/Jakub/WebstormProjects/calc/libs/docs/src/lib/core/functions/heading-ids.ts","C:/Users/Jakub/WebstormProjects/calc/libs/docs/src/lib/core/functions/latinize.ts","C:/Users/Jakub/WebstormProjects/calc/libs/docs/src/lib/hooks/use-docs.tsx","C:/Users/Jakub/WebstormProjects/calc/libs/grid/src/index.ts","C:/Users/Jakub/WebstormProjects/calc/libs/grid/src/lib/components/hover-cell/hover-grid-cell.tsx","C:/Users/Jakub/WebstormProjects/calc/libs/grid/src/lib/components/hover-grid/hover-grid.tsx","C:/Users/Jakub/WebstormProjects/calc/libs/grid/src/lib/core/addition-gid.ts","C:/Users/Jakub/WebstormProjects/calc/libs/grid/src/lib/core/axis-utils.ts","C:/Users/Jakub/WebstormProjects/calc/libs/grid/src/lib/core/conversion-grid.ts","C:/Users/Jakub/WebstormProjects/calc/libs/grid/src/lib/core/grid-line-utils.ts","C:/Users/Jakub/WebstormProjects/calc/libs/grid/src/lib/core/grid-utils.ts","C:/Users/Jakub/WebstormProjects/calc/libs/grid/src/lib/models/cell-position.ts","C:/Users/Jakub/WebstormProjects/calc/libs/grid/src/lib/models/line-type.ts","C:/Users/Jakub/WebstormProjects/calc/libs/ui/src/index.ts","C:/Users/Jakub/WebstormProjects/calc/libs/ui/src/lib/components/gitlab-icon/gitlab-icon.tsx","C:/Users/Jakub/WebstormProjects/calc/libs/ui/src/lib/components/input-with-copy/input-with-copy.tsx","C:/Users/Jakub/WebstormProjects/calc/libs/ui/src/lib/components/number-subscript/number-subscript.tsx","C:/Users/Jakub/WebstormProjects/calc/libs/ui/src/lib/components/tab-panel/tab-panel.tsx","C:/Users/Jakub/WebstormProjects/calc/libs/ui/src/lib/core/functions/copy-to-clipboard.ts","C:/Users/Jakub/WebstormProjects/calc/libs/ui/src/lib/themes/dark.ts","C:/Users/Jakub/WebstormProjects/calc/libs/ui/src/lib/themes/index.ts","C:/Users/Jakub/WebstormProjects/calc/libs/ui/src/lib/themes/light.ts","C:/Users/Jakub/WebstormProjects/calc/libs/utils/src/index.ts","C:/Users/Jakub/WebstormProjects/calc/libs/utils/src/lib/chunks.ts","C:/Users/Jakub/WebstormProjects/calc/libs/utils/src/lib/clean.ts","C:/Users/Jakub/WebstormProjects/calc/libs/utils/src/lib/intersect.ts","C:/Users/Jakub/WebstormProjects/calc/libs/utils/src/lib/log.ts","C:/Users/Jakub/WebstormProjects/calc/libs/utils/src/lib/range.ts","C:/Users/Jakub/WebstormProjects/calc/libs/utils/src/lib/replace-all.ts","C:/Users/Jakub/WebstormProjects/calc/libs/utils/src/lib/trim.ts","C:/Users/Jakub/WebstormProjects/calc/libs/utils/src/lib/walk.ts","./app/app.scss","C:/Users/Jakub/WebstormProjects/calc/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack:///./app/app.scss?6669","./app/app.tsx","./app/components/associated-base-conversion-details/associated-base-conversion-details.tsx","./app/components/associated-base-converter-view/associated-base-converter-view.tsx","./app/components/associated-base-converter/associated-base-converter.tsx","./app/components/complement-converter-view/complement-converter-view.tsx","./app/components/conversion-options/conversion-options.tsx","./app/components/digit-mapping/digit-mapping-box.tsx","./app/components/float-converter-view/float-converter-view.tsx","./app/components/float-converter/binary-button/binary-button.tsx","./app/components/float-converter/button-row/button-row.tsx","./app/components/float-converter/float-converter-component.tsx","./app/components/float-converter/representation-part/representation-part.tsx","./app/components/home-view/home-view.tsx","./app/components/language-menu/language-menu.tsx","./app/components/positional-calculator/add-at-position-hover-content.tsx","./app/components/positional-calculator/positional-calculator-view.tsx","./app/components/repo-link/repo-link.tsx","./app/components/sider-menu/sider-menu.tsx","./app/components/theme-menu/theme-menu.tsx","./app/core/styles/converter-styles.ts","./app/store/actions/options.actions.ts","./app/store/configure-store.ts","./app/store/reducers/options.reducer.ts","./app/store/reducers/root.reducer.ts","./app/store/selectors/options.selectors.ts","./assets/env/meta.ts","./assets/i18n/i18n.ts","./main.tsx"],"names":["Buffer","require","FloatProperty","FloatConverter","ToSingle","val","str","SingleToBinaryString","SingleRepresentation","ToDouble","DoubleToBinaryString","DoubleRepresentation","d","buffer","ArrayBuffer","doubleView","Float64Array","intView","Int32Array","low","toString","high","padStart","BinaryStringToDouble","s","Number","parseInt","substr","writeInt32BE","readDoubleBE","f","floatView","Float32Array","BinaryStringToSingle","byteChunks","chunks","split","map","chunk","join","offset","forEach","byteStr","byte","writeInt8","readFloatBE","getProperty","representation","isPositiveZero","PositiveZero","isNegativeZero","NegativeZero","isPositiveInfinity","PositiveInfinity","isNegativeInfinity","NegativeInfinity","isDenormalized","Denormalized","IsNAN","NAN","Normalized","sign","test","exponent","mantissa","FloatingRepresentation","exponentLength","mantissaLength","binaryLength","bias","binary","constructor","value","signEncoding","signValue","exponentEncoding","mantissaEncoding","exponentValue","mantissaValue","fromString","result","decimalValue","toNumber","representationStrToStrArray","base","getRepresentationRegexPattern","Error","pattern","replaceAll","BaseDigits","getDigit","removeZeroDigits","digits","invalidDigitCount","i","length","slice","isValidString","re","RegExp","strList","replace","some","digit","num","isNaN","arbitraryIntegralToDecimal","repStr","BigNumber","multiplier","charAt","strArr","plus","getValue","Math","pow","multipliedBy","decimalIntegerToArbitrary","isZero","Digits","remainders","resultDigits","currentNum","abs","push","remainder","mod","dividedToIntegerBy","reverse","decimalFractionToArbitrary","fraction","precision","isNegative","negated","fractionPart","wholePart","fractions","minus","arbitraryFractionToDecimal","fractionStr","decimalFraction","isFloatingPointStr","includes","splitToPartsArr","integerPart","fractionalPart","separator","substring","splitToDigits","splitToDigitsList","index","valueInDecimal","position","valueInBase","addPositionalNumbers","numbers","areSameBaseNumbers","numbersAsDigits","number","toDigitsList","addDigitsArrays","every","numBase","carryLookup","digitsPositionLookup","toDigitMap","mostSignificantPosition","leastSignificantPosition","findPositionRange","currentPosition","mostSignificant","allDigitsAtCurrentPosition","filter","allCarriesAtCurrentPosition","digitsToAdd","carry","isCarry","positionResult","addDigitsAtPosition","mostSignificantCarryPosition","undefined","extractResultDigitsFromPositionResults","numberResult","buildPositionalNumberFromDigits","positionResults","operands","allDigits","allMostSignificant","allLeastSignificant","max","min","representationStr","firstFractionalPartDigitIndex","digitsFromPositions","res","valueAtPosition","carryDigitsNotConsideredInResult","missingCarryDigits","dgt","find","posDgt","reduce","digitMap","decimalSum","sum","decimalPositionValue","decimalCarry","carryToDigits","startingPosition","fromNumber","isNonZeroDigit","convertUsingAssociatedBases","valueStr","inputBase","resultBase","canConvertUsingAssociateBaseMethod","getAllPossibleBasesForAssociateConversion","inputNum","details","mapToAssociatedBaseDigits","fromDigits","conv","Conversion","addStage","AssociatedBaseConversion","outputBase","mappings","splitToSmallerBaseDigits","strippedMappings","stripRedundantZeroDigits","positionMappings","arr","mapping","output","numDigitsPerPosition","round","logBase","reducedIntegerPart","chunksFromEnd","reduceToGreaterBaseDigit","reducedFractionalPart","meaningfulDigits","numOfZeroDigitsMissing","missingZeroDigits","Array","positionInChunk","getSmallerDigitsPositionInChunk","input","greaterDigitPosition","relativePositionInChunk","lastMappingIndex","removeZeroDigitsFromFirstMapping","removeZeroDigitsFromLastMapping","isZeroDigit","areAllMappingDigitZeros","trimStartByPredicate","trimEndByPredicate","resultPosition","digitsWithNormalizedPositions","combinedDigitValue","digitInOutputBase","ConversionType","stages","type","DIRECT","resultNumDigits","inputNumDigits","inputStr","stage","assignConversionType","getStage","getLastStage","getFirstStage","concatConversion","conversion","concat","INDIRECT","ConversionToDecimal","inputDigitList","DirectConversion","digitList","ConversionToArbitrary","divisors","multipliers","integralDivisors","fractionalMultipliers","StandardBaseConverter","integerPartDigits","fractionalPartDigits","complement","ComplementConverter","getComplement","PositionalNumber","getDecimalValue","inputInDecimal","fromStringDirect","fromDigitsDirect","valueParts","converter","valueStrWithoutExtraSpaces","trim","isValidRadix","MIN_BASE","MAX_BASE","defaultDigits","indexOf","getSmallerAssociateBases","getGreaterAssociateBases","possibleBases","minExponent","n","newGreaterBase","nthRoot","isInteger","smaller","greater","log","toFixed","isComplementStrNegative","signLength","isValidComplementStr","hasValidComplementSign","noSignComplementStr","zeroDigit","maxDigit","regStr","reg","hasDelimiter","NumberComplement","noSignValue","getNegativeNumberComplement","getPositiveNumberComplement","repParts","complementDigits","computeComplement","getDigitComplement","incrementNumber","integral","fractional","complementStrToBaseStr","noSignStr","baseDigits","delimiter","getDigitValue","useStyles","makeStyles","theme","createStyles","box","paddingBottom","breakpoints","down","paddingRight","up","DocPage","path","markdown","useDocs","imageUriPrefix","classes","ids","extractHeadingIds","uri","HeadingRenderer","level","children","flatten","text","child","React","Children","toArray","props","arrayChildren","id","getHeadingSlug","MarkdownRenderer","newProps","plugins","RemarkMathPlugin","renderers","math","inlineMath","heading","p","SPY_INTERVAL","active","color","palette","secondary","borderLeft","cursor","normal","primary","container","listStyleType","right","spacing","top","display","width","ScrollSpy","entries","items","setItems","useState","headerHeight","useEffect","timer","window","setInterval","spy","clearInterval","all","entry","element","document","getElementById","item","inView","isInView","firstTrueItem","update","rect","getBoundingClientRect","bottom","innerHeight","scrollTo","y","pageYOffset","behavior","k","paddingLeft","innerText","headingRegex","match","withoutHashes","slug","toLowerCase","latinize","latinLookup","char","doc","setDoc","i18n","useTranslation","fileName","pop","prefix","languageKeySuffix","language","url","fetch","then","response","mdDoc","useGridCellStyles","baseCell","minWidth","height","minHeight","padding","textAlign","background","default","border","action","selected","disabled","defaultCell","hoverCell","focus","highlightedCell","light","getContrastText","highlightedCellHover","horizontalLine","borderBottom","verticalLine","borderRight","HoverGridCell","x","config","hovered","onHover","onClick","content","preset","handleClick","cellEvent","handleHover","getCellClassName","getHoveredCellClassName","hover","getLineClassName","classNames","getClassNames","HtmlTooltip","withStyles","tooltip","maxWidth","fontSize","typography","pxToRem","Tooltip","gridRow","flexDirection","gridWrapper","alignItems","overflowX","cellBox","maxHeight","cellContent","indicesBox","columnIndex","justifyContent","HoverGrid","values","groups","lines","groupBuilder","title","xAxis","lookup","buildCellGroupLookup","setHoveredCell","hoveredGroup","setHoveredGroup","gridRef","useRef","event","console","cellAlreadyHovered","hoverGroupKey","group","cellBelongsToHoveredGroup","cells","cell","getGroupPopoverAnchorCoords","popoverPlacement","CellPosition","Top","getOutlierAtPosition","anchor","rows","row","cellConfig","anyHorizontalLineIntersects","anyVerticalLineIntersects","shouldHover","cellProps","key","isCellGroupAnchor","coordsEqual","hasBuilder","contentBuilder","canBuildPopoverContent","contentProps","xAxisIndices","indices","saveAsImage","domtoimage","toBlob","current","blob","saveAs","catch","error","buildAdditionGrid","info","extractDelimiterInfo","verticalLineIndex","numIntegerPartDigits","carryRows","carriesToCellConfig","horizontalLineIndex","operandDigits","operandDigitsToCellConfig","resultRow","digitsToCellConfig","padWithEmptyCells","totalWidth","buildColumnGroups","buildAxis","LineType","Vertical","Horizontal","getUnderlineForCarries","span","from","findIndex","positionCarryLookup","positionIndexLookup","posDigit","mostCarriesPerPosition","posResult","numCarries","emptyCarryGrid","buildEmptyGrid","Object","strPosition","positionCarries","numPosition","carryIndex","positionIndex","highlightedCellPreset","keys","buildEmptyRow","indexOfZeroPositionDigit","paddedIntegerPartDigits","padWithEmptyCellDigits","paddedFractionalPartDigits","numFractionalDigits","desiredWidth","direction","missingCellsCount","newEmptyCells","celLValue","start","desiredLength","defaultCellPreset","buildFractionalConversionGrid","extractConversionToArbitrary","multiplicandMaxLength","resultMaxLength","walk","leftMultiplicand","rightResult","multiplicandCells","buildMultiplicandCells","multiplicationResultCells","buildMultiplicationResultCells","newRow","propContent","buildRowGroup","separatorLine","multiplicand","delimiterIndex","multiplicandWithoutDelimiter","cellsWithContent","leftEmptyCells","getEmptyCellsPadding","beforeRightDelimiter","afterRightDelimiter","digitResultCell","restOfMultiplicationResultCells","allRightCells","defaultRightEmptyCell","rightEmptyCells","buildIntegralConversionGrid","firstStage","reversedResultDigits","initialEmptyCellOffset","rowGroups","emptyLeft","emptyRight","left","dividend","conversionToArbitrary","initialLength","currentLength","repeat","isInSpan","range","to","verticalLineIntersects","line","horizontalLineIntersects","buildRowGroups","builder","rowIndex","end","getStartEndRowCoords","groupCellsInStraightLine","sortedGroups","sort","a","b","cellKey","getCellRange","diff","cellGroup","TopRight","getTopRightOutlier","TopLeft","getTopLeftOutlier","getTopMiddleOutlier","topmost","getTopMostCells","floor","getOutliers","getBottommostCells","getRightmostCells","getLeftmostCells","rightmost","topRight","intersect","leftmost","minmax","outlier","gridToAscii","grid","ascii","GitlabIcon","InputType","Alert","flexWrap","InputWithCopy","onValueChange","onChange","style","className","name","size","helperText","label","inputType","readOnly","textAreaRef","t","open","setOpen","handleClose","reason","copyToClipboard","select","execCommand","handleChange","target","handleNumberChange","flexGrow","inputProps","variant","inputRef","queryCommandSupported","vertical","horizontal","NumberSubscript","subscript","noBraces","a11yProps","TabPanel","other","textarea","createElement","body","appendChild","removeChild","darkTheme","createMuiTheme","main","AppTheme","availableThemes","Dark","Light","lightTheme","getTheme","array","chunkSize","resultArray","chunkIndex","clean","obj","v","comparer","n2","_","toReplace","replacement","predicate","lastFromRightMatching","lastFromLeftMatching","callback","bconv","lazy","drawerWidth","root","appBar","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","easeOut","enteringScreen","menuButton","marginRight","hide","drawer","flexShrink","drawerPaper","drawerHeader","mixins","toolbar","contentShift","App","useSelector","selectAppTheme","handleDrawerOpen","handleDrawerClose","clsx","paper","HomeView","AssociatedBaseConverterView","ComplementConverterView","FloatConverterView","PositionalCalculatorView","card","equation","AssociatedBaseConversionDetails","outputStr","setConversion","useConverterStyles","newConversion","setValue","newValue","verticalSpacer","AssociatedBaseConverter","onConversionChange","showComplement","selectShowComplement","showDecimalValue","selectShowDecimalValue","initialValues","onSubmit","validateBase","minBase","maxBase","validateValueStr","validate","errors","form","useFormik","inputValue","setInputValue","setInputBase","possibleOutputBases","setPossibleOutputBases","getDecimal","useCallback","e","options","handleInputBaseChange","newInputBase","handleInputStrChange","handleSubmit","horizontalSpacer","ConversionOptions","dispatch","useDispatch","setShowDecimalValue","setShowComplement","digitBox","rootDigitsRow","digitsRow","mappingsBox","mappingsBoxBorder","DigitMappingBox","ref","targetDigitsSource","rootDigitsSource","rootDigits","forceUpdate","targetDigits","targetId","targetAnchor","sourceAnchor","strokeColor","strokeWidth","strokeDasharray","arrowLength","arrowThickness","boxClassName","BinaryButton","colorStyle","backgroundColor","margin","ButtonRowComponent","handleButtonChange","newValues","buttons","FloatConverterComponent","initialNum","floatingNumber","setFloatingNumber","setSign","setExponent","setMantissa","rawValue","setRawValue","err","PartType","Sign","Exponent","Mantissa","Text","RepresentationPart","part","partEncoding","partValue","partType","fontWeight","LanguageMenu","anchorEl","setAnchorEl","handlePopoverClick","currentTarget","Boolean","changeLanguage","languageKey","getNativeName","AddAtPositionHoverContent","operand","carries","c","RepoLink","repoUrl","fontWeightRegular","SiderMenu","history","useHistory","ThemeMenu","currentTheme","toggleTheme","setTheme","paddingTop","OptionsActionsType","createAction","SetShowComplement","payload","SetShowDecimalValue","SetTheme","initialState","optionsInitialState","store","createStore","rootReducer","optionsReducer","createReducer","state","combineReducers","optionsState","createSelector","resources","en","translation","translationEN","pl","translationPL","use","initReactI18next","init","lng","fallbackLng","interpolation","escapeValue","ReactDOM","render"],"mappings":"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;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA;;AAEA;AACA;;AAEA,YAAY,2BAA2B;AACvC;AACA;;AAEA,YAAY,uBAAuB;AACnC;AACA;AACA,KAAK;AACL;;AAEA,YAAY,uBAAuB;AACnC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,gBAAgB,KAAwC,GAAG,sBAAiB,GAAG,SAAI;;AAEnF;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,kCAAkC;;AAElC;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,yDAAyD;AACzD,GAAG;;AAEH;;;AAGA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,wFAAwF;AACxF;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mBAAmB,mBAAmB;AACtC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,oBAAoB,uBAAuB;AAC3C;;AAEA;AACA,uBAAuB,4BAA4B;AACnD;AACA;;AAEA;AACA;AACA;AACA;AACA,E;;;;;;;;;;;ACzRA,cAAc,mBAAO,CAAC,8PAAgJ;;AAEtK;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","file":"main.js","sourcesContent":["export * from './lib/calc-arithmetic';\r\n","export {\r\n    StandardBaseConverter,\r\n    fromNumber,\r\n    fromString,\r\n    Conversion,\r\n    ConversionToArbitrary,\r\n    ConversionToDecimal,\r\n    ConversionType,\r\n    AssociatedBaseConversion\r\n} from './positional/base-converter';\r\n\r\nexport {\r\n    addPositionalNumbers,\r\n} from './positional/addition'\r\n\r\nexport {\r\n    convertUsingAssociatedBases\r\n} from './positional/associated-base-converter';\r\n\r\nexport {\r\n    PositionResult,\r\n    Digit,\r\n    AdditionResult\r\n} from './models'\r\n\r\nexport {\r\n    NumberComplement,\r\n    PositionalNumber,\r\n    Digits\r\n} from './positional/representations';\r\n\r\nexport { ComplementConverter } from './positional/complement-converter';\r\n\r\nexport {\r\n    FloatConverter,\r\n    FloatingRepresentation,\r\n    SingleRepresentation,\r\n    DoubleRepresentation,\r\n    FloatProperty\r\n} from './floating/float-converter';\r\n\r\nexport {\r\n    isValidString,\r\n} from './helpers/conversion-helpers'\r\n\r\nexport {\r\n    BaseDigits\r\n} from './positional/base-digits'\r\nexport { DigitMapping } from './models/digit-mapping';\r\nexport { AssociatedBaseConversionDetails } from './models/associated-base-conversion-details';\r\n","import { fromString } from '../positional/base-converter';\r\nimport { chunks } from '@calc/utils';\r\n\r\nconst Buffer = require('buffer/').Buffer;\r\n\r\nexport enum FloatProperty {\r\n    Normalized,\r\n    Denormalized,\r\n    PositiveInfinity,\r\n    NegativeInfinity,\r\n    PositiveZero,\r\n    NegativeZero,\r\n    NAN\r\n}\r\n\r\nexport class FloatConverter {\r\n    public static ToSingle(val: number | string): SingleRepresentation {\r\n        const str =\r\n            typeof val === 'number' ? this.SingleToBinaryString(val) : val;\r\n        return new SingleRepresentation(str);\r\n    }\r\n\r\n    public static ToDouble(val: number | string): DoubleRepresentation {\r\n        const str =\r\n            typeof val === 'number' ? this.DoubleToBinaryString(val) : val;\r\n        return new DoubleRepresentation(str);\r\n    }\r\n\r\n    public static DoubleToBinaryString(d: number): string {\r\n        const buffer = new ArrayBuffer(8);\r\n        const doubleView = new Float64Array(buffer);\r\n        const intView = new Int32Array(buffer);\r\n        doubleView[0] = d;\r\n        let low = (intView[0] >>> 0).toString(2);\r\n        let high = (intView[1] >>> 0).toString(2);\r\n        low = low.padStart(32, '0');\r\n        high = high.padStart(32, '0');\r\n        return high + low;\r\n    }\r\n\r\n    public static BinaryStringToDouble(s: string): number {\r\n        const low = Number.parseInt(s.substr(0, 32), 2);\r\n        const high = Number.parseInt(s.substr(32), 2);\r\n        const buffer = new Buffer(8);\r\n        buffer.writeInt32BE(low, 0);\r\n        buffer.writeInt32BE(high, 4);\r\n        return buffer.readDoubleBE(0);\r\n    }\r\n\r\n    public static SingleToBinaryString(f: number): string {\r\n        const buffer = new ArrayBuffer(4);\r\n        const intView = new Int32Array(buffer);\r\n        const floatView = new Float32Array(buffer);\r\n        floatView[0] = f;\r\n        return (intView[0] >>> 0).toString(2).padStart(32, '0');\r\n    }\r\n\r\n    public static BinaryStringToSingle(s: string): number {\r\n        const byteChunks = chunks(s.split(''), 8)\r\n            .map((chunk) => chunk.join(''));\r\n\r\n        let offset = 0;\r\n        const buffer = new Buffer(4);\r\n        byteChunks.forEach((byteStr) => {\r\n            let byte = Number.parseInt(byteStr, 2);\r\n            if (byte > 127) byte -= 256;\r\n            buffer.writeInt8(byte, offset);\r\n            offset += 1;\r\n        });\r\n\r\n        return buffer.readFloatBE(0);\r\n    }\r\n\r\n    public static getProperty(\r\n        representation: FloatingRepresentation\r\n    ): FloatProperty {\r\n        if (this.isPositiveZero(representation)) {\r\n            return FloatProperty.PositiveZero;\r\n        }\r\n        if (this.isNegativeZero(representation)) {\r\n            return FloatProperty.NegativeZero;\r\n        }\r\n        if (this.isPositiveInfinity(representation)) {\r\n            return FloatProperty.PositiveInfinity;\r\n        }\r\n        if (this.isNegativeInfinity(representation)) {\r\n            return FloatProperty.NegativeInfinity;\r\n        }\r\n        if (this.isDenormalized(representation)) {\r\n            return FloatProperty.Denormalized;\r\n        }\r\n        if (this.IsNAN(representation)) {\r\n            return FloatProperty.NAN;\r\n        }\r\n        return FloatProperty.Normalized;\r\n    }\r\n\r\n    public static isPositiveZero(\r\n        representation: FloatingRepresentation\r\n    ): boolean {\r\n        return (\r\n            representation.sign === '0' &&\r\n            /^0*$/.test(representation.exponent) &&\r\n            /^0*$/.test(representation.mantissa)\r\n        );\r\n    }\r\n\r\n    public static isNegativeZero(\r\n        representation: FloatingRepresentation\r\n    ): boolean {\r\n        return (\r\n            representation.sign === '1' &&\r\n            /^0*$/.test(representation.exponent) &&\r\n            /^0*$/.test(representation.mantissa)\r\n        );\r\n    }\r\n\r\n    public static isDenormalized(\r\n        representation: FloatingRepresentation\r\n    ): boolean {\r\n        return (\r\n            /^0*$/.test(representation.exponent) &&\r\n            !/^0*$/.test(representation.mantissa)\r\n        );\r\n    }\r\n\r\n    public static isPositiveInfinity(\r\n        representation: FloatingRepresentation\r\n    ): boolean {\r\n        return (\r\n            representation.sign === '0' &&\r\n            /^1*$/.test(representation.exponent) &&\r\n            /^0*$/.test(representation.mantissa)\r\n        );\r\n    }\r\n\r\n    public static isNegativeInfinity(\r\n        representation: FloatingRepresentation\r\n    ): boolean {\r\n        return (\r\n            representation.sign === '1' &&\r\n            /^1*$/.test(representation.exponent) &&\r\n            /^0*$/.test(representation.mantissa)\r\n        );\r\n    }\r\n\r\n    public static IsNAN(representation: FloatingRepresentation): boolean {\r\n        return (\r\n            /^1*$/.test(representation.exponent) &&\r\n            !/^0*$/.test(representation.mantissa)\r\n        );\r\n    }\r\n}\r\n\r\nexport abstract class FloatingRepresentation {\r\n    public exponentLength = 8;\r\n    public mantissaLength = 23;\r\n    public binaryLength = 32;\r\n    public bias = 127;\r\n    public binary = '';\r\n\r\n    abstract get value(): number;\r\n\r\n    abstract get sign(): string;\r\n\r\n    abstract get exponent(): string;\r\n\r\n    abstract get mantissa(): string;\r\n\r\n    abstract get exponentEncoding(): number;\r\n\r\n    abstract get mantissaEncoding(): number;\r\n\r\n    abstract get exponentValue(): number;\r\n\r\n    abstract get mantissaValue(): number;\r\n}\r\n\r\nexport class SingleRepresentation extends FloatingRepresentation {\r\n    constructor(str: string) {\r\n        super();\r\n        this.binary = str;\r\n    }\r\n\r\n    get value() {\r\n        return FloatConverter.BinaryStringToSingle(this.binary);\r\n    }\r\n\r\n    get sign() {\r\n        return this.binary[0];\r\n    }\r\n\r\n    get signEncoding() {\r\n        return this.binary[0];\r\n    }\r\n\r\n    get signValue() {\r\n        return this.binary[0] === '0' ? '+1' : '-1';\r\n    }\r\n\r\n    get exponent() {\r\n        return this.binary.substr(1, this.exponentLength);\r\n    }\r\n\r\n    get mantissa() {\r\n        return this.binary.substr(1 + this.exponentLength, this.mantissaLength);\r\n    }\r\n\r\n    get exponentEncoding() {\r\n        return Number.parseInt(this.exponent, 2);\r\n    }\r\n\r\n    get mantissaEncoding() {\r\n        return Number.parseInt('0' + this.mantissa, 2);\r\n    }\r\n\r\n    get exponentValue() {\r\n        return this.exponentEncoding - this.bias;\r\n    }\r\n\r\n    get mantissaValue() {\r\n        return fromString(\r\n            '1.' + this.mantissa,\r\n            2,\r\n            10\r\n        ).result.decimalValue.toNumber();\r\n    }\r\n}\r\n\r\nexport class DoubleRepresentation extends SingleRepresentation {\r\n    public exponentLength = 11;\r\n    public mantissaLength = 52;\r\n    public binaryLength = 64;\r\n    public bias = 1023;\r\n\r\n    get value() {\r\n        return FloatConverter.BinaryStringToDouble(this.binary);\r\n    }\r\n}\r\n","import BigNumber from 'bignumber.js';\r\nimport { BaseDigits } from '../positional/base-digits';\r\nimport { Digits } from '../positional/representations';\r\nimport { Digit } from '../models';\r\nimport { replaceAll } from '@calc/utils';\r\n\r\n/**\r\n *  Splits the representation string into digits array\r\n * @param str\r\n * @param base\r\n */\r\nexport function representationStrToStrArray(\r\n    str: string,\r\n    base: number\r\n): string[] {\r\n    return str.split(base <= 36 ? '' : ' ');\r\n}\r\n\r\n/**\r\n * Generates regex pattern that matches any number in positional system specified by base\r\n * @param base Base (radix) of a positional system, must in range <2-36>\r\n * @returns regex pattern string for given base\r\n */\r\nexport function getRepresentationRegexPattern(base: number): string {\r\n    if (base > 36) {\r\n        throw new Error(\r\n            'Matching characters by regex only supporter for bases 2- 36'\r\n        );\r\n    }\r\n    let pattern = '';\r\n    if (base <= 10) {\r\n        // All characters that optionally start with -, are between 0 - given number\r\n        // and might have . in between\r\n        pattern = '^-?[0-#]+([.][0-#]+)?$';\r\n        pattern = replaceAll(\r\n            pattern,\r\n            '#',\r\n            BaseDigits.getDigit(base - 1, base)[0]\r\n        );\r\n    } else {\r\n        // All characters that optionally start with -, are between 0 - 9 or A - last character of representation\r\n        // and might . in between\r\n        pattern = '^-?[0-9A-#]+([.][0-9A-#]+)?$';\r\n        pattern = replaceAll(\r\n            pattern,\r\n            '#',\r\n            BaseDigits.getDigit(base - 1, base)[0]\r\n        );\r\n    }\r\n    return pattern;\r\n}\r\n\r\n/**\r\n * Removes any digits that represent value 0 from the end of digit array\r\n * @param digits\r\n */\r\nexport function removeZeroDigits(digits: string[]): string[] {\r\n    let invalidDigitCount = 0;\r\n    for (let i = digits.length - 1; i >= 0; i--) {\r\n        if (digits[i] === '0' || digits[i] === '00') {\r\n            invalidDigitCount++;\r\n        } else {\r\n            break;\r\n        }\r\n    }\r\n    return digits.slice(0, digits.length - invalidDigitCount);\r\n}\r\n\r\n/**\r\n * Checks whether string can be interpreted as number in some positional system\r\n * specified by base\r\n * @param str number string\r\n * @param base base of positional system\r\n */\r\nexport function isValidString(str: string, base: number): boolean {\r\n    if (base <= 36) {\r\n        const re = new RegExp(getRepresentationRegexPattern(base));\r\n        return re.test(str);\r\n    }\r\n    if (str[0] === '-') {\r\n        str = str.substr(1);\r\n    }\r\n    const strList = str.replace('.', ' ').split(' ');\r\n    return strList.some(digit => {\r\n        const num = parseInt(digit, 10);\r\n        return !Number.isNaN(num) && num < base;\r\n    });\r\n}\r\n\r\n/**\r\n * Converts arbitrary base integer to decimal\r\n * @param repStr number representation string\r\n * @param base the base of repStr\r\n */\r\nexport function arbitraryIntegralToDecimal(\r\n    repStr: string,\r\n    base: number\r\n): BigNumber {\r\n    if (isValidString(repStr, base)) {\r\n        let result = new BigNumber(0);\r\n        let multiplier = 1;\r\n        // While converting, the numbers are assumed to be unsigned\r\n        // Detect and remember if number was negative\r\n        if (repStr.charAt(0) === '-') {\r\n            repStr = repStr.substr(1);\r\n            multiplier = -1;\r\n        }\r\n        // Digits at positions in some representation are represented by multiple characters,\r\n        // so it's necessary to convert valueString to list of strings\r\n        const strArr = representationStrToStrArray(repStr, base);\r\n        // The value at each position is calculated by taking the value of digit\r\n        // and multiplying it by the base of number to the power of exponent\r\n\r\n        // The exponents at positions are as follows:\r\n        // For number 531\r\n        // Exponents:  ...2 1 0\r\n        // Digits:        5 3 1\r\n        // So the starting value of exponent is the count of elements in lis -1\r\n        const exponent = strArr.length - 1;\r\n        for (let i = 0; i <= exponent; i++) {\r\n            result = result.plus(\r\n                new BigNumber(\r\n                    BaseDigits.getValue(strArr[i], base) *\r\n                        Math.pow(base, exponent - i)\r\n                )\r\n            );\r\n        }\r\n        return result.multipliedBy(multiplier);\r\n    }\r\n    throw new Error('Invalid string for given base');\r\n}\r\n\r\n/**\r\n * Converts decimal integer to arbitrary base integer. Returns the digits of\r\n * resulting number as string array and all the intermediate steps of conversion\r\n * (dividends/quotients) as second string array.\r\n * @param num number to convert\r\n * @param base result base\r\n * @returns arr[0] - digits, arr[1] - steps\r\n */\r\nexport function decimalIntegerToArbitrary(\r\n    num: BigNumber,\r\n    base: number\r\n): [Digits, string[]] {\r\n    if (num.isZero()) {\r\n        return [new Digits([BaseDigits.getDigit(0, base)], base), []];\r\n    }\r\n    const remainders: string[] = [];\r\n    const resultDigits: string[] = [];\r\n    let currentNum = num.abs();\r\n    while (!currentNum.isZero()) {\r\n        remainders.push(currentNum.toString());\r\n        const remainder = currentNum.mod(base);\r\n        resultDigits.push(BaseDigits.getDigit(remainder.toNumber(), base));\r\n        currentNum = currentNum.dividedToIntegerBy(base);\r\n    }\r\n    return [new Digits(resultDigits.reverse(), base), remainders];\r\n}\r\n\r\nexport function decimalFractionToArbitrary(\r\n    fraction: BigNumber,\r\n    base: number,\r\n    precision = 30\r\n): [Digits, string[]] {\r\n    if (fraction.isZero()) {\r\n        return [new Digits([], base), []];\r\n    }\r\n    if (fraction.isNegative()) {\r\n        fraction = fraction.negated();\r\n    }\r\n    let result: string[] = [];\r\n    let num = new BigNumber(0);\r\n    let fractionPart: BigNumber;\r\n    let wholePart = 0;\r\n    let fractions: string[] = [];\r\n    fractionPart = fraction;\r\n    for (let i = 0; i < precision; i++) {\r\n        fractions.push(fractionPart.toString());\r\n        num = fractionPart.multipliedBy(base);\r\n        fractions.push(num.toString());\r\n        fractionPart = num.mod(1);\r\n        wholePart = num.minus(fractionPart).toNumber();\r\n        result.push(BaseDigits.getDigit(wholePart, base));\r\n    }\r\n    result = removeZeroDigits(result);\r\n    fractions = removeZeroDigits(fractions);\r\n    return [new Digits(result, base), fractions];\r\n}\r\n\r\n/**\r\n * Converts fractional-part of number in some positional system specified by\r\n * base to decimal\r\n * @param fractionStr\r\n * @param base\r\n * @returns fractional-part of number in decimal\r\n */\r\nexport function arbitraryFractionToDecimal(\r\n    fractionStr: string,\r\n    base: number\r\n): BigNumber {\r\n    let decimalFraction = new BigNumber(0.0);\r\n    let exponent = 1.0;\r\n    const strArr = representationStrToStrArray(fractionStr, base);\r\n    // The exponents at positions in fraction are as follows:\r\n    // For fraction  0.531\r\n    // Exponents:  0  . -1 -2 -3\r\n    // Digits:     0  .  5  3  1\r\n    for (const digit of strArr) {\r\n        decimalFraction = decimalFraction.plus(\r\n            BaseDigits.getValue(digit, base) * Math.pow(base, exponent * -1)\r\n        );\r\n        exponent++;\r\n    }\r\n    return decimalFraction;\r\n}\r\n\r\n/**\r\n * Checks whether string contains delimiter\r\n * @param str\r\n */\r\nexport function isFloatingPointStr(str: string): boolean {\r\n    return str.includes('.');\r\n}\r\n\r\n/**\r\n * Splits input BigNumber into integer part and fractional part digit arrays.\r\n * Skips sign, if the number is negative.\r\n * @param  num Number to split\r\n * @param base\r\n * @returns Array of two string arrays - arr[0] - digits of integer part, arr[1] - digits of fractional part\r\n */\r\nexport function splitToPartsArr(\r\n    num: BigNumber | number | string,\r\n    base = 10\r\n): [string[], string[]] {\r\n    let integerPart: string[] = [];\r\n    let fractionalPart: string[] = [];\r\n    let digits = typeof num === 'string' ? num : num.toString();\r\n    const separator = base > 36 ? ' ' : '';\r\n    if (digits.charAt(0) === '-') {\r\n        digits = digits.substring(1);\r\n    }\r\n    if (digits.includes('.')) {\r\n        // Number has non zero fraction part\r\n        fractionalPart = digits.split('.')[1].split(separator);\r\n    }\r\n    integerPart = digits.split('.')[0].split(separator);\r\n    return [integerPart, fractionalPart];\r\n}\r\n\r\nexport function splitToDigits(\r\n    num: BigNumber | number | string,\r\n    base = 10\r\n): [Digits, Digits] {\r\n    const result = splitToPartsArr(num, base);\r\n    return [new Digits(result[0], base), new Digits(result[1], base)];\r\n}\r\n\r\nexport function splitToDigitsList( num: BigNumber | number | string,  base = 10): Digit[] {\r\n    const [integerPart, fractionalPart] = splitToPartsArr(num, base);\r\n    return [\r\n        ...integerPart.map((digit, index) => {\r\n            return {\r\n                valueInDecimal: BaseDigits.getValue(digit, base),\r\n                base,\r\n                position: integerPart.length - 1 - index,\r\n                valueInBase: digit\r\n            }\r\n        }),\r\n        ...fractionalPart.map((digit, index) => {\r\n            return {\r\n                valueInDecimal: BaseDigits.getValue(digit, base),\r\n                base,\r\n                position: -1 * (index + 1),\r\n                valueInBase: digit\r\n            }\r\n        })\r\n    ]\r\n}\r\n","\r\nimport { BaseDigits } from './base-digits';\r\nimport { PositionalNumber } from './representations';\r\nimport { fromNumber, fromString } from './base-converter';\r\nimport { AdditionResult, Digit, Operand, PositionResult } from '../models';\r\n\r\nexport function addPositionalNumbers(numbers: PositionalNumber[]): AdditionResult {\r\n    if(!areSameBaseNumbers(numbers)) {\r\n        throw Error('Numbers to add must have same base');\r\n    }\r\n    const numbersAsDigits = numbers.map((number) => number.toDigitsList());\r\n    return addDigitsArrays(numbersAsDigits);\r\n}\r\n\r\nexport function areSameBaseNumbers(numbers: PositionalNumber[]): boolean {\r\n    const base = numbers[0].base;\r\n    return numbers.map((num) => num.base).every((numBase) => numBase === base);\r\n}\r\n\r\nexport function addDigitsArrays(digits: Operand[][]): AdditionResult {\r\n    const carryLookup: Record<number, Operand[]> = {};\r\n    const digitsPositionLookup: Record<number, Operand>[] = digits.map(toDigitMap);\r\n    const { mostSignificantPosition, leastSignificantPosition } = findPositionRange(digits);\r\n    const result: PositionResult[] = [];\r\n\r\n    let currentPosition = leastSignificantPosition;\r\n    let mostSignificant = mostSignificantPosition;\r\n\r\n    while(currentPosition <= mostSignificant) {\r\n        const allDigitsAtCurrentPosition: Operand[] = digitsPositionLookup\r\n            .map((digits) => digits[currentPosition])\r\n            .filter((digit) => !!digit);\r\n\r\n        const allCarriesAtCurrentPosition = carryLookup[currentPosition] || [];\r\n        const digitsToAdd = [\r\n            ...allCarriesAtCurrentPosition.map((carry) => ({...carry, isCarry: true })),\r\n            ...allDigitsAtCurrentPosition\r\n        ];\r\n\r\n        const positionResult = addDigitsAtPosition(digitsToAdd, currentPosition);\r\n\r\n        positionResult.carry.forEach((carry) => {\r\n            if(carryLookup[carry.position]) {\r\n                carryLookup[carry.position].push(carry);\r\n            } else {\r\n                carryLookup[carry.position] = [carry]\r\n            }\r\n        });\r\n\r\n        const mostSignificantCarryPosition = positionResult.carry[0]\r\n            ? positionResult.carry[0].position\r\n            : undefined;\r\n\r\n        if(mostSignificantCarryPosition && mostSignificantCarryPosition > mostSignificantPosition) {\r\n            mostSignificant = mostSignificantCarryPosition;\r\n        }\r\n        result.push(positionResult);\r\n        currentPosition += 1;\r\n    }\r\n\r\n    const resultDigits = extractResultDigitsFromPositionResults(result);\r\n    const numberResult = buildPositionalNumberFromDigits(resultDigits);\r\n\r\n    return {\r\n        positionResults: result,\r\n        resultDigits,\r\n        numberResult,\r\n        operands: digits\r\n    };\r\n}\r\n\r\nexport function findPositionRange(allDigits: Digit[][]): { mostSignificantPosition: number; leastSignificantPosition: number } {\r\n    const allMostSignificant = allDigits.map((digits) => digits[0].position);\r\n    const allLeastSignificant = allDigits.map((digits) => digits[digits.length - 1].position);\r\n\r\n    return {\r\n        mostSignificantPosition: Math.max(...allMostSignificant),\r\n        leastSignificantPosition: Math.min(...allLeastSignificant)\r\n    };\r\n}\r\n\r\nexport function buildPositionalNumberFromDigits(resultDigits: Digit[]): PositionalNumber {\r\n    let representationStr = '';\r\n    const base = resultDigits[0].base;\r\n\r\n    resultDigits.forEach((digit) => {\r\n        const firstFractionalPartDigitIndex = -1;\r\n        if(digit.position === firstFractionalPartDigitIndex) representationStr += '.';\r\n        representationStr += digit.valueInBase;\r\n    });\r\n\r\n    return fromString(representationStr, base, base).result;\r\n}\r\n\r\nexport function extractResultDigitsFromPositionResults(positionResults: PositionResult[]): Digit[] {\r\n    const digitsFromPositions = positionResults.map((res) => res.valueAtPosition);\r\n    const carryDigitsNotConsideredInResult: Digit[] = [];\r\n\r\n    positionResults.forEach((result) => {\r\n        const missingCarryDigits = result.carry.filter((dgt) => {\r\n            return !digitsFromPositions.find((posDgt) => dgt.position === posDgt.position);\r\n        });\r\n\r\n        carryDigitsNotConsideredInResult.push(...missingCarryDigits)\r\n    });\r\n\r\n    return [...carryDigitsNotConsideredInResult.reverse(), ...digitsFromPositions.reverse()]\r\n}\r\n\r\nfunction toDigitMap(digits: Digit[]): Record<number, Digit> {\r\n    return digits.reduce((digitMap, digit) => {\r\n        digitMap[digit.position] = digit;\r\n        return digitMap;\r\n    }, {});\r\n}\r\n\r\nexport function addDigitsAtPosition(digits: Digit[], position: number): PositionResult {\r\n    const base = digits[0].base;\r\n\r\n    if(!digits.length) {\r\n        return {\r\n            carry: [],\r\n            valueAtPosition: {\r\n                valueInBase: BaseDigits.getDigit(0, base),\r\n                valueInDecimal: 0,\r\n                position: position,\r\n                base\r\n            },\r\n            operands: []\r\n        }\r\n    }\r\n\r\n    const decimalSum = digits.reduce((sum, digit) => {\r\n        return sum + digit.valueInDecimal;\r\n    }, 0);\r\n\r\n    const decimalPositionValue = decimalSum % base;\r\n    const valueInBase = BaseDigits.getDigit(decimalPositionValue, base);\r\n    const decimalCarry = (decimalSum - decimalPositionValue) / base;\r\n\r\n    const valueAtPosition: Digit = {\r\n        base,\r\n        valueInBase: valueInBase,\r\n        valueInDecimal: decimalPositionValue,\r\n        position: position\r\n    };\r\n\r\n    if (!decimalCarry) return { valueAtPosition, carry: [], operands: digits };\r\n\r\n    return {\r\n        valueAtPosition,\r\n        carry: carryToDigits(decimalCarry, base, position + 1),\r\n        operands: digits\r\n    };\r\n}\r\n\r\nfunction carryToDigits(decimalValue: number, base: number, startingPosition: number): Digit[] {\r\n    const { result } = fromNumber(decimalValue, base);\r\n\r\n    return result.toDigitsList()\r\n        .filter(isNonZeroDigit)\r\n        .map((digit) => ({ ...digit, position: digit.position + startingPosition }));\r\n}\r\n\r\nfunction isNonZeroDigit(digit: Digit): boolean {\r\n    return digit.valueInDecimal != 0;\r\n}\r\n","import { AssociatedBaseConversion, Conversion, fromDigits, fromNumber, fromString } from './base-converter';\r\nimport { chunks, chunksFromEnd, logBase, trimEndByPredicate, trimStartByPredicate } from '@calc/utils';\r\nimport { Digit } from '../models';\r\nimport { BaseDigits } from './base-digits';\r\nimport { DigitMapping } from '../models/digit-mapping';\r\nimport { AssociatedBaseConversionDetails } from '../models/associated-base-conversion-details';\r\n\r\nexport function convertUsingAssociatedBases(\r\n    valueStr: string,\r\n    inputBase: number,\r\n    resultBase: number\r\n): Conversion {\r\n    if (!BaseDigits.canConvertUsingAssociateBaseMethod(inputBase, resultBase)) {\r\n        throw new Error(\r\n            `Cannot convert from base ${inputBase} to ${resultBase}\r\n             using associate base methods. Possible output bases are\r\n             ${BaseDigits.getAllPossibleBasesForAssociateConversion(inputBase)}`\r\n        );\r\n    }\r\n\r\n    const inputNum = fromString(valueStr, inputBase, inputBase).result;\r\n    const digits = inputNum.toDigitsList();\r\n\r\n    const details = mapToAssociatedBaseDigits(digits, resultBase);\r\n    const num = fromDigits(details.resultDigits, inputNum.isNegative).result;\r\n    const conv = new Conversion();\r\n\r\n    conv.addStage(\r\n        new AssociatedBaseConversion(\r\n            [valueStr, inputBase],\r\n            num,\r\n            details\r\n        )\r\n    );\r\n\r\n    return conv;\r\n}\r\n\r\nexport function mapToAssociatedBaseDigits(digits: Digit[], outputBase: number): AssociatedBaseConversionDetails {\r\n    const inputBase = digits[0].base;\r\n\r\n    if (inputBase > outputBase) {\r\n        const mappings = digits.map((digit) => splitToSmallerBaseDigits(digit, outputBase));\r\n        const strippedMappings = stripRedundantZeroDigits(mappings);\r\n        return {\r\n            positionMappings: strippedMappings,\r\n            resultDigits: strippedMappings.reduce((arr, mapping) => {\r\n                return [...arr, ...mapping.output];\r\n            }, [])\r\n        };\r\n    } else {\r\n        const integerPart = digits.filter((digit) => digit.position >= 0);\r\n        const fractionalPart = digits.filter((digit) => digit.position < 0);\r\n        const numDigitsPerPosition = Math.round(logBase(outputBase, inputBase));\r\n\r\n        const reducedIntegerPart: DigitMapping[] = chunksFromEnd(integerPart, numDigitsPerPosition)\r\n            .map((chunk) => reduceToGreaterBaseDigit(chunk, outputBase));\r\n\r\n        const reducedFractionalPart = chunks(fractionalPart, numDigitsPerPosition)\r\n            .map((chunk) => reduceToGreaterBaseDigit(chunk, outputBase));\r\n\r\n        const mappings = [...reducedIntegerPart, ...reducedFractionalPart];\r\n        const strippedMappings = stripRedundantZeroDigits(mappings);\r\n\r\n        return {\r\n            positionMappings: strippedMappings,\r\n            resultDigits: strippedMappings.reduce((arr, mapping) => {\r\n                return [...arr, ...mapping.output];\r\n            }, [])\r\n        };\r\n    }\r\n}\r\n\r\nexport function splitToSmallerBaseDigits(digit: Digit, outputBase: number): DigitMapping {\r\n    const { valueInDecimal, base, position } = digit;\r\n    const numDigitsPerPosition = Math.round(logBase(base, outputBase));\r\n\r\n    const meaningfulDigits = fromNumber(valueInDecimal, outputBase)\r\n        .result\r\n        .toDigitsList()\r\n        .map((digit) => {\r\n            return ({ ...digit, position: 0 });\r\n        });\r\n\r\n    const numOfZeroDigitsMissing = numDigitsPerPosition - meaningfulDigits.length;\r\n\r\n    const missingZeroDigits: Digit[] = [...Array(numOfZeroDigitsMissing)].map(() => {\r\n        return {\r\n            base: outputBase,\r\n            position: 0,\r\n            valueInDecimal: 0,\r\n            valueInBase: BaseDigits.getDigit(0, outputBase)\r\n        };\r\n    });\r\n\r\n    const output: Digit[] = [...missingZeroDigits, ...meaningfulDigits].map((digit, positionInChunk) => {\r\n        return {\r\n            ...digit,\r\n            position: getSmallerDigitsPositionInChunk(\r\n                numDigitsPerPosition,\r\n                position,\r\n                positionInChunk\r\n            )\r\n        };\r\n    });\r\n\r\n    return {\r\n        input: [digit],\r\n        output\r\n    };\r\n}\r\n\r\nfunction getSmallerDigitsPositionInChunk(numDigitsPerPosition: number, greaterDigitPosition: number, relativePositionInChunk: number) {\r\n    return (greaterDigitPosition + 1) * numDigitsPerPosition - (relativePositionInChunk + 1);\r\n}\r\n\r\nfunction stripRedundantZeroDigits(mappings: DigitMapping[]): DigitMapping[] {\r\n    const result = [...mappings];\r\n    const lastMappingIndex = mappings.length -1;\r\n    result[0] = removeZeroDigitsFromFirstMapping(result[0]);\r\n    result[lastMappingIndex] = removeZeroDigitsFromLastMapping(result[lastMappingIndex]);\r\n\r\n    return result;\r\n}\r\n\r\nfunction isZeroDigit(digit: Digit): boolean {\r\n    return digit.valueInDecimal === 0;\r\n}\r\n\r\nfunction removeZeroDigitsFromFirstMapping(mapping: DigitMapping): DigitMapping {\r\n    const { output, input } = mapping;\r\n    const areAllMappingDigitZeros = output.every(isZeroDigit);\r\n\r\n    return {\r\n        input,\r\n        output: areAllMappingDigitZeros\r\n            ? output.slice(0, 1)\r\n            : trimStartByPredicate(output, isZeroDigit)\r\n    }\r\n}\r\n\r\nfunction removeZeroDigitsFromLastMapping(mapping: DigitMapping): DigitMapping {\r\n    const { output, input } = mapping;\r\n    return {\r\n        input,\r\n        output: trimEndByPredicate(output, isZeroDigit)\r\n    }\r\n}\r\n\r\nexport function reduceToGreaterBaseDigit(digits: Digit[], outputBase: number): DigitMapping {\r\n    const inputBase = digits[0].base;\r\n    const numDigitsPerPosition = Math.round(logBase(outputBase, inputBase));\r\n    const resultPosition = (digits[digits.length - 1].position) / numDigitsPerPosition;\r\n\r\n    const digitsWithNormalizedPositions = digits.map((digit, position) => ({ ...digit, position }));\r\n\r\n    const combinedDigitValue = fromDigits(digitsWithNormalizedPositions)\r\n        .result\r\n        .decimalValue\r\n        .toNumber();\r\n\r\n    const digitInOutputBase = BaseDigits.getDigit(combinedDigitValue, outputBase);\r\n\r\n    return {\r\n        input: digits,\r\n        output: [\r\n            {\r\n                valueInBase: digitInOutputBase,\r\n                base: outputBase,\r\n                valueInDecimal: combinedDigitValue,\r\n                position: resultPosition\r\n            }\r\n        ]\r\n    };\r\n}\r\n","import BigNumber from 'bignumber.js';\r\nimport {\r\n    arbitraryFractionToDecimal,\r\n    arbitraryIntegralToDecimal,\r\n    decimalFractionToArbitrary,\r\n    decimalIntegerToArbitrary,\r\n    isFloatingPointStr,\r\n    isValidString,\r\n    splitToDigitsList,\r\n    splitToPartsArr\r\n} from '../helpers/conversion-helpers';\r\nimport { ComplementConverter } from './complement-converter';\r\nimport { PositionalNumber } from './representations';\r\nimport { Digit } from '../models';\r\nimport { AssociatedBaseConversionDetails } from '../..';\r\n\r\nexport enum ConversionType {\r\n    DIRECT = 'direct',\r\n    INDIRECT = 'indirect'\r\n}\r\n\r\nexport class Conversion {\r\n    public stages: ConversionStage[] = [];\r\n    public type: ConversionType = ConversionType.DIRECT;\r\n\r\n    get result(): PositionalNumber {\r\n        return this.stages[this.stages.length - 1].result;\r\n    }\r\n\r\n    get resultNumDigits(): number {\r\n        return this.result.integerPart.length + this.result.fractionalPart.length;\r\n    }\r\n\r\n    get inputNumDigits(): number {\r\n        const [inputStr, base] = this.stages[0].input;\r\n        return  base >= 36 ? inputStr.split(' ').length : inputStr.length;\r\n    }\r\n\r\n    public addStage(stage: ConversionStage): void {\r\n        this.stages.push(stage);\r\n        this.assignConversionType();\r\n    }\r\n\r\n    public getStage(index: number): ConversionStage {\r\n        return this.stages[index];\r\n    }\r\n\r\n    public getLastStage(): ConversionStage {\r\n        return this.stages[this.stages.length -1];\r\n    }\r\n\r\n    public getFirstStage(): ConversionStage {\r\n        return this.stages[0];\r\n    }\r\n\r\n    public concatConversion(conversion: Conversion): void {\r\n        this.stages = this.stages.concat(conversion.stages);\r\n        this.assignConversionType();\r\n    }\r\n\r\n    private assignConversionType(): void {\r\n        this.type =\r\n            this.stages.length > 1\r\n                ? ConversionType.INDIRECT\r\n                : ConversionType.DIRECT;\r\n    }\r\n}\r\n\r\ninterface ConversionStage {\r\n    input: [string, number];\r\n    result: PositionalNumber;\r\n}\r\n\r\nexport class ConversionToDecimal implements ConversionStage {\r\n    public input: [string, number];\r\n    public result: PositionalNumber;\r\n    public inputDigitList: Digit[];\r\n\r\n    constructor(input: [string, number], result: PositionalNumber) {\r\n        this.input = input;\r\n        this.result = result;\r\n        this.inputDigitList = splitToDigitsList(input[0], input[1]);\r\n    }\r\n}\r\n\r\nexport class DirectConversion implements ConversionStage {\r\n    public input: [string, number];\r\n    public result: PositionalNumber;\r\n    public digitList: Digit[];\r\n\r\n    constructor(input: [string, number], result: PositionalNumber) {\r\n        this.input = input;\r\n        this.result = result;\r\n        this.digitList = splitToDigitsList(input[0], input[1]);\r\n    }\r\n}\r\n\r\nexport class ConversionToArbitrary extends ConversionToDecimal {\r\n    public integralDivisors: string[];\r\n    public fractionalMultipliers: string[];\r\n\r\n    constructor(\r\n        input: [string, number],\r\n        result: PositionalNumber,\r\n        divisors: string[],\r\n        multipliers: string[]\r\n    ) {\r\n        super(input, result);\r\n        this.integralDivisors = divisors;\r\n        this.fractionalMultipliers = multipliers;\r\n    }\r\n}\r\n\r\nexport class AssociatedBaseConversion implements ConversionStage {\r\n    public input: [string, number];\r\n    public result: PositionalNumber;\r\n    public details: AssociatedBaseConversionDetails;\r\n\r\n    constructor(input: [string, number], result: PositionalNumber, details: AssociatedBaseConversionDetails) {\r\n        this.input = input;\r\n        this.result = result;\r\n        this.details = details;\r\n    }\r\n}\r\n\r\nexport interface BaseConverter {\r\n    fromNumber(\r\n        num: number | BigNumber,\r\n        resultBase: number,\r\n        precision?: number\r\n    ): Conversion;\r\n\r\n    fromString(\r\n        valueStr: string,\r\n        inputBase: number,\r\n        resultBase: number,\r\n        precision?: number\r\n    ): Conversion;\r\n}\r\n\r\nexport class StandardBaseConverter implements BaseConverter {\r\n    public fromNumber(\r\n        num: number | BigNumber,\r\n        resultBase: number,\r\n        precision = 30\r\n    ): Conversion {\r\n        let decimalValue: BigNumber = new BigNumber(0);\r\n        if (typeof num === 'number') {\r\n            decimalValue = new BigNumber(num);\r\n        }\r\n        if (num instanceof BigNumber) {\r\n            decimalValue = num;\r\n        }\r\n        const sign = decimalValue.isNegative() ? '-' : '';\r\n        const fractionalPart = decimalValue.mod(1);\r\n        const integerPart = decimalValue.minus(fractionalPart);\r\n        const integerPartDigits = decimalIntegerToArbitrary(\r\n            integerPart,\r\n            resultBase\r\n        );\r\n        const fractionalPartDigits = decimalFractionToArbitrary(\r\n            fractionalPart,\r\n            resultBase,\r\n            precision\r\n        );\r\n        const repStr =\r\n            integerPartDigits[0].toString() + '.' + fractionalPartDigits[0];\r\n        const complement = ComplementConverter.getComplement(\r\n            sign + repStr,\r\n            resultBase\r\n        );\r\n        const result = new PositionalNumber(\r\n            integerPartDigits[0],\r\n            fractionalPartDigits[0],\r\n            resultBase,\r\n            decimalValue,\r\n            complement\r\n        );\r\n        const conversion = new Conversion();\r\n        conversion.addStage(\r\n            new ConversionToArbitrary(\r\n                [num.toString(), 10],\r\n                result,\r\n                integerPartDigits[1],\r\n                fractionalPartDigits[1]\r\n            )\r\n        );\r\n        return conversion;\r\n    }\r\n\r\n    public fromString(\r\n        valueStr: string,\r\n        inputBase: number,\r\n        resultBase: number,\r\n        precision = 30\r\n    ): Conversion {\r\n        if (!isValidString(valueStr, inputBase)) {\r\n            throw new Error(\r\n                `The string ${valueStr} does not match the input base ${inputBase}`\r\n            );\r\n        }\r\n\r\n        const conversion = new Conversion();\r\n        const decimalValue = StandardBaseConverter.getDecimalValue(valueStr, inputBase);\r\n\r\n        const complement = ComplementConverter.getComplement(\r\n            decimalValue.toString(),\r\n            resultBase\r\n        );\r\n        // Split into two str arrays - integral part digits arr and\r\n        // fractional part digits arr\r\n        const digits = splitToPartsArr(decimalValue);\r\n        const inputInDecimal = new PositionalNumber(\r\n            digits[0],\r\n            digits[1],\r\n            10,\r\n            decimalValue,\r\n            complement\r\n        );\r\n\r\n        conversion.addStage(\r\n            new ConversionToDecimal([valueStr, inputBase], inputInDecimal)\r\n        );\r\n        conversion.concatConversion(\r\n            this.fromNumber(inputInDecimal.decimalValue, resultBase)\r\n        );\r\n        return conversion;\r\n    }\r\n\r\n    public fromStringDirect(\r\n        valueStr: string,\r\n        inputBase: number,\r\n    ): Conversion {\r\n        if (!isValidString(valueStr, inputBase)) {\r\n            throw new Error(\r\n                `The string ${valueStr} does not match the input base ${inputBase}`\r\n            );\r\n        }\r\n        const conversion = new Conversion();\r\n\r\n        const digits = splitToPartsArr(valueStr, inputBase);\r\n        const decimalValue = StandardBaseConverter.getDecimalValue(valueStr, inputBase);\r\n        const complement = ComplementConverter.getComplement(valueStr, inputBase);\r\n\r\n        const inputInDecimal = new PositionalNumber(\r\n            digits[0],\r\n            digits[1],\r\n            inputBase,\r\n            decimalValue,\r\n            complement\r\n        );\r\n\r\n        conversion.addStage(\r\n            new DirectConversion([valueStr, inputBase], inputInDecimal)\r\n        );\r\n\r\n        return conversion;\r\n    }\r\n\r\n    public fromDigitsDirect(\r\n        digits: Digit[],\r\n        isNegative? : boolean\r\n    ): Conversion {\r\n        const valueStr = digits.reduce((str, digit) => {\r\n            return digit.position === -1\r\n                ? str.concat(`.${digit.valueInBase}`)\r\n                : str.concat(digit.valueInBase);\r\n        }, isNegative ? '-' : '');\r\n\r\n        const base = digits[0].base;\r\n\r\n        return this.fromStringDirect(valueStr, base)\r\n    }\r\n\r\n\r\n    private static getDecimalValue(valueStr: string, inputBase: number): BigNumber {\r\n        if (!isFloatingPointStr(valueStr)) {\r\n            return arbitraryIntegralToDecimal(valueStr, inputBase);\r\n        }\r\n\r\n        const valueParts = valueStr.split('.');\r\n        const integerPart = arbitraryIntegralToDecimal(\r\n            valueParts[0],\r\n            inputBase\r\n        );\r\n        let fractionalPart = arbitraryFractionToDecimal(\r\n            valueParts[1],\r\n            inputBase\r\n        );\r\n\r\n        // Make the fractionalPart negative if the integer part is also negative\r\n        // This is needed when both parts are added together to create whole value\r\n        if (integerPart.isNegative()) {\r\n            fractionalPart = fractionalPart.negated();\r\n        }\r\n\r\n        return integerPart.plus(fractionalPart);\r\n    }\r\n}\r\n\r\nexport function fromNumber(\r\n    num: number | BigNumber,\r\n    resultBase: number,\r\n    precision = 30,\r\n    converter: BaseConverter = new StandardBaseConverter()\r\n): Conversion {\r\n    return converter.fromNumber(num, resultBase, precision);\r\n}\r\n\r\nexport function fromString(\r\n    valueStr: string,\r\n    inputBase: number,\r\n    resultBase: number,\r\n    precision = 30,\r\n    converter: BaseConverter = new StandardBaseConverter()\r\n): Conversion {\r\n    const valueStrWithoutExtraSpaces =  valueStr.replace(/\\s+/g, ' ').trim();\r\n    return converter.fromString(valueStrWithoutExtraSpaces, inputBase, resultBase, precision);\r\n}\r\n\r\nexport function fromStringDirect(\r\n    valueStr: string,\r\n    inputBase: number,\r\n): Conversion {\r\n    const converter = new StandardBaseConverter();\r\n    const valueStrWithoutExtraSpaces =  valueStr.replace(/\\s+/g, ' ').trim();\r\n    return converter.fromStringDirect(valueStrWithoutExtraSpaces, inputBase);\r\n}\r\n\r\nexport function fromDigits(\r\n    digit: Digit[],\r\n    isNegative? : boolean,\r\n): Conversion {\r\n    const converter = new StandardBaseConverter();\r\n    return converter.fromDigitsDirect(digit, isNegative);\r\n}\r\n\r\n\r\n","import { logBase } from '@calc/utils';\r\n\r\n/**\r\n * Handles conversions digit <-> value for positional systems of different bases\r\n */\r\nexport class BaseDigits {\r\n    public static readonly MAX_BASE: number = 99;\r\n    public static readonly MIN_BASE: number = 2;\r\n    public static readonly defaultDigits: string =\r\n        '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ';\r\n\r\n    /**\r\n     * Checks whether base is between 2 and MAX_BASE\r\n     * @param base\r\n     */\r\n    public static isValidRadix(base: number): boolean {\r\n        return base >= this.MIN_BASE && base <= this.MAX_BASE;\r\n    }\r\n\r\n    /**\r\n     * Returns digit that has specified value in base\r\n     * @param value\r\n     * @param base\r\n     * @example getDigit(10, 16) will return 'A'\r\n     */\r\n    public static getDigit(value: number, base: number): string {\r\n        if (!this.isValidRadix(base)) {\r\n            throw new Error(`Base must be between ${this.MIN_BASE} and ${this.MAX_BASE}, but was \"${base}\"`);\r\n        }\r\n        if (value < base) {\r\n            if (base <= 36) {\r\n                return this.defaultDigits[value];\r\n            }\r\n            return value < 10 ? '0' + value.toString() : value.toString();\r\n        }\r\n        throw new Error(\r\n            `The value ${value} is not in range 0 - ${(base - 1).toString()}`\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Returns value of specified digit.\r\n     * @param digit must be number or uppercase letter\r\n     * @param base\r\n     * @example getValue('A', 16) will return 10\r\n     */\r\n    public static getValue(digit: string, base: number): number {\r\n        if (!this.isValidRadix(base)) {\r\n            throw new Error(`Base must be between ${this.MIN_BASE} and ${this.MAX_BASE}`);\r\n        }\r\n        return base <= 36\r\n            ? this.defaultDigits.indexOf(digit)\r\n            : Number.parseInt(digit, 10);\r\n    }\r\n\r\n    public static getAllPossibleBasesForAssociateConversion(base: number): number[] {\r\n        if(!this.isValidRadix(base)) return [];\r\n\r\n        return [\r\n            ...this.getSmallerAssociateBases(base),\r\n            ...this.getGreaterAssociateBases(base)\r\n        ];\r\n    }\r\n\r\n\r\n    private static getGreaterAssociateBases(base: number): number[] {\r\n        const possibleBases = [];\r\n        const minExponent = 2;\r\n\r\n        for (let n = minExponent; ; n++) {\r\n            const newGreaterBase = Math.pow(base, n);\r\n            if(newGreaterBase > this.MAX_BASE) break;\r\n            possibleBases.push(newGreaterBase);\r\n        }\r\n\r\n        return possibleBases;\r\n    }\r\n\r\n    private static getSmallerAssociateBases(base: number): number[] {\r\n        const possibleBases = [];\r\n\r\n        for(let n = 2; ; n++) {\r\n            const nthRoot = Math.pow(base, 1/n);\r\n            if(nthRoot < this.MIN_BASE) break;\r\n            if(Number.isInteger(nthRoot)) possibleBases.push(nthRoot)\r\n        }\r\n\r\n        return possibleBases.reverse();\r\n    }\r\n\r\n    public static canConvertUsingAssociateBaseMethod(inputBase: number, outputBase: number): boolean {\r\n        const smaller = Math.min(inputBase, outputBase);\r\n        const greater = Math.max(inputBase, outputBase);\r\n\r\n        const log = +logBase(greater, smaller).toFixed(4);\r\n        return Number.isInteger(log);\r\n    }\r\n}\r\n","import { isValidString, splitToDigits } from '../helpers/conversion-helpers';\r\nimport { BaseDigits } from './base-digits';\r\nimport { Digits, NumberComplement } from './representations';\r\n\r\n/**\r\n * Handles creating number's BaseComplement form it's string representation\r\n */\r\nexport class ComplementConverter {\r\n    public static isNegative(str: string) {\r\n        return str.charAt(0) === '-';\r\n    }\r\n\r\n    /**\r\n     * Checks whether the sign in front of complement str is negative\r\n     * @param str\r\n     * @param base\r\n     */\r\n    public static isComplementStrNegative(str: string, base = 10) {\r\n        // Total sign length can be 3 - (9) or 4 (63), in comparision use only\r\n        // value in between parenthesis\r\n        const signLength = base > 36 ? 2 : 1;\r\n        const sign = str.substr(1, signLength);\r\n        return sign === BaseDigits.getDigit(base - 1, base);\r\n    }\r\n\r\n    /**\r\n     * Check whether given string can be used to represent complement of\r\n     * a number.\r\n     * @param str\r\n     * @param base\r\n     */\r\n    public static isValidComplementStr(str: string, base: number): boolean {\r\n        if (this.hasValidComplementSign(str, base)) {\r\n            const noSignComplementStr = str.split(')')[1];\r\n            return isValidString(noSignComplementStr, base);\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Checks whether given string starts with valid sign\r\n     * ex. (0) or (9) for base 10\r\n     * @param str\r\n     * @param base\r\n     */\r\n    public static hasValidComplementSign(str: string, base: number) {\r\n        const zeroDigit = BaseDigits.getDigit(0, base);\r\n        const maxDigit = BaseDigits.getDigit(base - 1, base);\r\n        const regStr = '^(\\\\(*\\\\)|\\\\(#\\\\)).*'\r\n            .replace('*', zeroDigit)\r\n            .replace('#', maxDigit);\r\n        const reg = new RegExp(regStr);\r\n        return reg.test(str);\r\n    }\r\n\r\n    /**\r\n     * Checks whether string has delimiter (is floating point string).\r\n     * Accepts delimiters '.' and ','\r\n     * @param str\r\n     */\r\n    public static hasDelimiter(str: string): boolean {\r\n        return str.includes('.') || str.includes(',');\r\n    }\r\n\r\n    /**\r\n     * Computes a complement of a number, represented either by value string or\r\n     * NumberComplement\r\n     * @param value value representing a number\r\n     * @param base base of a input, default value is 10\r\n     */\r\n    public static getComplement(\r\n        value: string | NumberComplement,\r\n        base = 10\r\n    ): NumberComplement {\r\n        let val = '';\r\n        if (value instanceof NumberComplement) {\r\n            val = value.noSignValue();\r\n            base = value.base;\r\n        }\r\n        if (typeof value === 'string') {\r\n            val = value;\r\n        }\r\n        if (ComplementConverter.isNegative(val)) {\r\n            return this.getNegativeNumberComplement(val, base);\r\n        } else {\r\n            return this.getPositiveNumberComplement(val, base);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Computes complement of a negative number\r\n     * @param repStr\r\n     * @param base\r\n     */\r\n    public static getNegativeNumberComplement(\r\n        repStr: string,\r\n        base: number\r\n    ): NumberComplement {\r\n        const repParts = splitToDigits(repStr.substr(1), base);\r\n        const complementDigits = ComplementConverter.computeComplement(\r\n            repParts[0],\r\n            repParts[1],\r\n            base\r\n        );\r\n        return new NumberComplement(\r\n            complementDigits[0],\r\n            complementDigits[1],\r\n            base,\r\n            true\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Computes complement of a positive number\r\n     * @param valueStr\r\n     * @param base\r\n     */\r\n    public static getPositiveNumberComplement(\r\n        valueStr: string,\r\n        base: number\r\n    ): NumberComplement {\r\n        const digits = splitToDigits(valueStr, base);\r\n        return new NumberComplement(digits[0], digits[1], base, false);\r\n    }\r\n\r\n    /**\r\n     * Returns complement of a single in some positional system specified by\r\n     * base\r\n     * @param digit\r\n     * @param base\r\n     */\r\n    public static getDigitComplement(digit: string, base: number): string {\r\n        return BaseDigits.getDigit(\r\n            base - 1 - BaseDigits.getValue(digit, base),\r\n            base\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Increments the value of number represented by digit list by 1\r\n     * @param digits\r\n     * @param base\r\n     */\r\n    public static incrementNumber(digits: string[], base: number): string[] {\r\n        for (let i = digits.length - 1; i >= 0; i--) {\r\n            const val = BaseDigits.getValue(digits[i], base);\r\n            if (val === base - 1) {\r\n                digits[i] = BaseDigits.getDigit(0, base);\r\n            } else {\r\n                digits[i] = BaseDigits.getDigit(val + 1, base);\r\n                break;\r\n            }\r\n        }\r\n        return digits;\r\n    }\r\n\r\n    /**\r\n     * Computes a complement of a number represented by its integral and fractional\r\n     * parts digits\r\n     * @param integral\r\n     * @param fractional\r\n     * @param base\r\n     */\r\n    public static computeComplement(\r\n        integral: Digits,\r\n        fractional: Digits,\r\n        base: number\r\n    ): [Digits, Digits] {\r\n        let digits = integral.digits.concat(fractional.digits);\r\n        for (let i = 0; i < digits.length; i++) {\r\n            digits[i] = ComplementConverter.getDigitComplement(digits[i], base);\r\n        }\r\n        digits = this.incrementNumber(digits, base);\r\n\r\n        return [\r\n            new Digits(digits.slice(0, integral.length), base),\r\n            new Digits(\r\n                digits.slice(\r\n                    integral.length,\r\n                    integral.length + fractional.length\r\n                ),\r\n                base\r\n            )\r\n        ];\r\n    }\r\n\r\n    /**\r\n     * Computes the string representation of a number, given its complement\r\n     * string\r\n     * @param str\r\n     * @param base\r\n     */\r\n    public static complementStrToBaseStr(str: string, base: number) {\r\n        const noSignStr = str.substring(3);\r\n        let result = '';\r\n        if (this.isComplementStrNegative(str, base)) {\r\n            const digits = splitToDigits(noSignStr);\r\n            const baseDigits = this.computeComplement(\r\n                digits[0],\r\n                digits[1],\r\n                base\r\n            );\r\n            const delimiter = baseDigits[1].length === 0 ? '' : '.';\r\n            result =\r\n                '-' +\r\n                baseDigits[0].toString() +\r\n                delimiter +\r\n                baseDigits[1].toString();\r\n        } else {\r\n            result = noSignStr;\r\n        }\r\n        return result;\r\n    }\r\n}\r\n","import BigNumber from 'bignumber.js';\r\nimport { BaseDigits } from './base-digits';\r\nimport { Digit } from '../models';\r\n\r\nexport class Digits {\r\n    public digits: string[];\r\n    public base: number;\r\n\r\n    constructor(digits: string[], base: number) {\r\n        this.digits = digits;\r\n        this.base = base;\r\n    }\r\n\r\n    get length(): number {\r\n        return this.digits.length;\r\n    }\r\n\r\n    public getDigit(index: number): string {\r\n        return this.digits[index];\r\n    }\r\n\r\n    public getDigitValue(index: number): number {\r\n        return BaseDigits.getValue(this.digits[index], this.base);\r\n    }\r\n\r\n    public toString(): string {\r\n        return this.base > 36 ? this.digits.join(' ') : this.digits.join('');\r\n    }\r\n}\r\n\r\nexport interface PositionalRepresentation {\r\n    base: number;\r\n    integerPart: Digits;\r\n    fractionalPart: Digits;\r\n    sign: string;\r\n    delimiter: string;\r\n\r\n    toString(): string;\r\n}\r\n\r\n/**\r\n * Represents complement of number in positional system\r\n */\r\nexport class NumberComplement implements PositionalRepresentation {\r\n    public base: number;\r\n    public fractionalPart: Digits;\r\n    public integerPart: Digits;\r\n    public isNegative: boolean;\r\n\r\n    constructor(\r\n        integral: Digits | string[],\r\n        fractional: Digits | string[],\r\n        base: number,\r\n        isNegative: boolean\r\n    ) {\r\n        this.integerPart =\r\n            integral instanceof Digits ? integral : new Digits(integral, base);\r\n        this.fractionalPart =\r\n            fractional instanceof Digits\r\n                ? fractional\r\n                : new Digits(fractional, base);\r\n        this.base = base;\r\n        this.isNegative = isNegative;\r\n    }\r\n\r\n    get sign(): string {\r\n        return (\r\n            '(' +\r\n            BaseDigits.getDigit(\r\n                this.isNegative ? this.base - 1 : 0,\r\n                this.base\r\n            ) +\r\n            ')'\r\n        );\r\n    }\r\n\r\n    get delimiter(): string {\r\n        return this.fractionalPart.length ? '.' : '';\r\n    }\r\n\r\n    public toString(precision = 30): string {\r\n        return this.sign + this.noSignValue(precision);\r\n    }\r\n\r\n\r\n    public noSignValue(precision = 30): string {\r\n        return (\r\n            this.integerPart.toString() +\r\n            this.delimiter +\r\n            this.fractionalPart.toString().slice(0, precision)\r\n        );\r\n    }\r\n}\r\n\r\nexport class PositionalNumber extends NumberComplement {\r\n    public complement: NumberComplement;\r\n    public decimalValue: BigNumber;\r\n\r\n    constructor(\r\n        integral: Digits | string[],\r\n        fractional: Digits | string[],\r\n        base: number,\r\n        decimalValue: BigNumber,\r\n        complement: NumberComplement\r\n    ) {\r\n        super(integral, fractional, base, decimalValue.isNegative());\r\n        this.decimalValue = decimalValue;\r\n        this.complement = complement;\r\n    }\r\n\r\n    get valueInBase(): string {\r\n        return this.toString();\r\n    }\r\n\r\n    public get sign(): string {\r\n        return this.decimalValue.isNegative() ? '-' : '';\r\n    }\r\n\r\n    public toDigitsList(): Digit[] {\r\n        const integerPart: Digit[] = this.integerPart.digits.map((digit, index) => {\r\n            const position = (this.integerPart.digits.length - 1) - index;\r\n\r\n            return {\r\n                position,\r\n                base: this.base,\r\n                valueInBase: digit,\r\n                valueInDecimal: BaseDigits.getValue(digit, this.base)\r\n            }\r\n        });\r\n\r\n        const fractionalPart: Digit[] = this.fractionalPart.digits.map((digit, index) => {\r\n            const position = - 1 - index;\r\n\r\n            return {\r\n                position,\r\n                base: this.base,\r\n                valueInBase: digit,\r\n                valueInDecimal: BaseDigits.getValue(digit, this.base)\r\n            }\r\n        });\r\n\r\n        return [...integerPart, ...fractionalPart];\r\n    }\r\n}\r\n","export { DocPage } from './lib/components/doc-page/doc-page';\r\n\r\nexport { useDocs } from './lib/hooks/use-docs';\r\n","import React, { FC } from 'react';\r\nimport { useDocs } from '../../hooks/use-docs';\r\nimport { Box, createStyles, Theme } from '@material-ui/core';\r\nimport { MarkdownRenderer } from '../markdown-renderer/markdown-renderer';\r\nimport { ScrollSpy } from '../scroll-spy/scroll-spy';\r\nimport { extractHeadingIds } from '../../core/functions/heading-ids';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport interface DocsProps {\r\n    path: string;\r\n}\r\n\r\nexport const useStyles = makeStyles((theme: Theme) => {\r\n    return createStyles(\r\n        {\r\n            box: {\r\n                paddingBottom: '400px',\r\n                [theme.breakpoints.down('md')]: {\r\n                    paddingRight: '250px'\r\n                },\r\n                [theme.breakpoints.up('lg')]: {\r\n                    paddingRight: '0px'\r\n                }\r\n            }\r\n        }\r\n    );\r\n});\r\n\r\nexport const DocPage: FC<DocsProps> = ({ path }) => {\r\n    const markdown = useDocs(path);\r\n    const imageUriPrefix = 'assets/docs/';\r\n    const classes = useStyles();\r\n\r\n    const ids = extractHeadingIds(markdown);\r\n\r\n    return (\r\n        <Box className={classes.box}>\r\n            {\r\n                !!ids.length && <ScrollSpy entries={ids}/>\r\n            }\r\n            <MarkdownRenderer\r\n                source={markdown}\r\n                escapeHtml={false}\r\n                transformImageUri={(uri) => {\r\n                    return imageUriPrefix + path + '/' + uri;\r\n                }}\r\n            />\r\n        </Box>\r\n    );\r\n};\r\n","import React, { FC } from 'react';\r\nimport { Typography } from '@material-ui/core';\r\nimport { getHeadingSlug } from '../../core/functions/heading-ids';\r\n\r\ninterface HeadingProps {\r\n    level: number;\r\n}\r\n\r\nexport const HeadingRenderer: FC<HeadingProps> = ({level, children}) => {\r\n\r\n    function flatten(text, child) {\r\n        return typeof child === 'string'\r\n            ? text + child\r\n            : React.Children.toArray(child.props.children).reduce(flatten, text)\r\n    }\r\n\r\n    const arrayChildren = React.Children.toArray(children);\r\n    const text = arrayChildren.reduce(flatten, '');\r\n    const id = getHeadingSlug(text);\r\n\r\n    return (\r\n        <Typography id={id} variant={`h${level + 3}` as any}>\r\n            {children}\r\n        </Typography>\r\n    )\r\n};\r\n","import React from 'react';\r\nimport ReactMarkdown from 'react-markdown';\r\nimport 'katex/dist/katex.min.css';\r\nimport RemarkMathPlugin from 'remark-math';\r\nimport { InlineMath, BlockMath } from 'react-katex';\r\nimport { Typography } from '@material-ui/core';\r\nimport { HeadingRenderer } from '../heading-renderer/heading-renderer';\r\n\r\nexport const MarkdownRenderer = (props) => {\r\n\r\n    const newProps = {\r\n        ...props,\r\n        plugins: [\r\n            RemarkMathPlugin,\r\n        ],\r\n        renderers: {\r\n            ...props.renderers,\r\n            math: (props) => <BlockMath math={props.value} />,\r\n            inlineMath: (props) => <InlineMath math={props.value} />,\r\n            heading: HeadingRenderer,\r\n            p: (props) => <Typography paragraph>{props.children}</Typography>\r\n        },\r\n    };\r\n    return (\r\n        <ReactMarkdown  {...newProps} />\r\n    );\r\n};\r\n","import React, { FC, useEffect, useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { createStyles, List, Theme } from '@material-ui/core';\r\nimport { ContentsEntry } from '../../core/models/contents-entry';\r\n\r\nconst SPY_INTERVAL = 100;\r\n\r\ninterface SpyItem extends ContentsEntry {\r\n    inView: boolean;\r\n    element: HTMLElement;\r\n}\r\n\r\ninterface P {\r\n    entries: ContentsEntry[];\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        active: {\r\n            color: theme.palette.text.secondary,\r\n            borderLeft: `2px solid ${theme.palette.text.secondary}`,\r\n            cursor: 'pointer'\r\n        },\r\n        normal: {\r\n            color: theme.palette.text.primary,\r\n            cursor: 'pointer'\r\n        },\r\n        container: {\r\n            listStyleType: 'none',\r\n            right: theme.spacing(2),\r\n            top: 64 + theme.spacing(1),\r\n            position: 'fixed',\r\n            display: 'block',\r\n            width: '250px'\r\n        }\r\n    }),\r\n);\r\n\r\nexport const ScrollSpy: FC<P> = ({entries}) => {\r\n    const [items, setItems] = useState<SpyItem[]>([]);\r\n    const classes = useStyles();\r\n\r\n    const offset= 20;\r\n    const headerHeight = 64;\r\n\r\n    useEffect(() => {\r\n        const timer = window.setInterval(spy, SPY_INTERVAL);\r\n        return () => window.clearInterval(timer);\r\n    });\r\n\r\n    const spy = () => {\r\n        const items: SpyItem[] = entries\r\n            .reduce((all, entry) => {\r\n                const element =  document.getElementById(entry.id);\r\n                if(!element) return all;\r\n                const item: SpyItem = {\r\n                    inView: isInView(element),\r\n                    element,\r\n                    ...entry\r\n                };\r\n                return [...all, item]\r\n            }, []);\r\n\r\n        const firstTrueItem = items.find(item => !!item && item.inView);\r\n\r\n        if (!firstTrueItem) return;\r\n\r\n        const update = items.map(item => {\r\n            return { ...item, inView: item === firstTrueItem };\r\n        });\r\n\r\n        setItems(update);\r\n    };\r\n\r\n    const isInView = (element: HTMLElement) => {\r\n        if (!element) {\r\n            return false;\r\n        }\r\n        const rect = element.getBoundingClientRect();\r\n        return rect.top >= 0 - offset && rect.bottom <= window.innerHeight + offset;\r\n    };\r\n\r\n    const scrollTo = (element: HTMLElement) => {\r\n        const y = element.getBoundingClientRect().top + window.pageYOffset - headerHeight;\r\n        window.scrollTo({top: y, behavior: 'smooth'});\r\n    };\r\n\r\n    return (\r\n        <ul className={classes.container}>\r\n            {items.map((item, k) => {\r\n                return (\r\n                    <List\r\n                        style={{ paddingLeft: 2 + (item.inView ? 0 : 2) + item.level * 15}}\r\n                        className={item.inView ? classes.active : classes.normal}\r\n                        key={k}\r\n                        onClick={() => {\r\n                            scrollTo(item.element);\r\n                        }}\r\n                    >\r\n                       {item.element.innerText}\r\n                    </List>\r\n                );\r\n            })}\r\n        </ul>\r\n    );\r\n};\r\n","import { latinize } from './latinize';\r\nimport { ContentsEntry } from '../models/contents-entry';\r\n\r\n\r\nexport function extractHeadingIds(markdown?: string): ContentsEntry[] {\r\n    if(!markdown) return [];\r\n\r\n    const headingRegex =  /^ *(#{1,6}) *([^\\n]+?) *#* *(?:\\n+|$)/gm;\r\n\r\n    return markdown.match(headingRegex).map((heading) => {\r\n        const withoutHashes = heading.replace(/#/g, '');\r\n        const level = heading.split('#').length - 1;\r\n\r\n        return {\r\n            id: getHeadingSlug(withoutHashes),\r\n            level: level\r\n        }\r\n    })\r\n}\r\n\r\nexport function getHeadingSlug(heading: string): string {\r\n    const slug = heading.trim().toLowerCase();\r\n    return latinize(slug).replace(/\\W/g, '-')\r\n}\r\n","const latinLookup = {\r\n    'Á': 'A',\r\n    'Ă': 'A',\r\n    'Ắ': 'A',\r\n    'Ặ': 'A',\r\n    'Ằ': 'A',\r\n    'Ẳ': 'A',\r\n    'Ẵ': 'A',\r\n    'Ǎ': 'A',\r\n    'Â': 'A',\r\n    'Ấ': 'A',\r\n    'Ậ': 'A',\r\n    'Ầ': 'A',\r\n    'Ẩ': 'A',\r\n    'Ẫ': 'A',\r\n    'Ä': 'A',\r\n    'Ǟ': 'A',\r\n    'Ȧ': 'A',\r\n    'Ǡ': 'A',\r\n    'Ạ': 'A',\r\n    'Ȁ': 'A',\r\n    'À': 'A',\r\n    'Ả': 'A',\r\n    'Ȃ': 'A',\r\n    'Ā': 'A',\r\n    'Ą': 'A',\r\n    'Å': 'A',\r\n    'Ǻ': 'A',\r\n    'Ḁ': 'A',\r\n    'Ⱥ': 'A',\r\n    'Ã': 'A',\r\n    'Ꜳ': 'AA',\r\n    'Æ': 'AE',\r\n    'Ǽ': 'AE',\r\n    'Ǣ': 'AE',\r\n    'Ꜵ': 'AO',\r\n    'Ꜷ': 'AU',\r\n    'Ꜹ': 'AV',\r\n    'Ꜻ': 'AV',\r\n    'Ꜽ': 'AY',\r\n    'Ḃ': 'B',\r\n    'Ḅ': 'B',\r\n    'Ɓ': 'B',\r\n    'Ḇ': 'B',\r\n    'Ƀ': 'B',\r\n    'Ƃ': 'B',\r\n    'Ć': 'C',\r\n    'Č': 'C',\r\n    'Ç': 'C',\r\n    'Ḉ': 'C',\r\n    'Ĉ': 'C',\r\n    'Ċ': 'C',\r\n    'Ƈ': 'C',\r\n    'Ȼ': 'C',\r\n    'Ď': 'D',\r\n    'Ḑ': 'D',\r\n    'Ḓ': 'D',\r\n    'Ḋ': 'D',\r\n    'Ḍ': 'D',\r\n    'Ɗ': 'D',\r\n    'Ḏ': 'D',\r\n    'ǲ': 'D',\r\n    'ǅ': 'D',\r\n    'Đ': 'D',\r\n    'Ƌ': 'D',\r\n    'Ǳ': 'DZ',\r\n    'Ǆ': 'DZ',\r\n    'É': 'E',\r\n    'Ĕ': 'E',\r\n    'Ě': 'E',\r\n    'Ȩ': 'E',\r\n    'Ḝ': 'E',\r\n    'Ê': 'E',\r\n    'Ế': 'E',\r\n    'Ệ': 'E',\r\n    'Ề': 'E',\r\n    'Ể': 'E',\r\n    'Ễ': 'E',\r\n    'Ḙ': 'E',\r\n    'Ë': 'E',\r\n    'Ė': 'E',\r\n    'Ẹ': 'E',\r\n    'Ȅ': 'E',\r\n    'È': 'E',\r\n    'Ẻ': 'E',\r\n    'Ȇ': 'E',\r\n    'Ē': 'E',\r\n    'Ḗ': 'E',\r\n    'Ḕ': 'E',\r\n    'Ę': 'E',\r\n    'Ɇ': 'E',\r\n    'Ẽ': 'E',\r\n    'Ḛ': 'E',\r\n    'Ꝫ': 'ET',\r\n    'Ḟ': 'F',\r\n    'Ƒ': 'F',\r\n    'Ǵ': 'G',\r\n    'Ğ': 'G',\r\n    'Ǧ': 'G',\r\n    'Ģ': 'G',\r\n    'Ĝ': 'G',\r\n    'Ġ': 'G',\r\n    'Ɠ': 'G',\r\n    'Ḡ': 'G',\r\n    'Ǥ': 'G',\r\n    'Ḫ': 'H',\r\n    'Ȟ': 'H',\r\n    'Ḩ': 'H',\r\n    'Ĥ': 'H',\r\n    'Ⱨ': 'H',\r\n    'Ḧ': 'H',\r\n    'Ḣ': 'H',\r\n    'Ḥ': 'H',\r\n    'Ħ': 'H',\r\n    'Í': 'I',\r\n    'Ĭ': 'I',\r\n    'Ǐ': 'I',\r\n    'Î': 'I',\r\n    'Ï': 'I',\r\n    'Ḯ': 'I',\r\n    'İ': 'I',\r\n    'Ị': 'I',\r\n    'Ȉ': 'I',\r\n    'Ì': 'I',\r\n    'Ỉ': 'I',\r\n    'Ȋ': 'I',\r\n    'Ī': 'I',\r\n    'Į': 'I',\r\n    'Ɨ': 'I',\r\n    'Ĩ': 'I',\r\n    'Ḭ': 'I',\r\n    'Ꝺ': 'D',\r\n    'Ꝼ': 'F',\r\n    'Ᵹ': 'G',\r\n    'Ꞃ': 'R',\r\n    'Ꞅ': 'S',\r\n    'Ꞇ': 'T',\r\n    'Ꝭ': 'IS',\r\n    'Ĵ': 'J',\r\n    'Ɉ': 'J',\r\n    'Ḱ': 'K',\r\n    'Ǩ': 'K',\r\n    'Ķ': 'K',\r\n    'Ⱪ': 'K',\r\n    'Ꝃ': 'K',\r\n    'Ḳ': 'K',\r\n    'Ƙ': 'K',\r\n    'Ḵ': 'K',\r\n    'Ꝁ': 'K',\r\n    'Ꝅ': 'K',\r\n    'Ĺ': 'L',\r\n    'Ƚ': 'L',\r\n    'Ľ': 'L',\r\n    'Ļ': 'L',\r\n    'Ḽ': 'L',\r\n    'Ḷ': 'L',\r\n    'Ḹ': 'L',\r\n    'Ⱡ': 'L',\r\n    'Ꝉ': 'L',\r\n    'Ḻ': 'L',\r\n    'Ŀ': 'L',\r\n    'Ɫ': 'L',\r\n    'ǈ': 'L',\r\n    'Ł': 'L',\r\n    'Ǉ': 'LJ',\r\n    'Ḿ': 'M',\r\n    'Ṁ': 'M',\r\n    'Ṃ': 'M',\r\n    'Ɱ': 'M',\r\n    'Ń': 'N',\r\n    'Ň': 'N',\r\n    'Ņ': 'N',\r\n    'Ṋ': 'N',\r\n    'Ṅ': 'N',\r\n    'Ṇ': 'N',\r\n    'Ǹ': 'N',\r\n    'Ɲ': 'N',\r\n    'Ṉ': 'N',\r\n    'Ƞ': 'N',\r\n    'ǋ': 'N',\r\n    'Ñ': 'N',\r\n    'Ǌ': 'NJ',\r\n    'Ó': 'O',\r\n    'Ŏ': 'O',\r\n    'Ǒ': 'O',\r\n    'Ô': 'O',\r\n    'Ố': 'O',\r\n    'Ộ': 'O',\r\n    'Ồ': 'O',\r\n    'Ổ': 'O',\r\n    'Ỗ': 'O',\r\n    'Ö': 'O',\r\n    'Ȫ': 'O',\r\n    'Ȯ': 'O',\r\n    'Ȱ': 'O',\r\n    'Ọ': 'O',\r\n    'Ő': 'O',\r\n    'Ȍ': 'O',\r\n    'Ò': 'O',\r\n    'Ỏ': 'O',\r\n    'Ơ': 'O',\r\n    'Ớ': 'O',\r\n    'Ợ': 'O',\r\n    'Ờ': 'O',\r\n    'Ở': 'O',\r\n    'Ỡ': 'O',\r\n    'Ȏ': 'O',\r\n    'Ꝋ': 'O',\r\n    'Ꝍ': 'O',\r\n    'Ō': 'O',\r\n    'Ṓ': 'O',\r\n    'Ṑ': 'O',\r\n    'Ɵ': 'O',\r\n    'Ǫ': 'O',\r\n    'Ǭ': 'O',\r\n    'Ø': 'O',\r\n    'Ǿ': 'O',\r\n    'Õ': 'O',\r\n    'Ṍ': 'O',\r\n    'Ṏ': 'O',\r\n    'Ȭ': 'O',\r\n    'Ƣ': 'OI',\r\n    'Ꝏ': 'OO',\r\n    'Ɛ': 'E',\r\n    'Ɔ': 'O',\r\n    'Ȣ': 'OU',\r\n    'Ṕ': 'P',\r\n    'Ṗ': 'P',\r\n    'Ꝓ': 'P',\r\n    'Ƥ': 'P',\r\n    'Ꝕ': 'P',\r\n    'Ᵽ': 'P',\r\n    'Ꝑ': 'P',\r\n    'Ꝙ': 'Q',\r\n    'Ꝗ': 'Q',\r\n    'Ŕ': 'R',\r\n    'Ř': 'R',\r\n    'Ŗ': 'R',\r\n    'Ṙ': 'R',\r\n    'Ṛ': 'R',\r\n    'Ṝ': 'R',\r\n    'Ȑ': 'R',\r\n    'Ȓ': 'R',\r\n    'Ṟ': 'R',\r\n    'Ɍ': 'R',\r\n    'Ɽ': 'R',\r\n    'Ꜿ': 'C',\r\n    'Ǝ': 'E',\r\n    'Ś': 'S',\r\n    'Ṥ': 'S',\r\n    'Š': 'S',\r\n    'Ṧ': 'S',\r\n    'Ş': 'S',\r\n    'Ŝ': 'S',\r\n    'Ș': 'S',\r\n    'Ṡ': 'S',\r\n    'Ṣ': 'S',\r\n    'Ṩ': 'S',\r\n    'Ť': 'T',\r\n    'Ţ': 'T',\r\n    'Ṱ': 'T',\r\n    'Ț': 'T',\r\n    'Ⱦ': 'T',\r\n    'Ṫ': 'T',\r\n    'Ṭ': 'T',\r\n    'Ƭ': 'T',\r\n    'Ṯ': 'T',\r\n    'Ʈ': 'T',\r\n    'Ŧ': 'T',\r\n    'Ɐ': 'A',\r\n    'Ꞁ': 'L',\r\n    'Ɯ': 'M',\r\n    'Ʌ': 'V',\r\n    'Ꜩ': 'TZ',\r\n    'Ú': 'U',\r\n    'Ŭ': 'U',\r\n    'Ǔ': 'U',\r\n    'Û': 'U',\r\n    'Ṷ': 'U',\r\n    'Ü': 'U',\r\n    'Ǘ': 'U',\r\n    'Ǚ': 'U',\r\n    'Ǜ': 'U',\r\n    'Ǖ': 'U',\r\n    'Ṳ': 'U',\r\n    'Ụ': 'U',\r\n    'Ű': 'U',\r\n    'Ȕ': 'U',\r\n    'Ù': 'U',\r\n    'Ủ': 'U',\r\n    'Ư': 'U',\r\n    'Ứ': 'U',\r\n    'Ự': 'U',\r\n    'Ừ': 'U',\r\n    'Ử': 'U',\r\n    'Ữ': 'U',\r\n    'Ȗ': 'U',\r\n    'Ū': 'U',\r\n    'Ṻ': 'U',\r\n    'Ų': 'U',\r\n    'Ů': 'U',\r\n    'Ũ': 'U',\r\n    'Ṹ': 'U',\r\n    'Ṵ': 'U',\r\n    'Ꝟ': 'V',\r\n    'Ṿ': 'V',\r\n    'Ʋ': 'V',\r\n    'Ṽ': 'V',\r\n    'Ꝡ': 'VY',\r\n    'Ẃ': 'W',\r\n    'Ŵ': 'W',\r\n    'Ẅ': 'W',\r\n    'Ẇ': 'W',\r\n    'Ẉ': 'W',\r\n    'Ẁ': 'W',\r\n    'Ⱳ': 'W',\r\n    'Ẍ': 'X',\r\n    'Ẋ': 'X',\r\n    'Ý': 'Y',\r\n    'Ŷ': 'Y',\r\n    'Ÿ': 'Y',\r\n    'Ẏ': 'Y',\r\n    'Ỵ': 'Y',\r\n    'Ỳ': 'Y',\r\n    'Ƴ': 'Y',\r\n    'Ỷ': 'Y',\r\n    'Ỿ': 'Y',\r\n    'Ȳ': 'Y',\r\n    'Ɏ': 'Y',\r\n    'Ỹ': 'Y',\r\n    'Ź': 'Z',\r\n    'Ž': 'Z',\r\n    'Ẑ': 'Z',\r\n    'Ⱬ': 'Z',\r\n    'Ż': 'Z',\r\n    'Ẓ': 'Z',\r\n    'Ȥ': 'Z',\r\n    'Ẕ': 'Z',\r\n    'Ƶ': 'Z',\r\n    'Ĳ': 'IJ',\r\n    'Œ': 'OE',\r\n    'ᴀ': 'A',\r\n    'ᴁ': 'AE',\r\n    'ʙ': 'B',\r\n    'ᴃ': 'B',\r\n    'ᴄ': 'C',\r\n    'ᴅ': 'D',\r\n    'ᴇ': 'E',\r\n    'ꜰ': 'F',\r\n    'ɢ': 'G',\r\n    'ʛ': 'G',\r\n    'ʜ': 'H',\r\n    'ɪ': 'I',\r\n    'ʁ': 'R',\r\n    'ᴊ': 'J',\r\n    'ᴋ': 'K',\r\n    'ʟ': 'L',\r\n    'ᴌ': 'L',\r\n    'ᴍ': 'M',\r\n    'ɴ': 'N',\r\n    'ᴏ': 'O',\r\n    'ɶ': 'OE',\r\n    'ᴐ': 'O',\r\n    'ᴕ': 'OU',\r\n    'ᴘ': 'P',\r\n    'ʀ': 'R',\r\n    'ᴎ': 'N',\r\n    'ᴙ': 'R',\r\n    'ꜱ': 'S',\r\n    'ᴛ': 'T',\r\n    'ⱻ': 'E',\r\n    'ᴚ': 'R',\r\n    'ᴜ': 'U',\r\n    'ᴠ': 'V',\r\n    'ᴡ': 'W',\r\n    'ʏ': 'Y',\r\n    'ᴢ': 'Z',\r\n    'á': 'a',\r\n    'ă': 'a',\r\n    'ắ': 'a',\r\n    'ặ': 'a',\r\n    'ằ': 'a',\r\n    'ẳ': 'a',\r\n    'ẵ': 'a',\r\n    'ǎ': 'a',\r\n    'â': 'a',\r\n    'ấ': 'a',\r\n    'ậ': 'a',\r\n    'ầ': 'a',\r\n    'ẩ': 'a',\r\n    'ẫ': 'a',\r\n    'ä': 'a',\r\n    'ǟ': 'a',\r\n    'ȧ': 'a',\r\n    'ǡ': 'a',\r\n    'ạ': 'a',\r\n    'ȁ': 'a',\r\n    'à': 'a',\r\n    'ả': 'a',\r\n    'ȃ': 'a',\r\n    'ā': 'a',\r\n    'ą': 'a',\r\n    'ᶏ': 'a',\r\n    'ẚ': 'a',\r\n    'å': 'a',\r\n    'ǻ': 'a',\r\n    'ḁ': 'a',\r\n    'ⱥ': 'a',\r\n    'ã': 'a',\r\n    'ꜳ': 'aa',\r\n    'æ': 'ae',\r\n    'ǽ': 'ae',\r\n    'ǣ': 'ae',\r\n    'ꜵ': 'ao',\r\n    'ꜷ': 'au',\r\n    'ꜹ': 'av',\r\n    'ꜻ': 'av',\r\n    'ꜽ': 'ay',\r\n    'ḃ': 'b',\r\n    'ḅ': 'b',\r\n    'ɓ': 'b',\r\n    'ḇ': 'b',\r\n    'ᵬ': 'b',\r\n    'ᶀ': 'b',\r\n    'ƀ': 'b',\r\n    'ƃ': 'b',\r\n    'ɵ': 'o',\r\n    'ć': 'c',\r\n    'č': 'c',\r\n    'ç': 'c',\r\n    'ḉ': 'c',\r\n    'ĉ': 'c',\r\n    'ɕ': 'c',\r\n    'ċ': 'c',\r\n    'ƈ': 'c',\r\n    'ȼ': 'c',\r\n    'ď': 'd',\r\n    'ḑ': 'd',\r\n    'ḓ': 'd',\r\n    'ȡ': 'd',\r\n    'ḋ': 'd',\r\n    'ḍ': 'd',\r\n    'ɗ': 'd',\r\n    'ᶑ': 'd',\r\n    'ḏ': 'd',\r\n    'ᵭ': 'd',\r\n    'ᶁ': 'd',\r\n    'đ': 'd',\r\n    'ɖ': 'd',\r\n    'ƌ': 'd',\r\n    'ı': 'i',\r\n    'ȷ': 'j',\r\n    'ɟ': 'j',\r\n    'ʄ': 'j',\r\n    'ǳ': 'dz',\r\n    'ǆ': 'dz',\r\n    'é': 'e',\r\n    'ĕ': 'e',\r\n    'ě': 'e',\r\n    'ȩ': 'e',\r\n    'ḝ': 'e',\r\n    'ê': 'e',\r\n    'ế': 'e',\r\n    'ệ': 'e',\r\n    'ề': 'e',\r\n    'ể': 'e',\r\n    'ễ': 'e',\r\n    'ḙ': 'e',\r\n    'ë': 'e',\r\n    'ė': 'e',\r\n    'ẹ': 'e',\r\n    'ȅ': 'e',\r\n    'è': 'e',\r\n    'ẻ': 'e',\r\n    'ȇ': 'e',\r\n    'ē': 'e',\r\n    'ḗ': 'e',\r\n    'ḕ': 'e',\r\n    'ⱸ': 'e',\r\n    'ę': 'e',\r\n    'ᶒ': 'e',\r\n    'ɇ': 'e',\r\n    'ẽ': 'e',\r\n    'ḛ': 'e',\r\n    'ꝫ': 'et',\r\n    'ḟ': 'f',\r\n    'ƒ': 'f',\r\n    'ᵮ': 'f',\r\n    'ᶂ': 'f',\r\n    'ǵ': 'g',\r\n    'ğ': 'g',\r\n    'ǧ': 'g',\r\n    'ģ': 'g',\r\n    'ĝ': 'g',\r\n    'ġ': 'g',\r\n    'ɠ': 'g',\r\n    'ḡ': 'g',\r\n    'ᶃ': 'g',\r\n    'ǥ': 'g',\r\n    'ḫ': 'h',\r\n    'ȟ': 'h',\r\n    'ḩ': 'h',\r\n    'ĥ': 'h',\r\n    'ⱨ': 'h',\r\n    'ḧ': 'h',\r\n    'ḣ': 'h',\r\n    'ḥ': 'h',\r\n    'ɦ': 'h',\r\n    'ẖ': 'h',\r\n    'ħ': 'h',\r\n    'ƕ': 'hv',\r\n    'í': 'i',\r\n    'ĭ': 'i',\r\n    'ǐ': 'i',\r\n    'î': 'i',\r\n    'ï': 'i',\r\n    'ḯ': 'i',\r\n    'ị': 'i',\r\n    'ȉ': 'i',\r\n    'ì': 'i',\r\n    'ỉ': 'i',\r\n    'ȋ': 'i',\r\n    'ī': 'i',\r\n    'į': 'i',\r\n    'ᶖ': 'i',\r\n    'ɨ': 'i',\r\n    'ĩ': 'i',\r\n    'ḭ': 'i',\r\n    'ꝺ': 'd',\r\n    'ꝼ': 'f',\r\n    'ᵹ': 'g',\r\n    'ꞃ': 'r',\r\n    'ꞅ': 's',\r\n    'ꞇ': 't',\r\n    'ꝭ': 'is',\r\n    'ǰ': 'j',\r\n    'ĵ': 'j',\r\n    'ʝ': 'j',\r\n    'ɉ': 'j',\r\n    'ḱ': 'k',\r\n    'ǩ': 'k',\r\n    'ķ': 'k',\r\n    'ⱪ': 'k',\r\n    'ꝃ': 'k',\r\n    'ḳ': 'k',\r\n    'ƙ': 'k',\r\n    'ḵ': 'k',\r\n    'ᶄ': 'k',\r\n    'ꝁ': 'k',\r\n    'ꝅ': 'k',\r\n    'ĺ': 'l',\r\n    'ƚ': 'l',\r\n    'ɬ': 'l',\r\n    'ľ': 'l',\r\n    'ļ': 'l',\r\n    'ḽ': 'l',\r\n    'ȴ': 'l',\r\n    'ḷ': 'l',\r\n    'ḹ': 'l',\r\n    'ⱡ': 'l',\r\n    'ꝉ': 'l',\r\n    'ḻ': 'l',\r\n    'ŀ': 'l',\r\n    'ɫ': 'l',\r\n    'ᶅ': 'l',\r\n    'ɭ': 'l',\r\n    'ł': 'l',\r\n    'ǉ': 'lj',\r\n    'ſ': 's',\r\n    'ẜ': 's',\r\n    'ẛ': 's',\r\n    'ẝ': 's',\r\n    'ḿ': 'm',\r\n    'ṁ': 'm',\r\n    'ṃ': 'm',\r\n    'ɱ': 'm',\r\n    'ᵯ': 'm',\r\n    'ᶆ': 'm',\r\n    'ń': 'n',\r\n    'ň': 'n',\r\n    'ņ': 'n',\r\n    'ṋ': 'n',\r\n    'ȵ': 'n',\r\n    'ṅ': 'n',\r\n    'ṇ': 'n',\r\n    'ǹ': 'n',\r\n    'ɲ': 'n',\r\n    'ṉ': 'n',\r\n    'ƞ': 'n',\r\n    'ᵰ': 'n',\r\n    'ᶇ': 'n',\r\n    'ɳ': 'n',\r\n    'ñ': 'n',\r\n    'ǌ': 'nj',\r\n    'ó': 'o',\r\n    'ŏ': 'o',\r\n    'ǒ': 'o',\r\n    'ô': 'o',\r\n    'ố': 'o',\r\n    'ộ': 'o',\r\n    'ồ': 'o',\r\n    'ổ': 'o',\r\n    'ỗ': 'o',\r\n    'ö': 'o',\r\n    'ȫ': 'o',\r\n    'ȯ': 'o',\r\n    'ȱ': 'o',\r\n    'ọ': 'o',\r\n    'ő': 'o',\r\n    'ȍ': 'o',\r\n    'ò': 'o',\r\n    'ỏ': 'o',\r\n    'ơ': 'o',\r\n    'ớ': 'o',\r\n    'ợ': 'o',\r\n    'ờ': 'o',\r\n    'ở': 'o',\r\n    'ỡ': 'o',\r\n    'ȏ': 'o',\r\n    'ꝋ': 'o',\r\n    'ꝍ': 'o',\r\n    'ⱺ': 'o',\r\n    'ō': 'o',\r\n    'ṓ': 'o',\r\n    'ṑ': 'o',\r\n    'ǫ': 'o',\r\n    'ǭ': 'o',\r\n    'ø': 'o',\r\n    'ǿ': 'o',\r\n    'õ': 'o',\r\n    'ṍ': 'o',\r\n    'ṏ': 'o',\r\n    'ȭ': 'o',\r\n    'ƣ': 'oi',\r\n    'ꝏ': 'oo',\r\n    'ɛ': 'e',\r\n    'ᶓ': 'e',\r\n    'ɔ': 'o',\r\n    'ᶗ': 'o',\r\n    'ȣ': 'ou',\r\n    'ṕ': 'p',\r\n    'ṗ': 'p',\r\n    'ꝓ': 'p',\r\n    'ƥ': 'p',\r\n    'ᵱ': 'p',\r\n    'ᶈ': 'p',\r\n    'ꝕ': 'p',\r\n    'ᵽ': 'p',\r\n    'ꝑ': 'p',\r\n    'ꝙ': 'q',\r\n    'ʠ': 'q',\r\n    'ɋ': 'q',\r\n    'ꝗ': 'q',\r\n    'ŕ': 'r',\r\n    'ř': 'r',\r\n    'ŗ': 'r',\r\n    'ṙ': 'r',\r\n    'ṛ': 'r',\r\n    'ṝ': 'r',\r\n    'ȑ': 'r',\r\n    'ɾ': 'r',\r\n    'ᵳ': 'r',\r\n    'ȓ': 'r',\r\n    'ṟ': 'r',\r\n    'ɼ': 'r',\r\n    'ᵲ': 'r',\r\n    'ᶉ': 'r',\r\n    'ɍ': 'r',\r\n    'ɽ': 'r',\r\n    'ↄ': 'c',\r\n    'ꜿ': 'c',\r\n    'ɘ': 'e',\r\n    'ɿ': 'r',\r\n    'ś': 's',\r\n    'ṥ': 's',\r\n    'š': 's',\r\n    'ṧ': 's',\r\n    'ş': 's',\r\n    'ŝ': 's',\r\n    'ș': 's',\r\n    'ṡ': 's',\r\n    'ṣ': 's',\r\n    'ṩ': 's',\r\n    'ʂ': 's',\r\n    'ᵴ': 's',\r\n    'ᶊ': 's',\r\n    'ȿ': 's',\r\n    'ɡ': 'g',\r\n    'ᴑ': 'o',\r\n    'ᴓ': 'o',\r\n    'ᴝ': 'u',\r\n    'ť': 't',\r\n    'ţ': 't',\r\n    'ṱ': 't',\r\n    'ț': 't',\r\n    'ȶ': 't',\r\n    'ẗ': 't',\r\n    'ⱦ': 't',\r\n    'ṫ': 't',\r\n    'ṭ': 't',\r\n    'ƭ': 't',\r\n    'ṯ': 't',\r\n    'ᵵ': 't',\r\n    'ƫ': 't',\r\n    'ʈ': 't',\r\n    'ŧ': 't',\r\n    'ᵺ': 'th',\r\n    'ɐ': 'a',\r\n    'ᴂ': 'ae',\r\n    'ǝ': 'e',\r\n    'ᵷ': 'g',\r\n    'ɥ': 'h',\r\n    'ʮ': 'h',\r\n    'ʯ': 'h',\r\n    'ᴉ': 'i',\r\n    'ʞ': 'k',\r\n    'ꞁ': 'l',\r\n    'ɯ': 'm',\r\n    'ɰ': 'm',\r\n    'ᴔ': 'oe',\r\n    'ɹ': 'r',\r\n    'ɻ': 'r',\r\n    'ɺ': 'r',\r\n    'ⱹ': 'r',\r\n    'ʇ': 't',\r\n    'ʌ': 'v',\r\n    'ʍ': 'w',\r\n    'ʎ': 'y',\r\n    'ꜩ': 'tz',\r\n    'ú': 'u',\r\n    'ŭ': 'u',\r\n    'ǔ': 'u',\r\n    'û': 'u',\r\n    'ṷ': 'u',\r\n    'ü': 'u',\r\n    'ǘ': 'u',\r\n    'ǚ': 'u',\r\n    'ǜ': 'u',\r\n    'ǖ': 'u',\r\n    'ṳ': 'u',\r\n    'ụ': 'u',\r\n    'ű': 'u',\r\n    'ȕ': 'u',\r\n    'ù': 'u',\r\n    'ủ': 'u',\r\n    'ư': 'u',\r\n    'ứ': 'u',\r\n    'ự': 'u',\r\n    'ừ': 'u',\r\n    'ử': 'u',\r\n    'ữ': 'u',\r\n    'ȗ': 'u',\r\n    'ū': 'u',\r\n    'ṻ': 'u',\r\n    'ų': 'u',\r\n    'ᶙ': 'u',\r\n    'ů': 'u',\r\n    'ũ': 'u',\r\n    'ṹ': 'u',\r\n    'ṵ': 'u',\r\n    'ᵫ': 'ue',\r\n    'ꝸ': 'um',\r\n    'ⱴ': 'v',\r\n    'ꝟ': 'v',\r\n    'ṿ': 'v',\r\n    'ʋ': 'v',\r\n    'ᶌ': 'v',\r\n    'ⱱ': 'v',\r\n    'ṽ': 'v',\r\n    'ꝡ': 'vy',\r\n    'ẃ': 'w',\r\n    'ŵ': 'w',\r\n    'ẅ': 'w',\r\n    'ẇ': 'w',\r\n    'ẉ': 'w',\r\n    'ẁ': 'w',\r\n    'ⱳ': 'w',\r\n    'ẘ': 'w',\r\n    'ẍ': 'x',\r\n    'ẋ': 'x',\r\n    'ᶍ': 'x',\r\n    'ý': 'y',\r\n    'ŷ': 'y',\r\n    'ÿ': 'y',\r\n    'ẏ': 'y',\r\n    'ỵ': 'y',\r\n    'ỳ': 'y',\r\n    'ƴ': 'y',\r\n    'ỷ': 'y',\r\n    'ỿ': 'y',\r\n    'ȳ': 'y',\r\n    'ẙ': 'y',\r\n    'ɏ': 'y',\r\n    'ỹ': 'y',\r\n    'ź': 'z',\r\n    'ž': 'z',\r\n    'ẑ': 'z',\r\n    'ʑ': 'z',\r\n    'ⱬ': 'z',\r\n    'ż': 'z',\r\n    'ẓ': 'z',\r\n    'ȥ': 'z',\r\n    'ẕ': 'z',\r\n    'ᵶ': 'z',\r\n    'ᶎ': 'z',\r\n    'ʐ': 'z',\r\n    'ƶ': 'z',\r\n    'ɀ': 'z',\r\n    'ﬀ': 'ff',\r\n    'ﬃ': 'ffi',\r\n    'ﬄ': 'ffl',\r\n    'ﬁ': 'fi',\r\n    'ﬂ': 'fl',\r\n    'ĳ': 'ij',\r\n    'œ': 'oe',\r\n    'ﬆ': 'st',\r\n    'ₐ': 'a',\r\n    'ₑ': 'e',\r\n    'ᵢ': 'i',\r\n    'ⱼ': 'j',\r\n    'ₒ': 'o',\r\n    'ᵣ': 'r',\r\n    'ᵤ': 'u',\r\n    'ᵥ': 'v',\r\n    'ₓ': 'x'\r\n};\r\n\r\nexport function latinize(str: string): string {\r\n    return str.replace(/[^\\w ]/g, char => latinLookup[char] || char);\r\n}\r\n\r\n","import { useEffect, useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\n\r\nexport const useDocs = (path: string): string | null => {\r\n    const [doc, setDoc] = useState<string>(null);\r\n    const { i18n } = useTranslation();\r\n\r\n    const fileName = path.split('/').pop();\r\n    const prefix = './assets/docs';\r\n    const languageKeySuffix = i18n.language;\r\n\r\n    const url = `${prefix}/${path}/${fileName}_${languageKeySuffix}.md`;\r\n\r\n    useEffect(() => {\r\n        fetch(url)\r\n            .then((response) => response.text())\r\n            .then((mdDoc) => {\r\n                setDoc(mdDoc);\r\n            });\r\n    });\r\n\r\n    return doc;\r\n};\r\n","export * from './lib/components/hover-cell/hover-grid-cell';\r\nexport * from './lib/components/hover-grid/hover-grid';\r\nexport * from './lib/core/grid-utils';\r\nexport * from './lib/models/hover-operation-grid';\r\nexport { CellCoords } from './lib/models/cell-coords';\r\nexport { CellGroup } from './lib/models/cell-group';\r\nexport { GridCellDisplayPreset } from './lib/models/grid-cell-display-preset';\r\nexport { GridCellConfig } from './lib/models/grid-cell-config';\r\nexport { LineType } from './lib/models/line-type';\r\nexport { GridLine } from './lib/models/grid-line';\r\nexport { CellPosition } from './lib/models/cell-position';\r\nexport {\r\n    buildColumnGroups, gridToAscii, groupCellsInStraightLine, buildEmptyGrid, buildRowGroup\r\n} from './lib/core/grid-utils';\r\nexport {\r\n    buildFractionalConversionGrid,\r\n    buildIntegralConversionGrid\r\n} from './lib/core/conversion-grid';\r\nexport { buildAdditionGrid } from './lib/core/addition-gid';\r\nexport { HoverGrid } from './lib/components/hover-grid/hover-grid';\r\nexport { RowConversionOperation } from './lib/models/row-conversion-operation';\r\nexport { FloatingPartConversionInfo } from './lib/models/floating-part-conversion-info';\r\nexport { GridLookup } from './lib/models/grid-lookup';\r\n","import React, { FC } from 'react';\nimport { GridCellConfig } from '../../models/grid-cell-config';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { createStyles, Theme } from '@material-ui/core';\n\nexport interface GridCellEvent {\n    x: number;\n    y: number;\n    hovered?: boolean;\n}\n\nexport interface HoverCellProps {\n    x: number;\n    y: number;\n    config: GridCellConfig;\n    hovered?: boolean;\n    horizontalLine?: boolean;\n    verticalLine?: boolean;\n    onClick?: (event: GridCellEvent) => void;\n    onHover?: (event: GridCellEvent) => void;\n    key? : string;\n}\n\nexport const useGridCellStyles = makeStyles((theme: Theme) => {\n    const baseCell = {\n        minWidth: '32px',\n        height: '32px',\n        minHeight: '32px',\n        padding: '4px',\n        textAlign: 'center' as any,\n        background: theme.palette.background.default,\n        border: `1px ${theme.palette.action.selected} dashed`,\n        color: theme.palette.text.disabled\n    };\n\n    return createStyles({\n        defaultCell: {\n            ...baseCell\n        },\n        hoverCell: {\n            ...baseCell,\n            background: theme.palette.action.focus,\n            border: 'none'\n        },\n        highlightedCell: {\n            ...baseCell,\n            background: theme.palette.primary.light,\n            color: theme.palette.getContrastText(theme.palette.primary.light)\n        },\n        highlightedCellHover: {\n            ...baseCell,\n            background: theme.palette.primary.light,\n            color: theme.palette.getContrastText(theme.palette.primary.light),\n            border: 'none'\n        },\n        horizontalLine: {\n            borderBottom: `1px solid ${theme.palette.action.active}`\n        },\n        verticalLine: {\n            borderRight: `1px solid ${theme.palette.action.active}`\n        }\n    });\n});\n\n\nconst HoverGridCell: FC<HoverCellProps> = (\n    {\n        x,\n        y,\n        config,\n        hovered,\n        horizontalLine,\n        verticalLine,\n        onHover,\n        onClick\n    }) => {\n\n    const { content, preset } = config;\n    const classes = useGridCellStyles();\n\n    const handleClick = () => {\n        if (onClick) {\n            const cellEvent: GridCellEvent = { x, y };\n            onClick(cellEvent);\n        }\n    };\n\n    const handleHover = (hovered: boolean) => {\n        if (onHover) {\n            const cellEvent: GridCellEvent = { x, y, hovered: hovered };\n            onHover(cellEvent);\n        }\n    };\n\n    const getCellClassName = (): string => {\n        if (hovered) return getHoveredCellClassName();\n        if(preset && preset.default) return classes[preset.default] || preset.default;\n        return classes.defaultCell;\n    };\n\n    const getHoveredCellClassName = (): string => {\n        if(preset && !!preset.hover) return classes[preset.hover] || preset.hover;\n        return classes.hoverCell;\n    };\n\n    const getLineClassName = (): string[] => {\n        const classNames = [];\n        if(horizontalLine) classNames.push(classes.horizontalLine);\n        if(verticalLine) classNames.push(classes.verticalLine);\n\n        return classNames;\n    };\n\n    const getClassNames = (): string => {\n        const classNames = [getCellClassName(), ...getLineClassName()];\n        return classNames.join(' ')\n    };\n\n    return (\n        <div\n            className={getClassNames()}\n            onClick={handleClick}\n            key={`${x}-${y}`}\n            onMouseEnter={() => handleHover(true)}\n            onMouseLeave={() => handleHover(false)}\n        >\n            {content}\n        </div>\n    );\n};\n\nexport default HoverGridCell;\n","import React, { FC, useRef, useState } from 'react';\nimport HoverGridCell, { GridCellEvent, HoverCellProps } from '../hover-cell/hover-grid-cell';\nimport { CopyOutlined } from '@ant-design/icons/lib';\nimport { buildCellGroupLookup, coordsEqual, getOutlierAtPosition } from '../../core/grid-utils';\nimport { CellCoords } from '../../models/cell-coords';\nimport { CellGroup } from '../../models/cell-group';\nimport { GridCellConfig } from '../../models/grid-cell-config';\nimport { GridLine } from '../../models/grid-line';\nimport { CellPosition } from '../../models/cell-position';\nimport { NumberSubscript } from '@calc/ui';\nimport { anyHorizontalLineIntersects, anyVerticalLineIntersects } from '../../core/grid-line-utils';\nimport { AxisConfig } from '../../models/axis-config';\nimport { Button, createStyles, Theme, Tooltip, Typography, withStyles } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport domtoimage from 'dom-to-image';\nimport { saveAs } from 'file-saver';\n\ninterface P {\n    values: GridCellConfig[][];\n    groups: CellGroup[];\n    lines: GridLine[];\n    groupBuilder?: any;\n    xAxis?: AxisConfig;\n    title?: string;\n}\n\nconst HtmlTooltip = withStyles((theme: Theme) => ({\n    tooltip: {\n        maxWidth: 220,\n        fontSize: theme.typography.pxToRem(12),\n        border: '1px solid #dadde9'\n    }\n}))(Tooltip);\n\nconst useStyles = makeStyles((theme: Theme) => {\n    return createStyles({\n        gridRow: {\n            display: 'flex',\n            flexDirection: 'row'\n        },\n        gridWrapper: {\n            display: 'flex',\n            maxWidth: '45vw',\n            flexDirection: 'column',\n            alignItems: 'flex-start',\n            overflowX: 'auto'\n        },\n        cellBox: {\n            width: '100%',\n            maxHeight: '500px',\n            display: 'inline-block',\n        },\n        cellContent: {\n            width: 'auto',\n            height: 'auto'\n        },\n        indicesBox: {\n            display: 'flex',\n            flexDirection: 'row'\n        },\n        columnIndex: {\n            minWidth: '32px',\n            height: '32px',\n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center'\n        }\n    });\n});\n\n\nexport const HoverGrid: FC<P> = ({ values, groups, lines, groupBuilder, title, xAxis }) => {\n    const lookup = buildCellGroupLookup(groups);\n    const [hoverCell, setHoveredCell] = useState<CellCoords>();\n    const [hoveredGroup, setHoveredGroup] = useState<CellGroup>();\n    const gridRef = useRef(null);\n    const classes = useStyles();\n\n    const handleClick = (event) => {\n        console.log('Click Event', event);\n    };\n\n    const handleHover = (event: GridCellEvent) => {\n        if (event.hovered) {\n            const { x, y } = event;\n\n            const cellAlreadyHovered =\n                hoverCell\n                && hoverCell.x === event.x\n                && hoverCell.y === event.y;\n\n            if (cellAlreadyHovered) return;\n\n            // find which group of cells\n            // need to hovered, and set first group\n            setHoveredCell({ x, y });\n            const hoverGroupKey = `${x}-${y}`;\n            const group = lookup[hoverGroupKey];\n\n            if (group && group.length) setHoveredGroup(group[0]);\n        } else {\n            setHoveredCell(undefined);\n            setHoveredGroup(undefined);\n        }\n    };\n\n    const cellBelongsToHoveredGroup = (x: number, y: number): boolean => {\n        if (!hoveredGroup) return false;\n\n        return !!hoveredGroup.cells.find((cell) => {\n            return cell.x === x && cell.y === y;\n        });\n    };\n\n    const getGroupPopoverAnchorCoords = (): CellCoords => {\n        if (!hoveredGroup) return { x: -1, y: -1 };\n        const position = hoveredGroup.popoverPlacement || CellPosition.Top;\n        return getOutlierAtPosition(hoveredGroup, position);\n    };\n\n    const anchor = getGroupPopoverAnchorCoords();\n\n    const rows = values.map((row, y) => {\n        const cells = row.map((cellConfig, x) => {\n            const horizontalLine = anyHorizontalLineIntersects(x, y, lines);\n            const verticalLine = anyVerticalLineIntersects(x, y, lines);\n            const shouldHover = cellBelongsToHoveredGroup(x, y);\n\n            const cellProps: HoverCellProps = {\n                onClick: handleClick,\n                onHover: handleHover,\n                hovered: shouldHover,\n                key: `${x}-${y}`,\n                x,\n                y,\n                horizontalLine,\n                verticalLine,\n                config: cellConfig\n            };\n\n            const isCellGroupAnchor = coordsEqual(anchor, { x, y }) && shouldHover;\n            const hasBuilder = hoveredGroup && (hoveredGroup.contentBuilder || groupBuilder);\n            const canBuildPopoverContent = hasBuilder && !!hoveredGroup.contentProps;\n\n            if (isCellGroupAnchor && canBuildPopoverContent) {\n                const content = groupBuilder\n                    ? groupBuilder(hoveredGroup.contentProps)\n                    : hoveredGroup.contentBuilder(hoveredGroup.contentProps);\n\n                return (\n                    <HtmlTooltip title={content} open={true} key={`${x}-${y}`} arrow placement={'top'}>\n                        <div>\n                            <HoverGridCell {...cellProps} />\n                        </div>\n                    </HtmlTooltip>\n                );\n            }\n\n            return <HoverGridCell {...cellProps} />;\n        });\n\n        return (\n            <div className={classes.gridRow} key={y}>\n                {cells}\n            </div>\n        );\n    });\n\n    const xAxisIndices = xAxis ? xAxis.indices.map((value) => {\n        return (\n            <div key={value} className={classes.columnIndex}>\n                <NumberSubscript value={xAxis.prefix} subscript={value} noBraces/>\n            </div>\n        );\n    }) : [];\n\n\n    const saveAsImage = async () => {\n        if (gridRef) {\n            await domtoimage\n                .toBlob(gridRef.current)\n                .then(function(blob) {\n                    saveAs(blob, 'result.png');\n                }).catch((error) => console.log(error));\n        }\n    };\n\n    return (\n        <div className={classes.gridWrapper}>\n            {\n                title &&\n                <div className='title'>\n                    <Typography>{title}</Typography>\n                    <Button size={'small'} onClick={saveAsImage}>\n                        <CopyOutlined/>\n                    </Button>\n                </div>\n            }\n            {\n                xAxis &&\n                <div className={classes.indicesBox}>\n                    {xAxisIndices}\n                </div>\n            }\n\n            <div className={classes.cellBox}>\n                <div className={classes.cellContent} ref={gridRef}>\n                    {rows}\n                </div>\n            </div>\n        </div>\n    );\n};\n","import { AdditionResult, BaseDigits, Digit } from '@calc/calc-arithmetic';\r\nimport { highlightedCellPreset } from './conversion-grid';\r\nimport { GridCellConfig } from '../models/grid-cell-config';\r\nimport { HoverOperationGrid } from '../models/hover-operation-grid';\r\nimport { buildColumnGroups } from './grid-utils';\r\nimport { LineType } from '../models/line-type';\r\nimport { GridLine } from '../..';\r\nimport { LineDefinition } from '../models/grid-line';\r\nimport { AxisConfig } from '../models/axis-config';\r\nimport { buildAxis } from './axis-utils';\r\n\r\ninterface DigitsInfo {\r\n    totalWidth: number;\r\n    numIntegerPartDigits: number;\r\n    numFractionalDigits: number;\r\n}\r\n\r\nexport function buildAdditionGrid(result: AdditionResult): HoverOperationGrid {\r\n    const rows: GridCellConfig[][] = [];\r\n    const base = result.resultDigits[0].base;\r\n    const info = extractDelimiterInfo(result);\r\n    const verticalLineIndex = info.numIntegerPartDigits;\r\n\r\n    const carryRows = carriesToCellConfig(result);\r\n    rows.push(...carryRows);\r\n    const horizontalLineIndex = result.operands.length - 1 + carryRows.length;\r\n\r\n    result.operands.forEach((operandDigits, index) => {\r\n        const cells: GridCellConfig[] = operandDigitsToCellConfig(operandDigits, info, base);\r\n        if (index === result.operands.length - 1) cells[0].content = '+';\r\n        rows.push(cells);\r\n    });\r\n\r\n    const resultRow: GridCellConfig[] = digitsToCellConfig(result.resultDigits);\r\n    rows.push(padWithEmptyCells(resultRow, info.totalWidth + 1, 'Left'));\r\n    const groups = buildColumnGroups(rows, [undefined, ...result.positionResults.reverse()]);\r\n\r\n    const xAxis: AxisConfig = buildAxis(result.resultDigits[0].position + 1, result.resultDigits.length + 1);\r\n\r\n    return {\r\n        values: rows,\r\n        groups,\r\n        lines: [\r\n            {\r\n                type: LineType.Vertical,\r\n                index: verticalLineIndex,\r\n            },\r\n            {\r\n                type: LineType.Horizontal,\r\n                index: horizontalLineIndex\r\n            },\r\n            getUnderlineForCarries(carryRows)\r\n        ],\r\n        xAxis\r\n    };\r\n}\r\n\r\nfunction getUnderlineForCarries(carryRows: GridCellConfig[][]): GridLine {\r\n    const index = carryRows.length - 1;\r\n    const span: LineDefinition = {\r\n        from: carryRows[index].findIndex((cell) => cell.content !== '')\r\n    };\r\n\r\n    return {\r\n        type: LineType.Horizontal,\r\n        index,\r\n        span\r\n    }\r\n}\r\n\r\nfunction carriesToCellConfig(result: AdditionResult): GridCellConfig[][] {\r\n    const width = result.resultDigits.length + 1;\r\n    const positionCarryLookup: Record<number, Digit[]> = {};\r\n    const positionIndexLookup: Record<number, number> = {};\r\n\r\n    result.resultDigits.forEach((posDigit, index) => {\r\n        positionIndexLookup[posDigit.position] = index + 1;\r\n    });\r\n\r\n    let mostCarriesPerPosition = 0;\r\n\r\n    result.positionResults.forEach((posResult) => {\r\n        posResult.carry.forEach((carry) => {\r\n            if (positionCarryLookup[carry.position]) {\r\n                positionCarryLookup[carry.position].push(carry);\r\n            } else {\r\n                positionCarryLookup[carry.position] = [carry];\r\n            }\r\n\r\n            const numCarries = positionCarryLookup[carry.position].length;\r\n\r\n            if (mostCarriesPerPosition < numCarries) {\r\n                mostCarriesPerPosition = numCarries;\r\n            }\r\n        });\r\n    });\r\n\r\n    const emptyCarryGrid = buildEmptyGrid(width, mostCarriesPerPosition);\r\n\r\n    Object.entries(positionCarryLookup).forEach(([strPosition, positionCarries]) => {\r\n        const numPosition = parseInt(strPosition);\r\n        positionCarries.forEach((carry, carryIndex) => {\r\n            const positionIndex = positionIndexLookup[numPosition];\r\n            emptyCarryGrid[carryIndex][positionIndex].content = carry.valueInBase;\r\n            emptyCarryGrid[carryIndex][positionIndex].preset = highlightedCellPreset;\r\n        });\r\n    });\r\n\r\n\r\n    return emptyCarryGrid;\r\n}\r\n\r\nfunction buildEmptyGrid(width: number, height: number): GridCellConfig[][] {\r\n    return [...Array(height).keys()].map(() => buildEmptyRow(width));\r\n}\r\n\r\nfunction buildEmptyRow(width: number): GridCellConfig[] {\r\n    return [...Array(width).keys()].map(() => ({ content: '' }));\r\n}\r\n\r\nfunction operandDigitsToCellConfig(digits: Digit[], info: DigitsInfo, base: number): GridCellConfig[] {\r\n    const indexOfZeroPositionDigit = digits.findIndex((digit) => digit.position === 0);\r\n    if (indexOfZeroPositionDigit === -1) {\r\n        return [];\r\n    }\r\n\r\n    const integerPartDigits = digits.slice(0, indexOfZeroPositionDigit + 1);\r\n    const fractionalPartDigits = digits.slice(indexOfZeroPositionDigit + 1);\r\n\r\n    const paddedIntegerPartDigits = padWithEmptyCellDigits(integerPartDigits, info.numIntegerPartDigits + 1, base, 'Left');\r\n    const paddedFractionalPartDigits = padWithEmptyCellDigits(fractionalPartDigits, info.numFractionalDigits, base, 'Right');\r\n\r\n    return [...paddedIntegerPartDigits, ...paddedFractionalPartDigits];\r\n}\r\n\r\nfunction extractDelimiterInfo(result: AdditionResult): DigitsInfo {\r\n    return {\r\n        totalWidth: result.resultDigits.length,\r\n        numIntegerPartDigits: result.numberResult.integerPart.length,\r\n        numFractionalDigits: result.numberResult.fractionalPart.length\r\n    };\r\n}\r\n\r\nexport function padWithEmptyCells(cells: GridCellConfig[], desiredWidth: number, direction?: 'Left' | 'Right'): GridCellConfig[] {\r\n    if (desiredWidth <= cells.length) return cells;\r\n    const missingCellsCount = desiredWidth - cells.length;\r\n    const newEmptyCells: GridCellConfig[] = [...Array(missingCellsCount).keys()].map(() => ({ content: '' }));\r\n\r\n    return direction === 'Left' ? [...newEmptyCells, ...cells] : [...cells, ...newEmptyCells];\r\n}\r\n\r\nexport function padWithEmptyCellDigits(digits: Digit[], desiredWidth: number, base: number, direction?: 'Left' | 'Right'): GridCellConfig[] {\r\n    const cells = digitsToCellConfig(digits);\r\n    if (desiredWidth <= digits.length) return cells;\r\n\r\n    const missingCellsCount = desiredWidth - digits.length;\r\n    const newEmptyCells: GridCellConfig[] = [...Array(missingCellsCount).keys()].map(() => {\r\n        const value = direction === 'Left' ? '' : BaseDigits.getDigit(0, base);\r\n        return ({ content: value });\r\n    });\r\n\r\n    return direction === 'Left' ? [...newEmptyCells, ...cells] : [...cells, ...newEmptyCells];\r\n}\r\n\r\nfunction digitsToCellConfig(digits: Digit[]): GridCellConfig[] {\r\n    return digits.map((digit) => {\r\n        const celLValue = digit.position === 0\r\n            ? `${digit.valueInBase}.`\r\n            : digit.valueInBase;\r\n        return ({ content: celLValue });\r\n    });\r\n}\r\n","import { AxisConfig } from '../models/axis-config';\r\n\r\n\r\nexport function buildAxis(start: number, desiredLength: number, prefix = 'n'): AxisConfig {\r\n    const indices = [];\r\n    let num = start;\r\n\r\n    while(indices.length < desiredLength) {\r\n        indices.push(num.toString());\r\n        num --;\r\n    }\r\n\r\n    return {\r\n        prefix,\r\n        indices\r\n    }\r\n}\r\n","import { Conversion, ConversionToArbitrary, ConversionType } from '@calc/calc-arithmetic';\nimport { walk } from '@calc/utils';\nimport { GridCellDisplayPreset } from '../models/grid-cell-display-preset';\nimport { GridCellConfig } from '../models/grid-cell-config';\nimport { CellGroup } from '../models/cell-group';\nimport { GridLine } from '../models/grid-line';\nimport { HoverOperationGrid } from '../models/hover-operation-grid';\nimport { buildRowGroup } from './grid-utils';\nimport { LineType } from '../models/line-type';\nimport { RowConversionOperation } from '../models/row-conversion-operation';\nimport { FloatingPartConversionInfo } from '../models/floating-part-conversion-info';\n\nexport const defaultCellPreset: GridCellDisplayPreset = {\n    default: 'defaultCell',\n    hover: 'hoverCell'\n};\n\nexport const highlightedCellPreset: GridCellDisplayPreset = {\n    default: 'highlightedCell',\n    hover: 'highlightedCellHover'\n};\n\nexport function buildFractionalConversionGrid(conversion: Conversion, precision = 5): HoverOperationGrid {\n    const { fractionalMultipliers } = extractConversionToArbitrary(conversion);\n\n    const rows: GridCellConfig[][] = [];\n    const groups: CellGroup[] = [];\n    const lines: GridLine[] = [ ];\n\n    let multiplicandMaxLength = 0;\n    let resultMaxLength = 0;\n\n\n    walk(fractionalMultipliers.slice(0, precision * 2), 2, ([leftMultiplicand, rightResult]: [string, string], index) => {\n        /*\n           Grid row for single operation below:\n           0.1234 x 2 = 0.2468\n           Will look like that:\n           |0.|1|2|3|4| ----------- |0.| ------------- |2|4|6|8| --------- |2|\n           multiplicand   fraction digit result   multiplication result   base\n                                     |                      |\n                                     |------- result -------|\n         */\n        if (index === fractionalMultipliers.length - 1) return;\n\n        const multiplicandCells = buildMultiplicandCells(leftMultiplicand, multiplicandMaxLength + 1);\n        const multiplicationResultCells = buildMultiplicationResultCells(rightResult, resultMaxLength);\n        const baseCell = { content: conversion.result.base.toString() };\n\n        const newRow: GridCellConfig[] = [\n            ...multiplicandCells,\n            ...multiplicationResultCells,\n            baseCell\n        ];\n\n        const propContent: FloatingPartConversionInfo = {\n            base: conversion.result.base.toString(),\n            multiplier: leftMultiplicand,\n            result: rightResult\n        };\n\n        groups.push(buildRowGroup(newRow, index / 2, propContent));\n        rows.push(newRow);\n\n        if (index === 0) {\n            multiplicandMaxLength = multiplicandCells.length - 1;\n            resultMaxLength = multiplicationResultCells.length - 1;\n            const separatorLine: GridLine = {\n                index: multiplicandCells.length - 1,\n                type: LineType.Vertical\n            };\n            lines.push(separatorLine)\n        }\n    });\n\n    return {\n        values: rows,\n        lines,\n        groups\n    };\n}\n\nfunction buildMultiplicandCells(multiplicand: string, desiredLength: number): GridCellConfig[] {\n    const delimiterIndex = multiplicand.indexOf('.');\n    const multiplicandWithoutDelimiter = multiplicand.replace('.', '');\n    const cellsWithContent: GridCellConfig[] = [...multiplicandWithoutDelimiter.split('').map((val, index) => {\n        return index === delimiterIndex - 1\n            ? { preset: defaultCellPreset, content: val + '.' }\n            : { preset: defaultCellPreset, content: val };\n    })];\n\n    const leftEmptyCells: GridCellConfig[] = getEmptyCellsPadding(desiredLength, cellsWithContent.length);\n\n    return [...leftEmptyCells, ...cellsWithContent]\n}\n\nfunction buildMultiplicationResultCells(rightResult: string, desiredLength: number): GridCellConfig[] {\n    const [beforeRightDelimiter, afterRightDelimiter] = rightResult.split('.');\n    const digitResultCell: GridCellConfig = { content: beforeRightDelimiter + '.', preset: highlightedCellPreset };\n    const restOfMultiplicationResultCells = afterRightDelimiter\n        ? [...afterRightDelimiter.split('').map((val) => ({ content: val, preset: defaultCellPreset }))]\n        : [];\n    const allRightCells: GridCellConfig[] = [digitResultCell].concat(restOfMultiplicationResultCells);\n    const defaultRightEmptyCell: GridCellConfig[] = [{ content: ' ' }];\n    const rightEmptyCells: GridCellConfig[] = getEmptyCellsPadding(desiredLength, allRightCells.length).concat(defaultRightEmptyCell);\n\n    return [...allRightCells, ...rightEmptyCells];\n}\n\nexport function buildIntegralConversionGrid(conversion: Conversion): HoverOperationGrid {\n    const firstStage = extractConversionToArbitrary(conversion);\n    const reversedResultDigits = [...firstStage.result.integerPart.digits].reverse();\n    const rows: GridCellConfig[][] = [];\n\n    let initialEmptyCellOffset = [[], []];\n    const rowGroups: CellGroup[] = [];\n    const lines: GridLine[] = [];\n    const divisors = firstStage.integralDivisors;\n\n    divisors.forEach((value, index) => {\n        if (index === divisors.length - 1) return;\n        const [emptyLeft, emptyRight] = initialEmptyCellOffset;\n\n        const left: GridCellConfig[] = [...value.split('').map((val) => ({ content: val, preset: defaultCellPreset }))];\n        const leftEmptyCells: GridCellConfig[] = getEmptyCellsPadding(emptyLeft.length, left.length);\n\n        let right: GridCellConfig[] = [...divisors[index + 1].split('')].map((val) => ({ content: val, preset: defaultCellPreset }));\n        const defaultRightEmptyCell: GridCellConfig[] = [{ content: ' ' }];\n        let rightEmptyCells: GridCellConfig[] = getEmptyCellsPadding(emptyRight.length, right.length).concat(defaultRightEmptyCell);\n\n        if (index === divisors.length - 2) {\n            right = right.map((val) => ({ content: val.content, preset: highlightedCellPreset }));\n            rightEmptyCells = rightEmptyCells.map((val) => ({ content: val.content, preset: highlightedCellPreset }));\n\n            const separatorLine: GridLine = {\n                type: LineType.Vertical,\n                index: leftEmptyCells.length + left.length - 1\n            };\n\n            lines.push(separatorLine)\n        }\n\n        const propContent: RowConversionOperation = {\n            base: firstStage.result.base.toString(),\n            dividend: value,\n            remainder: reversedResultDigits[index],\n            result: divisors[index + 1]\n        };\n\n        const newRow: GridCellConfig[] = [\n            ...leftEmptyCells,\n            ...left,\n            ...right,\n            ...rightEmptyCells,\n            { content: reversedResultDigits[index], preset: highlightedCellPreset }\n        ];\n\n        rowGroups.push(buildRowGroup(newRow, index, propContent));\n\n        rows.push(newRow);\n        if (index === 0) initialEmptyCellOffset = [left, right];\n    });\n\n\n    return {\n        values: rows,\n        groups: rowGroups,\n        lines\n    };\n}\n\nfunction extractConversionToArbitrary(conversion: Conversion): ConversionToArbitrary {\n    const conversionToArbitrary = conversion.stages.length > 1\n        ? conversion.getLastStage()\n        : conversion.getFirstStage();\n\n    return conversionToArbitrary as ConversionToArbitrary;\n}\n\nfunction getEmptyCellsPadding(initialLength: number, currentLength: number): GridCellConfig[] {\n    const offset = initialLength - currentLength;\n    return offset > 0 ? ' '.repeat(offset).split('').map((value) => ({ content: value })) : [];\n}\n","import { GridLine, LineDefinition } from '../models/grid-line';\r\nimport { LineType } from '../models/line-type';\r\n\r\nfunction isInSpan(index: number, range?: LineDefinition) {\r\n    if(!range) return true;\r\n    if(!range.to) return index >= range.from;\r\n    if(!range.from) return index <= range.to;\r\n\r\n    return index >= range.from && index <= range.to;\r\n}\r\n\r\nexport function verticalLineIntersects(x: number, y: number, line: GridLine): boolean {\r\n    return x === line.index && isInSpan(y, line.span);\r\n}\r\n\r\nexport function horizontalLineIntersects(x: number, y: number, line: GridLine): boolean {\r\n    return y === line.index && isInSpan(x, line.span);\r\n}\r\n\r\nexport function anyHorizontalLineIntersects(x: number, y: number, lines: GridLine[]): boolean {\r\n    return lines.some((line) => {\r\n        if(line.type === LineType.Vertical) return false;\r\n        return horizontalLineIntersects(x, y, line);\r\n    });\r\n}\r\n\r\nexport function anyVerticalLineIntersects(x: number, y: number, lines: GridLine[]): boolean {\r\n    return lines.some((line) => {\r\n        if(line.type === LineType.Horizontal) return false;\r\n        return verticalLineIntersects(x, y, line);\r\n    });\r\n}\r\n\r\n","import { intersect, range } from '@calc/utils';\nimport { CellPosition } from '../models/cell-position';\nimport { CellGroup } from '../models/cell-group';\nimport { GridCellConfig } from '../models/grid-cell-config';\nimport { GridCellDisplayPreset } from '../models/grid-cell-display-preset';\nimport { CellCoords } from '../models/cell-coords';\nimport { HoverOperationGrid } from '../models/hover-operation-grid';\nimport { LineType } from '../models/line-type';\nimport { GridLookup } from '../models/grid-lookup';\n\n\nexport function buildEmptyGrid(width: number, height: number): GridCellConfig[][] {\n    return [...Array(height).keys()].map(() => buildEmptyRow(width));\n}\n\nfunction buildEmptyRow(width: number): GridCellConfig[] {\n    const preset: GridCellDisplayPreset = {\n        default: 'defaultCell'\n    };\n\n    return [...Array(width).keys()].map(() => ({ content: '', preset }));\n}\n\nexport function buildRowGroups(cells: GridCellConfig[][], contentProps?: any, builder?: any): CellGroup[] {\n    if (!cells.length) return [];\n\n    return cells.map((row, rowIndex) => {\n        const [start, end] = getStartEndRowCoords(row, rowIndex);\n        const cells = groupCellsInStraightLine(start, end);\n        return {\n            cells: cells,\n            contentProps: contentProps,\n            contentBuilder: builder\n        };\n    });\n}\n\nexport function buildRowGroup(row: GridCellConfig[], rowIndex: number, contentProps?: any, contentBuilder?: any): CellGroup {\n    const [start, end] = getStartEndRowCoords(row, rowIndex);\n    return {\n        cells: groupCellsInStraightLine(start, end),\n        contentBuilder: contentBuilder,\n        contentProps: contentProps\n    };\n}\n\nexport function buildColumnGroups(cells: GridCellConfig[][], contentProps?: any[], contentBuilder?: any): CellGroup[] {\n    if (!cells.length) return [];\n\n    const groups: CellGroup[] = [];\n\n    for (let x = 0; x < cells[0].length; x++) {\n        const start: CellCoords = { x, y: 0 };\n        const end: CellCoords = { x, y: cells.length - 1 };\n        const group: CellGroup = {\n            cells: groupCellsInStraightLine(start, end),\n            contentProps: (contentProps && contentProps[x]) ? contentProps[x] : '',\n            contentBuilder: contentBuilder\n        };\n        groups.push(group);\n    }\n\n    return groups;\n}\n\nexport function buildCellGroupLookup(groups: CellGroup[]): GridLookup {\n    const sortedGroups = groups.sort((a, b) => {\n        return a.cells.length > b.cells.length ? 1 : -1;\n    });\n\n    return sortedGroups.reduce((lookup, group) => {\n        group.cells.forEach((cell) => {\n            const cellKey = `${cell.x}-${cell.y}`;\n\n            if (lookup[cellKey]) {\n                lookup[cellKey].push(group);\n            } else {\n                lookup[cellKey] = [group];\n            }\n        });\n\n        return lookup;\n    }, {} as GridLookup);\n}\n\nfunction getStartEndRowCoords(row: GridCellConfig[], rowIndex: number): [CellCoords, CellCoords] {\n    const start: CellCoords = { x: 0, y: rowIndex };\n    const end: CellCoords = { x: row.length - 1, y: rowIndex };\n    return [start, end];\n}\n\nexport function groupCellsInStraightLine(a: CellCoords, b: CellCoords): CellCoords[] {\n    const horizontalLine = a.y === b.y;\n    const verticalLine = a.x === b.x;\n\n    if (horizontalLine) {\n        const { start, range } = getCellRange(a.x, b.x);\n        return range.map((x) => ({ x: start + x, y: a.y }));\n    }\n\n    if (verticalLine) {\n        const { start, range } = getCellRange(a.y, b.y);\n        return range.map((y) => ({ y: start + y, x: a.x }));\n    }\n\n    return [];\n}\n\ninterface CellRange {\n    start: number;\n    range: number[];\n}\n\nfunction getCellRange(a: number, b: number): CellRange {\n    const to = Math.max(a, b);\n    const from = Math.min(a, b);\n    const diff = to - from;\n\n    return { range: range(0, diff), start: from };\n}\n\n\nexport function getOutlierAtPosition(cellGroup: CellGroup, position: CellPosition): CellCoords {\n    if (!cellGroup.cells) return { x: -1, y: -1 };\n\n    return {\n        [CellPosition.TopRight]: getTopRightOutlier(cellGroup),\n        [CellPosition.TopLeft]: getTopLeftOutlier(cellGroup),\n        [CellPosition.Top]: getTopMiddleOutlier(cellGroup)\n    } [position] || getTopRightOutlier(cellGroup);\n}\n\nfunction getTopMiddleOutlier(cellGroup: CellGroup): CellCoords {\n    const topmost = getTopMostCells(cellGroup);\n    return topmost[Math.floor((topmost.length - 1) / 2)];\n}\n\nfunction getTopMostCells(cellGroup: CellGroup): CellCoords[] {\n    return getOutliers(cellGroup, Math.min, 'y');\n}\n\nfunction getBottommostCells(cellGroup: CellGroup): CellCoords[] {\n    return getOutliers(cellGroup, Math.max, 'y');\n}\n\nfunction getRightmostCells(cellGroup: CellGroup): CellCoords[] {\n    return getOutliers(cellGroup, Math.max, 'x');\n}\n\nfunction getLeftmostCells(cellGroup: CellGroup): CellCoords[] {\n    return getOutliers(cellGroup, Math.min, 'x');\n}\n\nfunction getTopRightOutlier(cellGroup: CellGroup): CellCoords {\n    const topmost = getTopMostCells(cellGroup);\n    const rightmost = getRightmostCells(cellGroup);\n    const [topRight] = intersect(topmost, rightmost, coordsEqual);\n    return topRight || topmost[0];\n}\n\nfunction getTopLeftOutlier(cellGroup: CellGroup): CellCoords {\n    const topmost = getTopMostCells(cellGroup);\n    const leftmost = getLeftmostCells(cellGroup);\n\n    const [topRight] = intersect(topmost, leftmost, coordsEqual);\n    return topRight || topmost[0];\n}\n\nexport function coordsEqual(a: CellCoords, b: CellCoords): boolean {\n    return a.x === b.x && a.y === b.y;\n}\n\nfunction getOutliers(cellGroup: CellGroup, minmax: (...values: number[]) => number, key: string): CellCoords[] {\n    const { cells } = cellGroup;\n    const outlier = minmax(...cells.map((cell) => cell[key]));\n    return cells.filter((cell) => cell[key] === outlier);\n}\n\nexport function gridToAscii(grid: HoverOperationGrid): string {\n    let ascii = '\\n';\n\n    grid.values.forEach((row, rowIndex) => {\n        const horizontalLine = grid.lines.find((line) => {\n            return line.type === LineType.Horizontal && line.index === rowIndex;\n        });\n\n        if (horizontalLine) {\n            ascii = ascii.concat('_'.repeat(grid.values[0].length).concat('\\n'));\n            return;\n        }\n\n        row.forEach((cell, columnIndex) => {\n            ascii = ascii.concat(cell.content + ' ');\n            const verticalLine = grid.lines.find((line) => {\n                return line.type === LineType.Vertical && line.index === columnIndex;\n            });\n\n            if (verticalLine) {\n                ascii = ascii.concat('| ');\n            }\n        });\n        ascii = ascii.concat('\\n');\n    });\n\n    return ascii;\n}\n\n","export enum CellPosition {\r\n  TopLeft = 'TopLeft',\r\n  Top = 'Top',\r\n  TopRight = 'TopRight',\r\n  Right = 'Right',\r\n  BottomRight = 'BottomRight',\r\n  Bottom = 'Bottom',\r\n  BottomLeft = 'BottomLeft',\r\n  Left = 'Left'\r\n}\r\n","export enum LineType {\r\n  Vertical = 'Vertical',\r\n  Horizontal = 'Horizontal'\r\n}\r\n","export { copyToClipboard } from './lib/core/functions/copy-to-clipboard';\r\nexport { InputWithCopy, InputType } from './lib/components/input-with-copy/input-with-copy';\r\nexport { NumberSubscript } from './lib/components/number-subscript/number-subscript';\r\nexport { darkTheme } from './lib/themes/dark';\r\nexport { lightTheme } from './lib/themes/light';\r\nexport { AppTheme, getTheme, availableThemes } from './lib/themes';\r\nexport { GitlabIcon } from './lib/components/gitlab-icon/gitlab-icon';\r\nexport { TabPanel, a11yProps } from './lib/components/tab-panel/tab-panel';\r\n","import { SvgIcon } from '@material-ui/core';\r\nimport { FC } from 'react';\r\nimport React from 'react';\r\n\r\n\r\nexport const GitlabIcon: FC = (props) => {\r\n    return (\r\n     <SvgIcon>\r\n         <path d=\"M21.94 13.11l-1.05-3.22c0-.03-.01-.06-.02-.09l-2.11-6.48a.859.859 0 0 0-.8-.57c-.36 0-.68.25-.79.58l-2 6.17H8.84L6.83 3.33a.851.851 0 0 0-.79-.58c-.37 0-.69.25-.8.58L3.13 9.82v.01l-1.07 3.28c-.16.5.01 1.04.44 1.34l9.22 6.71c.17.12.39.12.56-.01l9.22-6.7c.43-.3.6-.84.44-1.34M8.15 10.45l2.57 7.91l-6.17-7.91m8.73 7.92l2.47-7.59l.1-.33h3.61l-5.59 7.16m4.1-13.67l1.81 5.56h-3.62m-1.3.95l-1.79 5.51L12 19.24l-2.86-8.79M6.03 3.94L7.84 9.5H4.23m-1.18 4.19c-.09-.07-.13-.19-.09-.29l.79-2.43l5.82 7.45m11.38-4.73l-6.51 4.73l.02-.03l5.79-7.42l.79 2.43c.04.1 0 .22-.09.29\">\r\n         </path>\r\n     </SvgIcon>\r\n    )\r\n};\r\n","import React, { CSSProperties, FC, ReactNode, SyntheticEvent, useRef } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { createStyles, IconButton, Snackbar, TextField, TextFieldProps, Theme } from '@material-ui/core';\r\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\r\nimport MuiAlert, { AlertProps } from '@material-ui/lab/Alert';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport enum InputType {\r\n    Text = 'text',\r\n    Number = 'number'\r\n}\r\n\r\nfunction Alert(props: AlertProps) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\ninterface P {\r\n    value?: string | number;\r\n    id?: string;\r\n    name?: string;\r\n    onValueChange?: (value: string) => void;\r\n    onChange?: (event) => void;\r\n    readOnly?: boolean;\r\n    label?: ReactNode;\r\n    error?: boolean;\r\n    helperText?: string;\r\n    inputType?: InputType;\r\n    style?: CSSProperties;\r\n    className?: string;\r\n    size?: 'small' | 'middle' | 'large';\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) => {\r\n    return createStyles({\r\n        row: {\r\n            display: 'flex',\r\n            flexDirection: 'row',\r\n            flexWrap: 'wrap'\r\n        }\r\n    });\r\n});\r\n\r\n\r\nexport const InputWithCopy: FC<P> = ({ onValueChange, onChange, style, className, value, id, name, size, error, helperText, label, inputType, readOnly }) => {\r\n    const textAreaRef = useRef(null);\r\n    const { t } = useTranslation();\r\n    const [open, setOpen] = React.useState(false);\r\n    const classes = useStyles();\r\n\r\n    const handleClose = (event?: SyntheticEvent, reason?: string) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n\r\n        setOpen(false);\r\n    };\r\n\r\n    const copyToClipboard = () => {\r\n        if (textAreaRef.current) {\r\n            textAreaRef.current.select();\r\n            document.execCommand('copy');\r\n            setOpen(true);\r\n        }\r\n    };\r\n\r\n    const handleChange = (event) => {\r\n        if (onValueChange) {\r\n            const value = event.target.value;\r\n            onValueChange(value);\r\n        }\r\n\r\n        if(onChange) onChange(event);\r\n    };\r\n\r\n    const handleNumberChange = (value) => {\r\n        if (onValueChange) {\r\n            onValueChange(value);\r\n        }\r\n    };\r\n\r\n    const props: TextFieldProps = {\r\n        error,\r\n        id,\r\n        name,\r\n        helperText,\r\n        style: {\r\n            ...style,\r\n            flexGrow: 1\r\n        },\r\n        inputProps: {\r\n            'aria-readonly': readOnly\r\n        },\r\n        variant: 'outlined',\r\n        inputRef: textAreaRef,\r\n        label,\r\n        value: value as any,\r\n        onChange: inputType === InputType.Number ? handleNumberChange : handleChange\r\n    };\r\n\r\n    return (\r\n        <div className={className}>\r\n            <span className={classes.row}>\r\n                {\r\n                    inputType === InputType.Number\r\n                        ? <TextField type={'number'} {...props}/>\r\n                        : <TextField {...props}/>\r\n                }\r\n                {\r\n                    document.queryCommandSupported('copy') &&\r\n                    <div style={{ paddingLeft: '5px' }}>\r\n                        <IconButton onClick={copyToClipboard}>\r\n                            <FileCopyIcon/>\r\n                        </IconButton>\r\n                    </div>\r\n                }\r\n            </span>\r\n            <Snackbar anchorOrigin={{ vertical: 'top', horizontal: 'right' }} open={open} autoHideDuration={2000}\r\n                      onClose={handleClose}>\r\n                <Alert severity=\"info\">{t('common.copy')}</Alert>\r\n            </Snackbar>\r\n        </div>\r\n    );\r\n};\r\n","import React, { FC } from 'react';\r\n\r\ninterface P {\r\n    value: string;\r\n    subscript?: number | string;\r\n    noBraces?: boolean;\r\n}\r\n\r\nexport const NumberSubscript: FC<P> = ({ value, subscript, noBraces }) => {\r\n    if(noBraces) {\r\n       return (\r\n           <span>\r\n                {value}<sub>{subscript}</sub>\r\n           </span>\r\n       )\r\n   }\r\n\r\n    return (\r\n        <span>\r\n            {value}<sub>({subscript})</sub>\r\n        </span>\r\n    );\r\n};\r\n","import { Box } from '@material-ui/core';\r\nimport React, { FC } from 'react';\r\n\r\ninterface TabPanelProps {\r\n    children?: React.ReactNode;\r\n    dir?: string;\r\n    index: any;\r\n    value: any;\r\n}\r\n\r\nexport function a11yProps(index: number | string) {\r\n    return {\r\n        id: `simple-tab-${index}`,\r\n        'aria-controls': `simple-tabpanel-${index}`,\r\n    };\r\n}\r\n\r\nexport const TabPanel: FC<TabPanelProps> = ({children, value, index, ...other}) =>{\r\n\r\n    return (\r\n        <div\r\n            role=\"tabpanel\"\r\n            hidden={value !== index}\r\n            id={`simple-tabpanel-${index}`}\r\n            aria-labelledby={`simple-tab-${index}`}\r\n            {...other}\r\n        >\r\n            {value === index && (\r\n                <Box>\r\n                    {children}\r\n                </Box>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n","export function copyToClipboard(text: string): void {\r\n    const textarea = document.createElement('textarea');\r\n    document.body.appendChild(textarea);\r\n    textarea.value = text;\r\n    textarea.select();\r\n    document.execCommand('copy');\r\n    document.body.removeChild(textarea);\r\n}\r\n","import { createMuiTheme } from '@material-ui/core';\r\n\r\nexport const darkTheme = createMuiTheme({\r\n    palette: {\r\n        type: 'dark',\r\n        primary: {\r\n            main: '#333',\r\n        }\r\n    }\r\n});\r\n","import { Theme } from '@material-ui/core';\r\nimport { darkTheme } from './dark';\r\nimport { lightTheme } from './light';\r\n\r\nexport enum AppTheme {\r\n    Light = 'light',\r\n    Dark = 'dark'\r\n}\r\n\r\nexport const availableThemes = {\r\n    [AppTheme.Dark]: darkTheme,\r\n    [AppTheme.Light]: lightTheme\r\n};\r\n\r\nexport function getTheme(theme: AppTheme): Theme {\r\n    return availableThemes[theme]\r\n}\r\n","import { createMuiTheme } from '@material-ui/core';\r\n\r\nexport const lightTheme = createMuiTheme({\r\n    palette: {\r\n        type: 'light',\r\n        primary: {\r\n            main: '#1976d2',\r\n            light: '#1976d2'\r\n        }\r\n    },\r\n});\r\n","export * from './lib/chunks';\r\nexport * from './lib/walk';\r\nexport * from './lib/log';\r\nexport * from './lib/trim';\r\nexport * from './lib/range';\r\nexport * from './lib/intersect';\r\nexport * from './lib/replace-all';\r\nexport * from './lib/clean';\r\n","export function chunks<T>(array: Array<T>, chunkSize: number): Array<Array<T>> {\r\n    return array.reduce((resultArray, item, index) => {\r\n        const chunkIndex = Math.floor(index / chunkSize);\r\n\r\n        if (!resultArray[chunkIndex]) {\r\n            resultArray[chunkIndex] = []; // start a new chunk\r\n        }\r\n\r\n        resultArray[chunkIndex].push(item);\r\n\r\n        return resultArray;\r\n    }, []);\r\n}\r\n\r\nexport function chunksFromEnd<T>(array: Array<T>, chunkSize: number): Array<Array<T>> {\r\n    const remainder = array.length % chunkSize;\r\n\r\n    return remainder\r\n        ? [array.slice(0, remainder), ...chunks(array.slice(remainder), chunkSize)]\r\n        : chunks(array, chunkSize);\r\n}\r\n","\r\nexport function clean(obj: Record<string, any>): Record<string, any> {\r\n    return Object.entries(obj).reduce((a, [k, v]) => (v == null ? a : (a[k] = v, a)), {});\r\n}\r\n","export function intersect<T>(a: Array<T>, b: Array<T>, comparer: (a: T, b: T) => boolean): Array<T> {\r\n    return a.filter(n => b.some(n2 => comparer(n, n2)));\r\n}\r\n","\r\nexport function logBase(n: number, base: number): number {\r\n    return Math.log(n) / Math.log(base);\r\n}\r\n","\r\nexport function range(start: number, end: number): number[] {\r\n    if(start === end) return [];\r\n    return Array.from({ length: end - start + 1 }, (_, i) => i)\r\n}\r\n","/**\r\n * Replaces all the occurrences of toReplace with replacement\r\n * @param str\r\n * @param toReplace\r\n * @param replacement\r\n */\r\nexport function replaceAll(\r\n    str: string,\r\n    toReplace: string,\r\n    replacement: string\r\n): string {\r\n    return str.replace(new RegExp(toReplace, 'g'), replacement);\r\n}\r\n","export function trimEndByPredicate<T>(array: Array<T>, predicate: (T) => boolean): Array<T> {\r\n    if(!array.length) return array;\r\n\r\n    let lastFromRightMatching = -1;\r\n\r\n    for(let i = array.length -1; i >= 0; i--) {\r\n        if(predicate(array[i]))\r\n            lastFromRightMatching = i;\r\n        else\r\n            break;\r\n    }\r\n\r\n    return lastFromRightMatching === -1\r\n        ? array\r\n        : array.slice(0, lastFromRightMatching)\r\n}\r\n\r\nexport function trimStartByPredicate<T>(array: Array<T>, predicate: (T) => boolean): Array<T> {\r\n    if(!array.length) return array;\r\n\r\n    let lastFromLeftMatching = -1;\r\n\r\n    for(let i = 0; i <= array.length -1; i++) {\r\n        if(predicate(array[i]))\r\n            lastFromLeftMatching = i;\r\n        else\r\n            break;\r\n    }\r\n\r\n    return lastFromLeftMatching === -1\r\n        ? array\r\n        : array.slice(lastFromLeftMatching + 1);\r\n}\r\n","type WalkCallback<T> = (chunk: T[], index: number, arr?: T[]) => void\r\n\r\nexport function walk<T>(arr: T[], n: number, callback: WalkCallback<T>): void {\r\n    for (let i = 0; i < arr.length; i += n)\r\n        callback(arr.slice(i, i + n), i, arr);\r\n}\r\n","module.exports = \"/*\\n * Remove template code below\\n */\\n.app {\\n  font-family: sans-serif;\\n  min-width: 300px;\\n  max-width: 1200px;\\n  margin: 50px auto;\\n}\\n.app .gutter-left {\\n  margin-left: 9px;\\n}\\n.app .col-span-2 {\\n  grid-column: span 2;\\n}\\n.app .flex {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n.app main {\\n  padding: 0 36px;\\n}\\n.app p {\\n  text-align: center;\\n}\\n.app h1 {\\n  text-align: center;\\n  margin-left: 18px;\\n  font-size: 24px;\\n}\\n.app h2 {\\n  text-align: center;\\n  font-size: 20px;\\n  margin: 40px 0 10px 0;\\n}\\n.app .resources {\\n  text-align: center;\\n  list-style: none;\\n  padding: 0;\\n  display: grid;\\n  grid-gap: 9px;\\n  grid-template-columns: 1fr 1fr;\\n}\\n.app .resource {\\n  color: #0094ba;\\n  height: 36px;\\n  background-color: rgba(0, 0, 0, 0);\\n  border: 1px solid rgba(0, 0, 0, 0.12);\\n  border-radius: 4px;\\n  padding: 3px 9px;\\n  text-decoration: none;\\n}\\n.app .resource:hover {\\n  background-color: rgba(68, 138, 255, 0.04);\\n}\\n.app pre {\\n  padding: 9px;\\n  border-radius: 4px;\\n  background-color: black;\\n  color: #eee;\\n}\\n.app details {\\n  border-radius: 4px;\\n  color: #333;\\n  background-color: rgba(0, 0, 0, 0);\\n  border: 1px solid rgba(0, 0, 0, 0.12);\\n  padding: 3px 9px;\\n  margin-bottom: 9px;\\n}\\n.app summary {\\n  outline: none;\\n  height: 36px;\\n  line-height: 36px;\\n}\\n.app .github-star-container {\\n  margin-top: 12px;\\n  line-height: 20px;\\n}\\n.app .github-star-container a {\\n  display: flex;\\n  align-items: center;\\n  text-decoration: none;\\n  color: #333;\\n}\\n.app .github-star-badge {\\n  color: #24292e;\\n  display: flex;\\n  align-items: center;\\n  font-size: 12px;\\n  padding: 3px 10px;\\n  border: 1px solid rgba(27, 31, 35, 0.2);\\n  border-radius: 3px;\\n  background-image: linear-gradient(-180deg, #fafbfc, #eff3f6 90%);\\n  margin-left: 4px;\\n  font-weight: 600;\\n}\\n.app .github-star-badge:hover {\\n  background-image: linear-gradient(-180deg, #f0f3f6, #e6ebf1 90%);\\n  border-color: rgba(27, 31, 35, 0.35);\\n  background-position: -0.5em;\\n}\\n.app .github-star-badge .material-icons {\\n  height: 16px;\\n  width: 16px;\\n  margin-right: 4px;\\n}\\n.logo {\\n  height: 32px;\\n  background: rgba(255, 255, 255, 0.2);\\n  margin: 14px;\\n}\\n.site-layout {\\n  height: 100vh;\\n}\\n.site-header {\\n  position: fixed;\\n  z-index: 1;\\n  width: calc(100% - 100px);\\n  background: unset;\\n  display: flex;\\n  flex-direction: row-reverse;\\n  height: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcHMvY2FsYy13ZWIvc3JjL2FwcC9DOlxcVXNlcnNcXEpha3ViXFxXZWJzdG9ybVByb2plY3RzXFxjYWxjL2FwcHNcXGNhbGMtd2ViXFxzcmNcXGFwcFxcYXBwLnNjc3MiLCJhcHBzL2NhbGMtd2ViL3NyYy9hcHAvYXBwLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0VBQUE7QUFJQTtFQUNFLHVCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLGlCQUFBO0FDQUY7QURHQTtFQUNFLGdCQUFBO0FDQUY7QURHQTtFQUNFLG1CQUFBO0FDQUY7QURHQTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0FDQUY7QURHQTtFQUNFLGVBQUE7QUNBRjtBREdBO0VBQ0Usa0JBQUE7QUNBRjtBREdBO0VBQ0Usa0JBQUE7RUFDQSxpQkFBQTtFQUNBLGVBQUE7QUNBRjtBREdBO0VBQ0Usa0JBQUE7RUFDQSxlQUFBO0VBQ0EscUJBQUE7QUNBRjtBREdBO0VBQ0Usa0JBQUE7RUFDQSxnQkFBQTtFQUNBLFVBQUE7RUFDQSxhQUFBO0VBQ0EsYUFBQTtFQUNBLDhCQUFBO0FDQUY7QURHQTtFQUNFLGNBQUE7RUFDQSxZQUFBO0VBQ0Esa0NBQUE7RUFDQSxxQ0FBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxxQkFBQTtBQ0FGO0FER0E7RUFDRSwwQ0FBQTtBQ0FGO0FER0E7RUFDRSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSx1QkFBQTtFQUNBLFdBQUE7QUNBRjtBREdBO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0VBQ0Esa0NBQUE7RUFDQSxxQ0FBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7QUNBRjtBREdBO0VBQ0UsYUFBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtBQ0FGO0FER0E7RUFDRSxnQkFBQTtFQUNBLGlCQUFBO0FDQUY7QURHQTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHFCQUFBO0VBQ0EsV0FBQTtBQ0FGO0FER0E7RUFDRSxjQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsdUNBQUE7RUFDQSxrQkFBQTtFQUNBLGdFQUFBO0VBQ0EsZ0JBQUE7RUFDQSxnQkFBQTtBQ0FGO0FER0E7RUFDRSxnRUFBQTtFQUNBLG9DQUFBO0VBQ0EsMkJBQUE7QUNBRjtBREVBO0VBQ0UsWUFBQTtFQUNBLFdBQUE7RUFDQSxpQkFBQTtBQ0NGO0FERUE7RUFDSSxZQUFBO0VBQ0Esb0NBQUE7RUFDQSxZQUFBO0FDQ0o7QURFQTtFQUNJLGFBQUE7QUNDSjtBREVBO0VBQ0ksZUFBQTtFQUNBLFVBQUE7RUFDQSx5QkFBQTtFQUNBLGlCQUFBO0VBQ0EsYUFBQTtFQUNBLDJCQUFBO0VBQ0EsWUFBQTtBQ0NKIiwiZmlsZSI6ImFwcHMvY2FsYy13ZWIvc3JjL2FwcC9hcHAuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAqIFJlbW92ZSB0ZW1wbGF0ZSBjb2RlIGJlbG93XHJcbiAqL1xyXG5cclxuLmFwcCB7XHJcbiAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7XHJcbiAgbWluLXdpZHRoOiAzMDBweDtcclxuICBtYXgtd2lkdGg6IDEyMDBweDtcclxuICBtYXJnaW46IDUwcHggYXV0bztcclxufVxyXG5cclxuLmFwcCAuZ3V0dGVyLWxlZnQge1xyXG4gIG1hcmdpbi1sZWZ0OiA5cHg7XHJcbn1cclxuXHJcbi5hcHAgLmNvbC1zcGFuLTIge1xyXG4gIGdyaWQtY29sdW1uOiBzcGFuIDI7XHJcbn1cclxuXHJcbi5hcHAgLmZsZXgge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxufVxyXG5cclxuLmFwcCBtYWluIHtcclxuICBwYWRkaW5nOiAwIDM2cHg7XHJcbn1cclxuXHJcbi5hcHAgcCB7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4uYXBwIGgxIHtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgbWFyZ2luLWxlZnQ6IDE4cHg7XHJcbiAgZm9udC1zaXplOiAyNHB4O1xyXG59XHJcblxyXG4uYXBwIGgyIHtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgZm9udC1zaXplOiAyMHB4O1xyXG4gIG1hcmdpbjogNDBweCAwIDEwcHggMDtcclxufVxyXG5cclxuLmFwcCAucmVzb3VyY2VzIHtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgbGlzdC1zdHlsZTogbm9uZTtcclxuICBwYWRkaW5nOiAwO1xyXG4gIGRpc3BsYXk6IGdyaWQ7XHJcbiAgZ3JpZC1nYXA6IDlweDtcclxuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAxZnI7XHJcbn1cclxuXHJcbi5hcHAgLnJlc291cmNlIHtcclxuICBjb2xvcjogIzAwOTRiYTtcclxuICBoZWlnaHQ6IDM2cHg7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwKTtcclxuICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMTIpO1xyXG4gIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICBwYWRkaW5nOiAzcHggOXB4O1xyXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxufVxyXG5cclxuLmFwcCAucmVzb3VyY2U6aG92ZXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNjgsIDEzOCwgMjU1LCAwLjA0KTtcclxufVxyXG5cclxuLmFwcCBwcmUge1xyXG4gIHBhZGRpbmc6IDlweDtcclxuICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XHJcbiAgY29sb3I6ICNlZWU7XHJcbn1cclxuXHJcbi5hcHAgZGV0YWlscyB7XHJcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gIGNvbG9yOiAjMzMzO1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMCk7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjEyKTtcclxuICBwYWRkaW5nOiAzcHggOXB4O1xyXG4gIG1hcmdpbi1ib3R0b206IDlweDtcclxufVxyXG5cclxuLmFwcCBzdW1tYXJ5IHtcclxuICBvdXRsaW5lOiBub25lO1xyXG4gIGhlaWdodDogMzZweDtcclxuICBsaW5lLWhlaWdodDogMzZweDtcclxufVxyXG5cclxuLmFwcCAuZ2l0aHViLXN0YXItY29udGFpbmVyIHtcclxuICBtYXJnaW4tdG9wOiAxMnB4O1xyXG4gIGxpbmUtaGVpZ2h0OiAyMHB4O1xyXG59XHJcblxyXG4uYXBwIC5naXRodWItc3Rhci1jb250YWluZXIgYSB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICBjb2xvcjogIzMzMztcclxufVxyXG5cclxuLmFwcCAuZ2l0aHViLXN0YXItYmFkZ2Uge1xyXG4gIGNvbG9yOiAjMjQyOTJlO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBmb250LXNpemU6IDEycHg7XHJcbiAgcGFkZGluZzogM3B4IDEwcHg7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNywgMzEsIDM1LCAwLjIpO1xyXG4gIGJvcmRlci1yYWRpdXM6IDNweDtcclxuICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoLTE4MGRlZywgI2ZhZmJmYywgI2VmZjNmNiA5MCUpO1xyXG4gIG1hcmdpbi1sZWZ0OiA0cHg7XHJcbiAgZm9udC13ZWlnaHQ6IDYwMDtcclxufVxyXG5cclxuLmFwcCAuZ2l0aHViLXN0YXItYmFkZ2U6aG92ZXIge1xyXG4gIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCgtMTgwZGVnLCAjZjBmM2Y2LCAjZTZlYmYxIDkwJSk7XHJcbiAgYm9yZGVyLWNvbG9yOiByZ2JhKDI3LCAzMSwgMzUsIDAuMzUpO1xyXG4gIGJhY2tncm91bmQtcG9zaXRpb246IC0wLjVlbTtcclxufVxyXG4uYXBwIC5naXRodWItc3Rhci1iYWRnZSAubWF0ZXJpYWwtaWNvbnMge1xyXG4gIGhlaWdodDogMTZweDtcclxuICB3aWR0aDogMTZweDtcclxuICBtYXJnaW4tcmlnaHQ6IDRweDtcclxufVxyXG5cclxuLmxvZ28ge1xyXG4gICAgaGVpZ2h0OiAzMnB4O1xyXG4gICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpO1xyXG4gICAgbWFyZ2luOiAxNHB4O1xyXG59XHJcblxyXG4uc2l0ZS1sYXlvdXQge1xyXG4gICAgaGVpZ2h0OiAxMDB2aDtcclxufVxyXG5cclxuLnNpdGUtaGVhZGVyIHtcclxuICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIHotaW5kZXg6IDE7XHJcbiAgICB3aWR0aDogY2FsYygxMDAlIC0gMTAwcHgpO1xyXG4gICAgYmFja2dyb3VuZDogdW5zZXQ7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdy1yZXZlcnNlO1xyXG4gICAgaGVpZ2h0OiAyMHB4XHJcbn1cclxuIiwiLypcbiAqIFJlbW92ZSB0ZW1wbGF0ZSBjb2RlIGJlbG93XG4gKi9cbi5hcHAge1xuICBmb250LWZhbWlseTogc2Fucy1zZXJpZjtcbiAgbWluLXdpZHRoOiAzMDBweDtcbiAgbWF4LXdpZHRoOiAxMjAwcHg7XG4gIG1hcmdpbjogNTBweCBhdXRvO1xufVxuXG4uYXBwIC5ndXR0ZXItbGVmdCB7XG4gIG1hcmdpbi1sZWZ0OiA5cHg7XG59XG5cbi5hcHAgLmNvbC1zcGFuLTIge1xuICBncmlkLWNvbHVtbjogc3BhbiAyO1xufVxuXG4uYXBwIC5mbGV4IHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG59XG5cbi5hcHAgbWFpbiB7XG4gIHBhZGRpbmc6IDAgMzZweDtcbn1cblxuLmFwcCBwIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4uYXBwIGgxIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBtYXJnaW4tbGVmdDogMThweDtcbiAgZm9udC1zaXplOiAyNHB4O1xufVxuXG4uYXBwIGgyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBmb250LXNpemU6IDIwcHg7XG4gIG1hcmdpbjogNDBweCAwIDEwcHggMDtcbn1cblxuLmFwcCAucmVzb3VyY2VzIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBsaXN0LXN0eWxlOiBub25lO1xuICBwYWRkaW5nOiAwO1xuICBkaXNwbGF5OiBncmlkO1xuICBncmlkLWdhcDogOXB4O1xuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAxZnI7XG59XG5cbi5hcHAgLnJlc291cmNlIHtcbiAgY29sb3I6ICMwMDk0YmE7XG4gIGhlaWdodDogMzZweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwKTtcbiAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjEyKTtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICBwYWRkaW5nOiAzcHggOXB4O1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG59XG5cbi5hcHAgLnJlc291cmNlOmhvdmVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSg2OCwgMTM4LCAyNTUsIDAuMDQpO1xufVxuXG4uYXBwIHByZSB7XG4gIHBhZGRpbmc6IDlweDtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztcbiAgY29sb3I6ICNlZWU7XG59XG5cbi5hcHAgZGV0YWlscyB7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgY29sb3I6ICMzMzM7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMCk7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xMik7XG4gIHBhZGRpbmc6IDNweCA5cHg7XG4gIG1hcmdpbi1ib3R0b206IDlweDtcbn1cblxuLmFwcCBzdW1tYXJ5IHtcbiAgb3V0bGluZTogbm9uZTtcbiAgaGVpZ2h0OiAzNnB4O1xuICBsaW5lLWhlaWdodDogMzZweDtcbn1cblxuLmFwcCAuZ2l0aHViLXN0YXItY29udGFpbmVyIHtcbiAgbWFyZ2luLXRvcDogMTJweDtcbiAgbGluZS1oZWlnaHQ6IDIwcHg7XG59XG5cbi5hcHAgLmdpdGh1Yi1zdGFyLWNvbnRhaW5lciBhIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICBjb2xvcjogIzMzMztcbn1cblxuLmFwcCAuZ2l0aHViLXN0YXItYmFkZ2Uge1xuICBjb2xvcjogIzI0MjkyZTtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZm9udC1zaXplOiAxMnB4O1xuICBwYWRkaW5nOiAzcHggMTBweDtcbiAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNywgMzEsIDM1LCAwLjIpO1xuICBib3JkZXItcmFkaXVzOiAzcHg7XG4gIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCgtMTgwZGVnLCAjZmFmYmZjLCAjZWZmM2Y2IDkwJSk7XG4gIG1hcmdpbi1sZWZ0OiA0cHg7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG59XG5cbi5hcHAgLmdpdGh1Yi1zdGFyLWJhZGdlOmhvdmVyIHtcbiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KC0xODBkZWcsICNmMGYzZjYsICNlNmViZjEgOTAlKTtcbiAgYm9yZGVyLWNvbG9yOiByZ2JhKDI3LCAzMSwgMzUsIDAuMzUpO1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMC41ZW07XG59XG5cbi5hcHAgLmdpdGh1Yi1zdGFyLWJhZGdlIC5tYXRlcmlhbC1pY29ucyB7XG4gIGhlaWdodDogMTZweDtcbiAgd2lkdGg6IDE2cHg7XG4gIG1hcmdpbi1yaWdodDogNHB4O1xufVxuXG4ubG9nbyB7XG4gIGhlaWdodDogMzJweDtcbiAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpO1xuICBtYXJnaW46IDE0cHg7XG59XG5cbi5zaXRlLWxheW91dCB7XG4gIGhlaWdodDogMTAwdmg7XG59XG5cbi5zaXRlLWhlYWRlciB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgei1pbmRleDogMTtcbiAgd2lkdGg6IGNhbGMoMTAwJSAtIDEwMHB4KTtcbiAgYmFja2dyb3VuZDogdW5zZXQ7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3ctcmV2ZXJzZTtcbiAgaGVpZ2h0OiAyMHB4O1xufSJdfQ== */\"","\"use strict\";\n\nvar stylesInDom = {};\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nfunction listToStyles(list, options) {\n  var styles = [];\n  var newStyles = {};\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var css = item[1];\n    var media = item[2];\n    var sourceMap = item[3];\n    var part = {\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    };\n\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = {\n        id: id,\n        parts: [part]\n      });\n    } else {\n      newStyles[id].parts.push(part);\n    }\n  }\n\n  return styles;\n}\n\nfunction addStylesToDom(styles, options) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i];\n    var domStyle = stylesInDom[item.id];\n    var j = 0;\n\n    if (domStyle) {\n      domStyle.refs++;\n\n      for (; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j]);\n      }\n\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j], options));\n      }\n    } else {\n      var parts = [];\n\n      for (; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j], options));\n      }\n\n      stylesInDom[item.id] = {\n        id: item.id,\n        refs: 1,\n        parts: parts\n      };\n    }\n  }\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n\n  if (typeof options.attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      options.attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(options.attributes).forEach(function (key) {\n    style.setAttribute(key, options.attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  }\n\n  if (sourceMap && btoa) {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {};\n  options.attributes = typeof options.attributes === 'object' ? options.attributes : {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  var styles = listToStyles(list, options);\n  addStylesToDom(styles, options);\n  return function update(newList) {\n    var mayRemove = [];\n\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i];\n      var domStyle = stylesInDom[item.id];\n\n      if (domStyle) {\n        domStyle.refs--;\n        mayRemove.push(domStyle);\n      }\n    }\n\n    if (newList) {\n      var newStyles = listToStyles(newList, options);\n      addStylesToDom(newStyles, options);\n    }\n\n    for (var _i = 0; _i < mayRemove.length; _i++) {\n      var _domStyle = mayRemove[_i];\n\n      if (_domStyle.refs === 0) {\n        for (var j = 0; j < _domStyle.parts.length; j++) {\n          _domStyle.parts[j]();\n        }\n\n        delete stylesInDom[_domStyle.id];\n      }\n    }\n  };\n};","var content = require(\"!!../../../../node_modules/postcss-loader/src/index.js??embedded!../../../../node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-3-2!./app.scss\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","import React, { lazy, Suspense } from 'react';\r\nimport clsx from 'clsx';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport { BaseConverterView } from './components/base-converter-view/base-converter-view';\r\nimport { HomeView } from './components/home-view/home-view';\r\nimport './app.scss';\r\nimport '../assets/i18n/i18n';\r\nimport SiderMenu from './components/sider-menu/sider-menu';\r\nimport { ComplementConverterView } from './components/complement-converter-view/complement-converter-view';\r\nimport { FloatConverterView } from './components/float-converter-view/float-converter-view';\r\nimport { PositionalCalculatorView } from './components/positional-calculator/positional-calculator-view';\r\nimport { AssociatedBaseConverterView } from './components/associated-base-converter-view/associated-base-converter-view';\r\nimport { LanguageMenu } from './components/language-menu/language-menu';\r\nimport {\r\n    AppBar,\r\n    createStyles,\r\n    CssBaseline,\r\n    Drawer,\r\n    IconButton,\r\n    Theme,\r\n    ThemeProvider,\r\n    Toolbar, Typography\r\n} from '@material-ui/core';\r\nimport { getTheme, GitlabIcon } from '@calc/ui';\r\nimport { useSelector } from 'react-redux';\r\nimport { selectAppTheme } from './store/selectors/options.selectors';\r\nimport { ThemeMenu } from './components/theme-menu/theme-menu';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { RepoLink } from './components/repo-link/repo-link';\r\n\r\n\r\nconst bconv = lazy(() => import('./components/base-converter-view/base-converter-view'));\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        root: {\r\n            display: 'flex'\r\n        },\r\n        appBar: {\r\n            transition: theme.transitions.create(['margin', 'width'], {\r\n                easing: theme.transitions.easing.sharp,\r\n                duration: theme.transitions.duration.leavingScreen\r\n            })\r\n        },\r\n        appBarShift: {\r\n            width: `calc(100% - ${drawerWidth}px)`,\r\n            marginLeft: drawerWidth,\r\n            transition: theme.transitions.create(['margin', 'width'], {\r\n                easing: theme.transitions.easing.easeOut,\r\n                duration: theme.transitions.duration.enteringScreen\r\n            })\r\n        },\r\n        menuButton: {\r\n            marginRight: theme.spacing(2)\r\n        },\r\n        hide: {\r\n            display: 'none'\r\n        },\r\n        drawer: {\r\n            width: drawerWidth,\r\n            flexShrink: 0\r\n        },\r\n        drawerPaper: {\r\n            width: drawerWidth\r\n        },\r\n        drawerHeader: {\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            padding: theme.spacing(0, 1),\r\n            // necessary for content to be below app bar\r\n            ...theme.mixins.toolbar,\r\n            justifyContent: 'flex-end'\r\n        },\r\n        content: {\r\n            flexGrow: 1,\r\n            padding: theme.spacing(3),\r\n            transition: theme.transitions.create('margin', {\r\n                easing: theme.transitions.easing.sharp,\r\n                duration: theme.transitions.duration.leavingScreen\r\n            }),\r\n            marginLeft: -drawerWidth\r\n        },\r\n        contentShift: {\r\n            transition: theme.transitions.create('margin', {\r\n                easing: theme.transitions.easing.easeOut,\r\n                duration: theme.transitions.duration.enteringScreen\r\n            }),\r\n            marginLeft: 0\r\n        }\r\n    })\r\n);\r\n\r\n\r\nexport const App = () => {\r\n    const theme = useSelector(selectAppTheme);\r\n    const classes = useStyles();\r\n    const {t} = useTranslation();\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const handleDrawerOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleDrawerClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <ThemeProvider theme={getTheme(theme)}>\r\n                <CssBaseline/>\r\n                <Router>\r\n                    <AppBar\r\n                        position=\"fixed\"\r\n                        className={clsx(classes.appBar, {\r\n                            [classes.appBarShift]: open\r\n                        })}\r\n                    >\r\n                        <Toolbar>\r\n                            <IconButton\r\n                                color=\"inherit\"\r\n                                aria-label=\"open drawer\"\r\n                                onClick={handleDrawerOpen}\r\n                                edge=\"end\"\r\n                                className={clsx(classes.menuButton, open && classes.hide)}\r\n                            >\r\n                                <MenuIcon/>\r\n                            </IconButton>\r\n                            <div style={{ 'flexGrow': 1 }}/>\r\n                            <LanguageMenu/>\r\n                            <ThemeMenu/>\r\n                            <RepoLink/>\r\n                        </Toolbar>\r\n                    </AppBar>\r\n\r\n                    <Drawer\r\n                        className={classes.drawer}\r\n                        variant=\"persistent\"\r\n                        anchor=\"left\"\r\n                        open={open}\r\n                        classes={{\r\n                            paper: classes.drawerPaper\r\n                        }}\r\n                    >\r\n                        <div className={classes.drawerHeader}>\r\n                            <Typography variant={'h4'}>\r\n                                {t('home.appName')}\r\n                            </Typography>\r\n                            <div style={{ flexGrow: 1 }}/>\r\n                            <IconButton onClick={handleDrawerClose}>\r\n                                <ChevronLeftIcon/>\r\n                            </IconButton>\r\n                        </div>\r\n                        <SiderMenu/>\r\n                    </Drawer>\r\n\r\n                    <main className={clsx(classes.content, {\r\n                        [classes.contentShift]: open\r\n                    })}>\r\n                        <div className={classes.drawerHeader} />\r\n                        <Suspense fallback={<div>Loading...</div>}>\r\n                            <Switch>\r\n                                <Route exact path=\"/\" component={HomeView}/>\r\n                                <Route path=\"/base-converter\" component={bconv}/>\r\n                                <Route path=\"/associated-base-converter\" component={AssociatedBaseConverterView}/>\r\n                                <Route path=\"/complement-converter\" component={ComplementConverterView}/>\r\n                                <Route path=\"/float-converter\" component={FloatConverterView}/>\r\n                                <Route path=\"/positional-calculator\" component={PositionalCalculatorView}/>\r\n                            </Switch>\r\n                        </Suspense>\r\n                    </main>\r\n                </Router>\r\n            </ThemeProvider>\r\n        </div>\r\n    );\r\n};\r\nexport default App;\r\n\r\n\r\n","import React, { FC } from 'react';\r\nimport { AssociatedBaseConversion } from '@calc/calc-arithmetic';\r\nimport { DigitMappingBox } from '../digit-mapping/digit-mapping-box';\r\nimport { InputWithCopy, NumberSubscript } from '@calc/ui';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Card, createStyles, Theme, Typography } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme: Theme) => {\r\n    return createStyles({\r\n        card: {\r\n            padding: theme.spacing(3)\r\n        },\r\n        equation: {\r\n            paddingBottom: theme.spacing(2)\r\n        },\r\n        mappings: {\r\n            display: 'flex',\r\n            flexDirection: 'row',\r\n            flexWrap: 'wrap'\r\n        }\r\n    });\r\n});\r\n\r\ninterface P {\r\n    conversion: AssociatedBaseConversion;\r\n}\r\n\r\nexport const AssociatedBaseConversionDetails: FC<P> = ({ conversion }) => {\r\n    const { t } = useTranslation();\r\n    const [inputStr, inputBase] = conversion.input;\r\n    const outputStr = conversion.result.valueInBase;\r\n    const outputBase = conversion.result.base;\r\n    const classes = useStyles();\r\n\r\n    const mappings = conversion.details.positionMappings.map((mapping, index) => {\r\n        return (\r\n            <DigitMappingBox key={index} mapping={mapping}/>\r\n        );\r\n    });\r\n\r\n    return (\r\n        <Card className={classes.card}>\r\n            <span>{t('baseConverter.inputNumber')}</span>\r\n            <InputWithCopy\r\n                readOnly\r\n                value={conversion.result.valueInBase}\r\n            />\r\n            <div className={classes.equation}>\r\n                <NumberSubscript value={inputStr} subscript={inputBase}/>\r\n                &nbsp;=&nbsp;\r\n                <NumberSubscript value={conversion.result.decimalValue.toString()} subscript={10}/>\r\n                &nbsp;=&nbsp;\r\n                <NumberSubscript value={outputStr} subscript={outputBase}/>\r\n            </div>\r\n\r\n            <Typography>\r\n                {t('associatedBaseConverter.mappings')}\r\n            </Typography>\r\n            <div className={classes.mappings}>\r\n                {mappings}\r\n            </div>\r\n        </Card>\r\n    );\r\n};\r\n","import React, { FC, useState } from 'react';\r\nimport { AssociatedBaseConversion, Conversion } from '@calc/calc-arithmetic';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { AssociatedBaseConverter } from '../associated-base-converter/associated-base-converter';\r\nimport { AssociatedBaseConversionDetails } from '../associated-base-conversion-details/associated-base-conversion-details';\r\nimport { Box, Tab, Tabs, Typography } from '@material-ui/core';\r\nimport { a11yProps, TabPanel } from '@calc/ui';\r\nimport { DocPage } from '@calc/docs';\r\nimport { useConverterStyles } from '../../core/styles/converter-styles';\r\n\r\n\r\nexport const AssociatedBaseConverterView: FC = () => {\r\n    const { t } = useTranslation();\r\n    const [conversion, setConversion] = useState<Conversion>();\r\n    const classes = useConverterStyles();\r\n\r\n    const onChange = (newConversion?: Conversion) => {\r\n        if (newConversion) {\r\n            setConversion(newConversion);\r\n        }\r\n    };\r\n\r\n    const [value, setValue] = React.useState(0);\r\n\r\n    const handleChange = (event: React.ChangeEvent<{}>, newValue: number) => {\r\n        setValue(newValue);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n\r\n            <Tabs value={value} onChange={handleChange}>\r\n                <Tab label=\"Converter\" {...a11yProps(0)} />\r\n                <Tab label=\"Theory\" {...a11yProps(1)} />\r\n            </Tabs>\r\n            <TabPanel value={value} index={0}>\r\n                <div className={classes.verticalSpacer}/>\r\n                <Typography variant={'h4'} className={classes.title}>\r\n                    {t('associatedBaseConverter.title')}\r\n                </Typography>\r\n                <AssociatedBaseConverter onConversionChange={onChange}/>\r\n                {\r\n                    conversion &&\r\n                    <Typography variant={'h4'} className={classes.title}>\r\n                        {t('baseConverter.result')}\r\n                    </Typography>\r\n                }\r\n                {\r\n                    conversion &&\r\n                    <AssociatedBaseConversionDetails conversion={conversion.stages[0] as AssociatedBaseConversion}/>\r\n                }\r\n            </TabPanel>\r\n            <TabPanel value={value} index={1}>\r\n                <div className={classes.verticalSpacer}/>\r\n                <Box display={'flex'} alignItems={'center'} maxWidth={900} margin={'auto'}>\r\n                    <DocPage path='positional/associated-base-conversion'/>\r\n                </Box>\r\n            </TabPanel>\r\n\r\n        </div>\r\n    );\r\n};\r\n","import React, { FC, useCallback, useState } from 'react';\r\nimport {\r\n    BaseDigits,\r\n    ComplementConverter,\r\n    Conversion,\r\n    convertUsingAssociatedBases,\r\n    fromString,\r\n    isValidString\r\n} from '@calc/calc-arithmetic';\r\nimport { InputWithCopy } from '@calc/ui';\r\nimport { useSelector } from 'react-redux';\r\nimport { selectShowComplement, selectShowDecimalValue } from '../../store/selectors/options.selectors';\r\nimport { ConversionOptions } from '../conversion-options/conversion-options';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Button, Card, MenuItem, TextField } from '@material-ui/core';\r\nimport { useFormik } from 'formik';\r\nimport { clean } from '@calc/utils';\r\nimport { FormErrors } from '../../core/models/form-errors';\r\nimport { useConverterStyles } from '../../core/styles/converter-styles';\r\n\r\ninterface P {\r\n    onConversionChange?: (conversion: Conversion) => void;\r\n}\r\n\r\ninterface FormValues {\r\n    inputStr: string;\r\n    inputBase: number;\r\n    outputBase: number;\r\n}\r\n\r\nexport const AssociatedBaseConverter: FC<P> = ({ onConversionChange }) => {\r\n    const { t } = useTranslation();\r\n\r\n    const showComplement = useSelector(selectShowComplement);\r\n    const showDecimalValue = useSelector(selectShowDecimalValue);\r\n    const classes = useConverterStyles();\r\n\r\n    const initialValues: FormValues = {\r\n        inputStr: 'FFAFAFFAF',\r\n        inputBase: 16,\r\n        outputBase: 2\r\n    };\r\n\r\n    const onSubmit = (values: FormValues) => {\r\n        const { inputStr, inputBase, outputBase } = values;\r\n        const conversion = convertUsingAssociatedBases(inputStr, inputBase, outputBase);\r\n        onConversionChange(conversion);\r\n    };\r\n\r\n    const validateBase = (base: number): string | undefined => {\r\n        if (!BaseDigits.isValidRadix(base)) {\r\n            return t(\r\n                'baseConverter.wrongBase',\r\n                { minBase: BaseDigits.MIN_BASE, maxBase: BaseDigits.MAX_BASE }\r\n            );\r\n        }\r\n    };\r\n\r\n    const validateValueStr = (valueStr: string, inputBase: number): string | undefined => {\r\n        if (!isValidString(valueStr, inputBase)) {\r\n            return t(\r\n                'baseConverter.wrongRepresentationStr',\r\n                { base: inputBase }\r\n            );\r\n        }\r\n    };\r\n\r\n    const validate = (values: FormValues) => {\r\n        const errors: FormErrors<FormValues> = {\r\n            inputBase: validateBase(values.inputBase),\r\n            outputBase: validateBase(values.outputBase),\r\n            inputStr: validateValueStr(values.inputStr, values.inputBase)\r\n        };\r\n\r\n        return clean(errors);\r\n    };\r\n\r\n    const form = useFormik(\r\n        {\r\n            initialValues,\r\n            onSubmit,\r\n            validate\r\n        }\r\n    );\r\n\r\n    const [inputValue, setInputValue] = useState(initialValues.inputStr);\r\n    const [inputBase, setInputBase] = useState(initialValues.inputBase);\r\n\r\n    const [possibleOutputBases, setPossibleOutputBases] = useState<number[]>(() => {\r\n        return BaseDigits.getAllPossibleBasesForAssociateConversion(initialValues.inputBase);\r\n    });\r\n\r\n    const getDecimal = useCallback(() => {\r\n        try {\r\n            if (inputBase === 10) return inputValue;\r\n            return fromString(\r\n                inputValue,\r\n                inputBase,\r\n                10\r\n            ).result.decimalValue.toString();\r\n        } catch (e) {\r\n            return '0.0';\r\n        }\r\n    }, [inputBase, inputValue]);\r\n\r\n    const getComplement = useCallback(() => {\r\n        try {\r\n            return ComplementConverter.getComplement(\r\n                inputValue,\r\n                inputBase\r\n            ).toString();\r\n        } catch (e) {\r\n            return '0.0';\r\n        }\r\n    }, [inputBase, inputValue]);\r\n\r\n    const options = possibleOutputBases.map((base, index) => {\r\n        return (\r\n            <MenuItem value={base} key={index}>{base}</MenuItem>\r\n        );\r\n    });\r\n\r\n    const handleInputBaseChange = e => {\r\n        const newInputBase = Number.parseInt(e.target.value);\r\n        setInputBase(newInputBase);\r\n        setPossibleOutputBases(BaseDigits.getAllPossibleBasesForAssociateConversion(newInputBase));\r\n        form.handleChange(e);\r\n    };\r\n\r\n    const handleInputStrChange = e => {\r\n        setInputValue(e.target.value);\r\n        form.handleChange(e);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Card className={classes.card}>\r\n                <ConversionOptions/>\r\n                <form onSubmit={form.handleSubmit}>\r\n                    <InputWithCopy\r\n                        className={classes.input}\r\n                        name={'inputStr'}\r\n                        id={'inputStr'}\r\n                        label={t('baseConverter.inputNumber')}\r\n                        error={!!form.errors.inputStr}\r\n                        helperText={form.errors.inputStr}\r\n                        onChange={handleInputStrChange}\r\n                        value={form.values.inputStr}\r\n                    />\r\n\r\n                    {\r\n                        showDecimalValue &&\r\n                        <InputWithCopy\r\n                            className={classes.input}\r\n                            label={t('baseConverter.inputDecimalValue')}\r\n                            readOnly\r\n                            value={getDecimal()}\r\n                        />\r\n                    }\r\n\r\n                    {\r\n                        showComplement &&\r\n                        <InputWithCopy\r\n                            style={{ 'paddingBottom': '20px' }}\r\n                            label={t('baseConverter.inputComplement')}\r\n                            readOnly\r\n                            value={getComplement()}\r\n                        />\r\n                    }\r\n\r\n                    <div className={classes.row}>\r\n                        <TextField\r\n                            className={classes.inputBase}\r\n                            variant={'outlined'}\r\n                            name={'inputBase'}\r\n                            id={'inputBase'}\r\n                            label={t('baseConverter.inputBase')}\r\n                            error={!!form.errors.inputBase}\r\n                            helperText={form.errors.inputBase}\r\n                            onChange={handleInputBaseChange}\r\n                            value={form.values.inputBase}\r\n                        />\r\n                        <div className={classes.horizontalSpacer}/>\r\n                        <TextField\r\n                            select\r\n                            className={classes.outputBase}\r\n                            name={'outputBase'}\r\n                            id={'outputBase'}\r\n                            label={t('baseConverter.outputBase')}\r\n                            placeholder={t('associatedBaseConverter.noOutputBase')}\r\n                            disabled={!options.length}\r\n                            value={form.values.outputBase}\r\n                            onChange={form.handleChange}\r\n                            variant={'outlined'}\r\n                        >\r\n                            {options}\r\n                        </TextField>\r\n                        <div className={classes.horizontalSpacer}/>\r\n                        <Button color={'secondary'} variant={'contained'} type={'submit'}>\r\n                            {t('baseConverter.convert')}\r\n                        </Button>\r\n                    </div>\r\n                </form>\r\n            </Card>\r\n        </div>\r\n    );\r\n};\r\n","import React, { FC } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nexport const ComplementConverterView: FC = () => {\r\n    const { t } = useTranslation();\r\n\r\n    return (\r\n        <div>\r\n            <Typography  variant={'h4'}>\r\n                {t('complementConverter.title')}\r\n            </Typography>\r\n        </div>\r\n    );\r\n};\r\n","import React, { CSSProperties, FC } from 'react';\r\nimport { setShowComplement, setShowDecimalValue } from '../../store/actions/options.actions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { selectShowComplement, selectShowDecimalValue } from '../../store/selectors/options.selectors';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { createStyles, FormControlLabel, FormGroup, Switch, Theme } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\ninterface P {\r\n    style?: CSSProperties;\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) => {\r\n    return createStyles({\r\n        box: {\r\n            display: 'flex',\r\n            flexDirection: 'row',\r\n            paddingBottom: theme.spacing(2)\r\n        }\r\n    });\r\n});\r\n\r\nexport const ConversionOptions: FC<P> = ({ style }) => {\r\n    const { t } = useTranslation();\r\n    const dispatch = useDispatch();\r\n    const classes = useStyles();\r\n    const showComplement = useSelector(selectShowComplement);\r\n    const showDecimalValue = useSelector(selectShowDecimalValue);\r\n\r\n    return (\r\n        <div className={classes.box}>\r\n            <FormGroup row>\r\n                <FormControlLabel\r\n                    control={<Switch\r\n                        color={'primary'}\r\n                        checked={showDecimalValue}\r\n                        onChange={() => {\r\n                            dispatch(setShowDecimalValue(!showDecimalValue));\r\n                        }}\r\n                    />}\r\n                    label={t('baseConverter.showDecimalValue')}\r\n                />\r\n                <FormControlLabel\r\n                    control={<Switch\r\n                        color={'primary'}\r\n                        checked={showComplement}\r\n                        onChange={() => {\r\n                            dispatch(setShowComplement(!showComplement));\r\n                        }}\r\n                    />}\r\n                    label={t('baseConverter.showComplement')}\r\n                />\r\n            </FormGroup>\r\n        </div>\r\n    );\r\n};\r\n","import React, { FC, useEffect, useRef } from 'react';\r\nimport { DigitMapping } from '@calc/calc-arithmetic';\r\nimport { ArcherContainer, ArcherElement } from 'react-archer';\r\nimport { Button, createStyles, Theme } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\ninterface P {\r\n    mapping: DigitMapping;\r\n}\r\n\r\nexport const useStyles = makeStyles((theme: Theme) => {\r\n    return createStyles(\r\n        {\r\n            digitBox: {\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n                alignItems: 'center',\r\n                minWidth: '12px',\r\n                minHeight: '20px',\r\n                padding: '1px 6px'\r\n            },\r\n            rootDigitsRow: {\r\n                display: 'flex',\r\n                flexDirection: 'row',\r\n                justifyContent: 'center',\r\n                paddingBottom: theme.spacing(2),\r\n            },\r\n            digitsRow: {\r\n                display: 'flex',\r\n                flexDirection: 'row',\r\n                justifyContent: 'center'\r\n            },\r\n            mappingsBox: {\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n                padding: '5px'\r\n            },\r\n            mappingsBoxBorder: {\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n                padding: '5px',\r\n                borderLeft: ' 1px solid #d9d9d9'\r\n            }\r\n        }\r\n    );\r\n});\r\n\r\nexport const DigitMappingBox: FC<P> = ({ mapping }) => {\r\n    const ref = useRef<ArcherContainer>(null);\r\n    const classes = useStyles();\r\n\r\n    const targetDigitsSource = mapping.input.length < mapping.output.length\r\n        ? mapping.output\r\n        : mapping.input;\r\n\r\n    const rootDigitsSource = mapping.input.length < mapping.output.length\r\n        ? mapping.input\r\n        : mapping.output;\r\n\r\n    const rootDigits = rootDigitsSource.map((digit, index) => {\r\n        return (\r\n            <Button key={index} className=\"digit-box\">\r\n                {digit.valueInBase}\r\n            </Button>\r\n        );\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (ref.current) {\r\n            ref.current.forceUpdate();\r\n        }\r\n    }, [mapping]);\r\n\r\n    const targetDigits = targetDigitsSource.map((digit, index) => {\r\n        return (\r\n            <ArcherElement\r\n                key={`$output-${index}`}\r\n                id={`$output-${index}`}\r\n                relations={[\r\n                    {\r\n                        targetId: 'root',\r\n                        targetAnchor: 'middle',\r\n                        sourceAnchor: 'top',\r\n                        style: {\r\n                            strokeColor: '#d9d9d9',\r\n                            strokeWidth: 2,\r\n                            strokeDasharray: '3,3',\r\n                            arrowLength: 0,\r\n                            arrowThickness: 0\r\n                        }\r\n                    }\r\n                ]}\r\n            >\r\n                <Button key={index} className=\"digit-box\">\r\n                    {digit.valueInBase}\r\n                </Button>\r\n            </ArcherElement>\r\n        );\r\n    });\r\n\r\n    const boxClassName = mapping.output[0].position === -1\r\n        ? classes.mappingsBoxBorder\r\n        : classes.mappingsBox;\r\n\r\n    return (\r\n        <div\r\n            className={boxClassName}\r\n        >\r\n            <ArcherContainer noCurves ref={ref}>\r\n                <div\r\n                    style={{\r\n                        display: 'flex',\r\n                        flexDirection: mapping.input.length < mapping.output.length ? 'column' : 'column-reverse'\r\n                    }}>\r\n                    <ArcherElement id='root'>\r\n                        <div className={classes.digitsRow}>\r\n                            {rootDigits}\r\n                        </div>\r\n                    </ArcherElement>\r\n                    <div className={classes.rootDigitsRow}>\r\n                        {targetDigits}\r\n                    </div>\r\n                </div>\r\n            </ArcherContainer>\r\n        </div>\r\n    );\r\n};\r\n","import React, { FC } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { FloatConverterComponent } from '../float-converter/float-converter-component';\r\nimport { Typography } from '@material-ui/core';\r\n\r\n\r\nexport const FloatConverterView: FC = () => {\r\n    const {t} = useTranslation();\r\n\r\n    return (\r\n        <div>\r\n            <Typography variant={'h3'}>\r\n                {t('floatConverter.title')}\r\n            </Typography>\r\n            <FloatConverterComponent/>\r\n        </div>\r\n    );\r\n};\r\n","import React, { FC } from 'react';\r\nimport { Button } from '@material-ui/core';\r\n\r\ninterface P {\r\n    onChange?: (value: string, index: number) => void;\r\n    value?: string;\r\n    index?: number;\r\n}\r\n\r\nexport const BinaryButton: FC<P> = ({ onChange, value, index }) => {\r\n    const colorStyle = value === '0'\r\n        ? { color: 'rgba(0, 0, 0, 0.65)', backgroundColor: '#fff' }\r\n        : { color: '#fff', backgroundColor: 'rgba(0, 0, 0, 0.65)' };\r\n\r\n    const style = {\r\n        padding: '1px 6px',\r\n        margin: '2px',\r\n        border: '1px solid inherit',\r\n        height: '20px',\r\n        minWidth: '10px',\r\n        fontSize: '12px',\r\n        ...colorStyle\r\n    };\r\n\r\n    const handleClick = () => {\r\n        const newValue = value === '1' ? '0' : '1';\r\n        if (onChange) onChange(newValue, index);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Button onClick={handleClick} style={style}>\r\n                {value}\r\n            </Button>\r\n        </div>\r\n    );\r\n};\r\n","import React, { FC } from 'react';\r\nimport { BinaryButton } from '../binary-button/binary-button';\r\n\r\ninterface P {\r\n    onChange?: (value: string[]) => void;\r\n    values: string[];\r\n}\r\n\r\nexport const ButtonRowComponent: FC<P> = ({ onChange, values }) => {\r\n    const handleButtonChange = (value: string, index: number) => {\r\n        const newValues = [...values];\r\n        newValues[index] = value;\r\n        if(onChange) onChange(newValues);\r\n    };\r\n\r\n    const buttons = values.map((value, index) => {\r\n        return <BinaryButton index={index} key={index} value={value} onChange={handleButtonChange}/>;\r\n    });\r\n\r\n\r\n    const style = {\r\n        display: 'flex' as 'flex',\r\n        flexDirection: 'row' as 'row'\r\n    };\r\n\r\n    return (\r\n        <div style={style}>\r\n            {buttons}\r\n        </div>\r\n    );\r\n};\r\n","import React, { FC, useEffect, useState } from 'react';\r\nimport { FloatConverter, isValidString } from '@calc/calc-arithmetic';\r\nimport { PartType, RepresentationPart } from './representation-part/representation-part';\r\nimport { InputType, InputWithCopy } from '@calc/ui';\r\n\r\nexport const FloatConverterComponent: FC = () => {\r\n    const initialNum = FloatConverter.ToSingle(0.0);\r\n    const [floatingNumber, setFloatingNumber] = useState(initialNum);\r\n    const [sign, setSign] = useState(initialNum.sign);\r\n    const [exponent, setExponent] = useState(initialNum.exponent);\r\n    const [mantissa, setMantissa] = useState(initialNum.mantissa);\r\n    const [rawValue, setRawValue] = useState(0.0);\r\n\r\n    useEffect(() => {\r\n        const representationStr = sign + exponent + mantissa;\r\n        setFloatingNumber(FloatConverter.ToSingle(representationStr));\r\n    }, [exponent, mantissa, sign]);\r\n\r\n    const handleChange = (value) => {\r\n        setRawValue(value);\r\n        if (value && isValidString(value, 10)) {\r\n            try {\r\n                const num = FloatConverter.ToSingle(value);\r\n                setFloatingNumber(num);\r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n        }\r\n    };\r\n\r\n    const style = {\r\n        'display': 'flex' as 'flex',\r\n        'flexDirection': 'row' as 'row'\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div style={style}>\r\n                <RepresentationPart\r\n                    partType={PartType.Sign}\r\n                    part={[floatingNumber.sign]}\r\n                    partEncoding={floatingNumber.signEncoding}\r\n                    partValue={floatingNumber.signValue}\r\n                    onChange={setSign}\r\n                />\r\n                <RepresentationPart\r\n                    partType={PartType.Exponent}\r\n                    part={floatingNumber.exponent.split('')}\r\n                    partEncoding={floatingNumber.exponentEncoding.toString()}\r\n                    partValue={floatingNumber.exponentValue.toString()}\r\n                    onChange={setExponent}\r\n                />\r\n                <RepresentationPart\r\n                    partType={PartType.Mantissa}\r\n                    part={floatingNumber.mantissa.split('')}\r\n                    partEncoding={floatingNumber.mantissaEncoding.toString()}\r\n                    partValue={floatingNumber.mantissaValue.toString()}\r\n                    onChange={setMantissa}\r\n                />\r\n            </div>\r\n            <div style={{ width: '600px' }}>\r\n                <InputWithCopy value={rawValue} onChange={handleChange} size={'small'} inputType={InputType.Number}/>\r\n                <InputWithCopy readOnly value={floatingNumber.value.toString()} size={'small'} inputType={InputType.Text}/>\r\n                <InputWithCopy readOnly value={floatingNumber.binary} size={'small'} inputType={InputType.Text}/>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n","import React, { FC } from 'react';\r\nimport { ButtonRowComponent } from '../button-row/button-row';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nexport enum PartType {\r\n    Sign = 'Sign',\r\n    Exponent = 'Exponent',\r\n    Mantissa = 'Mantissa'\r\n}\r\n\r\ninterface P {\r\n    part: string[];\r\n    partEncoding: string;\r\n    partValue: string;\r\n    partType: PartType;\r\n    onChange?: (value: string) => void;\r\n}\r\n\r\nexport const RepresentationPart: FC<P> = (\r\n    {\r\n        part,\r\n        partEncoding,\r\n        partValue,\r\n        partType,\r\n        onChange\r\n    }) => {\r\n    const { t } = useTranslation();\r\n\r\n    const title = {\r\n        [PartType.Sign]: t('floatConverter.sign'),\r\n        [PartType.Exponent]: t('floatConverter.exponent'),\r\n        [PartType.Mantissa]: t('floatConverter.mantissa')\r\n    }[partType];\r\n\r\n    const handleChange = (values: string[]) => {\r\n        if(onChange) onChange(values.join(''));\r\n    };\r\n\r\n    return (\r\n        <div style={{ padding: '10px' }}>\r\n            <div style={{ textAlign: 'center' }}>\r\n                <div style={{ fontWeight: 'bold' }}>{title}</div>\r\n                <div>\r\n                    {\r\n                        partType === PartType.Exponent\r\n                            ? <span>\r\n                                2 <sup>{partValue}</sup>\r\n                            </span>\r\n                            : <span>\r\n                                {partValue}\r\n                            </span>\r\n                    }\r\n                </div>\r\n                <div> {partEncoding}</div>\r\n            </div>\r\n\r\n            <ButtonRowComponent values={part} onChange={handleChange}/>\r\n        </div>\r\n    );\r\n};\r\n","import React, { FC } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nexport const HomeView: FC = () => {\r\n    const { t } = useTranslation();\r\n    return (\r\n        <div>\r\n            {t('home.header')}\r\n        </div>\r\n    );\r\n};\r\n","import React, { FC } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { availableThemes, getNativeName } from '../../../assets/i18n/i18n';\r\nimport { Badge, Button, Popover } from '@material-ui/core';\r\nimport TranslateIcon from '@material-ui/icons/Translate';\r\nexport const LanguageMenu: FC = () => {\r\n    const { i18n, t } = useTranslation();\r\n\r\n    const [anchorEl, setAnchorEl] = React.useState<HTMLButtonElement | null>(null);\r\n\r\n    const handlePopoverClick = (event: React.MouseEvent<HTMLButtonElement>) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    const open = Boolean(anchorEl);\r\n    const id = open ? 'simple-popover' : undefined;\r\n\r\n    const handleClick = async (language) => {\r\n        if (language && i18n.language !== language) {\r\n            await i18n.changeLanguage(language);\r\n        }\r\n        handleClose();\r\n    };\r\n\r\n    const options = availableThemes.map((languageKey, index) => {\r\n        return (\r\n            <div key={index}>\r\n                <Button\r\n                    data-language={languageKey}\r\n                    onClick={(async () => {\r\n                        await handleClick(languageKey);\r\n                    })}\r\n                >\r\n                    {getNativeName(languageKey)}\r\n                </Button>\r\n            </div>\r\n        );\r\n    });\r\n\r\n    return (\r\n        <div>\r\n            <Popover\r\n                style={{ padding: '0px' }}\r\n                id={id}\r\n                open={open}\r\n                anchorEl={anchorEl}\r\n                onClose={handleClose}\r\n                anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'center'\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'center'\r\n                }}\r\n                title={t('languageMenu.choose')}>\r\n                <div>\r\n                    {options}\r\n                </div>\r\n            </Popover>\r\n            <Button startIcon={<TranslateIcon/>} aria-describedby={id} variant=\"text\" color=\"default\" onClick={handlePopoverClick}>\r\n                {getNativeName(i18n.language)}\r\n            </Button>\r\n        </div>\r\n    );\r\n};\r\n","import React, { FC } from 'react';\r\nimport { PositionResult } from '@calc/calc-arithmetic';\r\nimport { NumberSubscript } from '@calc/ui';\r\n\r\ninterface P {\r\n    positionResult: PositionResult;\r\n}\r\n\r\nexport const AddAtPositionHoverContent: FC<P> = ({positionResult}) => {\r\n    const operands = positionResult.operands.map((operand, index) => {\r\n        return (\r\n            <span key={index} style={{fontWeight: operand.isCarry ? 'bold' : 'initial'}}>\r\n                <NumberSubscript value={operand.valueInBase} subscript={''} noBraces={true}/>\r\n                {index !== positionResult.operands.length -1 && '+'}\r\n            </span>\r\n        );\r\n    });\r\n\r\n    const carries = positionResult.carry.map((carry, index) => {\r\n        return (\r\n            <span key={index}>\r\n                <NumberSubscript value={carry.valueInBase} subscript={`C${carry.position}`}/>\r\n                {index !== positionResult.carry.length -1 && '+'}\r\n            </span>\r\n        );\r\n    });\r\n\r\n    return (\r\n       <div>\r\n           {\r\n               operands.length > 1 && <div>\r\n                   <NumberSubscript\r\n                       value={'S'}\r\n                       subscript={positionResult.valueAtPosition.position}\r\n                       noBraces={true}\r\n                   />\r\n                   =\r\n                   {operands}\r\n               </div>\r\n           }\r\n           <div>\r\n               <NumberSubscript\r\n                   value={'S'}\r\n                   subscript={positionResult.valueAtPosition.position}\r\n                   noBraces={true}\r\n               />\r\n               =\r\n               <NumberSubscript\r\n                   value={positionResult.valueAtPosition.valueInBase}\r\n                   subscript={positionResult.valueAtPosition.base}\r\n               />\r\n               {carries.length > 0 && '+'}\r\n               {carries.length > 0 && carries}\r\n           </div>\r\n       </div>\r\n    )\r\n};\r\n","import React, { FC } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { addPositionalNumbers, fromString, PositionResult } from '@calc/calc-arithmetic';\r\nimport { AddAtPositionHoverContent } from './add-at-position-hover-content';\r\nimport { buildAdditionGrid, HoverGrid } from '@calc/grid';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nexport const PositionalCalculatorView: FC = () => {\r\n    const { t } = useTranslation();\r\n\r\n    const a = fromString('1234.123', 16, 16).result;\r\n    const b = fromString('266756.323', 16, 16).result;\r\n    const c = fromString('AAAAAA.BBBB', 16, 16).result;\r\n    const d = fromString('CCCFFFFFFE', 16, 16).result;\r\n    const res = addPositionalNumbers([a, b, c, d]);\r\n    const grid = buildAdditionGrid(res);\r\n    console.log(res);\r\n\r\n    const groupBuilder = (positionResult: PositionResult) => {\r\n        return (\r\n            <AddAtPositionHoverContent positionResult={positionResult}/>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div>\r\n           <Typography variant={'h3'}>\r\n               {t('positionalCalculator.title')}\r\n           </Typography>\r\n            <HoverGrid {...grid} title={'Addition details'} groupBuilder={groupBuilder}/>\r\n        </div>\r\n    );\r\n};\r\n","import React, { FC } from 'react';\r\nimport { IconButton, Tooltip } from '@material-ui/core';\r\nimport { repoUrl } from '../../../assets/env/meta';\r\nimport { GitlabIcon } from '@calc/ui';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\n\r\nexport const RepoLink: FC = () => {\r\n    const { t } = useTranslation();\r\n\r\n    return (\r\n        <Tooltip title={t('appBar.repo')}>\r\n            <IconButton href={repoUrl}>\r\n                <GitlabIcon/>\r\n            </IconButton>\r\n        </Tooltip>\r\n    );\r\n};\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport {\r\n    Accordion,\r\n    AccordionSummary,\r\n    createStyles,\r\n    List,\r\n    ListItem,\r\n    ListItemIcon,\r\n    ListItemText, Theme, Typography\r\n} from '@material-ui/core';\r\nimport MailIcon from '@material-ui/icons/Mail';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        root: {\r\n            width: '100%',\r\n        },\r\n        heading: {\r\n            fontSize: theme.typography.pxToRem(15),\r\n            fontWeight: theme.typography.fontWeightRegular,\r\n        },\r\n    }),\r\n);\r\n\r\nexport const SiderMenu = () => {\r\n    const history = useHistory();\r\n    const { t } = useTranslation();\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <div>\r\n            <Accordion>\r\n                <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                    aria-controls=\"panel1a-content\"\r\n                    id=\"panel1a-header\">\r\n                    <Typography className={classes.heading}>{t('home.positional')}</Typography>\r\n                </AccordionSummary>\r\n                <List>\r\n                    <ListItem button key={'base-converter'} onClick={() => history.push('/base-converter')}>\r\n                        <ListItemText primary={t('baseConverter.title')} />\r\n                    </ListItem>\r\n                    <ListItem button key={'associated-base-converter'} onClick={() => history.push('/associated-base-converter')}>\r\n                        <ListItemText primary={t('associatedBaseConverter.title')} />\r\n                    </ListItem>\r\n                    <ListItem button key={'complement-converter'} onClick={() => history.push('/complement-converter')}>\r\n                        <ListItemText primary={t('complementConverter.title')} />\r\n                    </ListItem>\r\n                    <ListItem button key={'positional-converter'} onClick={() => history.push('/positional-calculator')}>\r\n                        <ListItemText primary={t('positionalCalculator.title')} />\r\n                    </ListItem>\r\n                </List>\r\n            </Accordion>\r\n            <Accordion>\r\n                <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                    aria-controls=\"panel1a-content\"\r\n                    id=\"panel1a-header\">\r\n                    <Typography className={classes.heading}>{t('home.floating')}</Typography>\r\n                </AccordionSummary>\r\n                <List>\r\n                    <ListItem button key={'float-converter'} onClick={() => history.push('/float-converter')}>\r\n                        <ListItemIcon>\r\n                            <MailIcon/>\r\n                        </ListItemIcon>\r\n                        <ListItemText primary={t('floatConverter.title')} />\r\n                    </ListItem>\r\n                </List>\r\n            </Accordion>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SiderMenu;\r\n\r\n\r\n","import React, { FC } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { IconButton, Tooltip } from '@material-ui/core';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { selectAppTheme } from '../../store/selectors/options.selectors';\r\nimport { AppTheme } from '@calc/ui';\r\nimport { setTheme } from '../../store/actions/options.actions';\r\nimport Brightness7Icon from '@material-ui/icons/Brightness7';\r\nimport Brightness4Icon from '@material-ui/icons/Brightness4';\r\n\r\nexport const ThemeMenu: FC = () => {\r\n    const { t } = useTranslation();\r\n    const dispatch = useDispatch();\r\n    const currentTheme = useSelector(selectAppTheme);\r\n\r\n    const toggleTheme = () => {\r\n        const theme = currentTheme === AppTheme.Light ? AppTheme.Dark : AppTheme.Light;\r\n        dispatch(setTheme(theme))\r\n    };\r\n\r\n    return (\r\n        <Tooltip title={currentTheme === AppTheme.Light ? t('appBar.toggleDark') : t('appBar.toggleLight')}>\r\n            <IconButton color=\"default\" onClick={toggleTheme}>\r\n                {currentTheme === AppTheme.Light ? <Brightness4Icon/> : <Brightness7Icon/>}\r\n            </IconButton>\r\n        </Tooltip>\r\n    );\r\n};\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport { createStyles, Theme } from '@material-ui/core';\r\n\r\nexport const useConverterStyles = makeStyles((theme: Theme) => {\r\n    return createStyles(\r\n        {\r\n            card: {\r\n                padding: theme.spacing(3)\r\n            },\r\n            input: {\r\n                paddingBottom: theme.spacing(2)\r\n            },\r\n            mappings: {\r\n                display: 'flex',\r\n                flexDirection: 'row',\r\n                flexWrap: 'wrap'\r\n            },\r\n            row: {\r\n                display: 'flex',\r\n                flexDirection: 'row',\r\n                [theme.breakpoints.down('sm')]: {\r\n                    width: '100%'\r\n                },\r\n                [theme.breakpoints.up('md')]: {\r\n                    width: '70%'\r\n                }\r\n            },\r\n            inputBase: {\r\n                width: '20%'\r\n            },\r\n            outputBase: {\r\n                width: '20%'\r\n            },\r\n            precision: {\r\n                width:'10%'\r\n            },\r\n            horizontalSpacer: {\r\n                [theme.breakpoints.down('md')]: {\r\n                    width: theme.spacing(1)\r\n                },\r\n                [theme.breakpoints.up('lg')]: {\r\n                    width: theme.spacing(2)\r\n                }\r\n            },\r\n            verticalSpacer: {\r\n                [theme.breakpoints.down('md')]: {\r\n                    width: theme.spacing(1)\r\n                },\r\n                [theme.breakpoints.up('lg')]: {\r\n                    width: theme.spacing(2)\r\n                }\r\n            },\r\n            title: {\r\n                paddingTop: theme.spacing(2),\r\n                paddingBottom: theme.spacing(2)\r\n            },\r\n            equation: {\r\n                paddingBottom: theme.spacing(2)\r\n            }\r\n        }\r\n    );\r\n});\r\n","import { createAction } from '@reduxjs/toolkit';\r\nimport { AppTheme } from '@calc/ui';\r\n\r\n\r\nexport enum OptionsActionsType {\r\n    SetShowComplement = '[Options] Set show complement',\r\n    SetShowDecimalValue = '[Options] Set show decimal value',\r\n    SetTheme = '[Options] Set theme'\r\n}\r\n\r\nexport const setShowComplement = createAction(\r\n    OptionsActionsType.SetShowComplement,\r\n    (showComplement: boolean) => ({payload: {showComplement}})\r\n);\r\n\r\nexport const setShowDecimalValue = createAction(\r\n    OptionsActionsType.SetShowDecimalValue,\r\n    (showDecimalValue: boolean) => ({payload: {showDecimalValue}})\r\n);\r\n\r\nexport const setTheme = createAction(\r\n    OptionsActionsType.SetTheme,\r\n    (theme: AppTheme) => ({payload: {theme}})\r\n);\r\n","import { rootReducer, StoreState } from './reducers/root.reducer';\r\nimport { optionsInitialState } from './reducers/options.reducer';\r\nimport { createStore } from 'redux';\r\n\r\n\r\nconst initialState: StoreState = {\r\n    options: optionsInitialState\r\n};\r\n\r\nexport const store = createStore(\r\n    rootReducer,\r\n    initialState\r\n);\r\n","import { createReducer } from '@reduxjs/toolkit';\r\nimport { setShowComplement, setShowDecimalValue, setTheme } from '../actions/options.actions';\r\nimport { AppTheme } from '@calc/ui';\r\n\r\nexport interface OptionsState {\r\n    showComplement: boolean;\r\n    showDecimalValue: boolean;\r\n    theme: AppTheme;\r\n}\r\n\r\nexport const optionsInitialState: OptionsState = {\r\n    showComplement: true,\r\n    showDecimalValue: true,\r\n    theme: AppTheme.Dark\r\n};\r\n\r\nexport const optionsReducer = createReducer(\r\n    optionsInitialState,\r\n    {\r\n        [setShowComplement.type]: (state, {payload}) => {\r\n            return ({...state, showComplement: payload.showComplement})\r\n        },\r\n        [setShowDecimalValue.type]: (state, {payload}) => {\r\n            return ({...state, showDecimalValue: payload.showDecimalValue})\r\n        },\r\n        [setTheme.type]: (state, {payload}) => {\r\n            return ({...state, theme: payload.theme})\r\n        },\r\n    }\r\n);\r\n","import { optionsReducer, OptionsState } from './options.reducer';\r\nimport { combineReducers } from 'redux';\r\n\r\nexport interface StoreState {\r\n    options: OptionsState;\r\n}\r\n\r\nexport const rootReducer = combineReducers(\r\n    {\r\n        options: optionsReducer\r\n    }\r\n);\r\n","import { createSelector } from '@reduxjs/toolkit';\r\nimport { StoreState } from '../reducers/root.reducer';\r\n\r\nexport const optionsState = createSelector(\r\n    (state: StoreState) => state,\r\n    state => state.options\r\n);\r\n\r\nexport const selectShowDecimalValue = createSelector(\r\n    optionsState,\r\n    state => state.showDecimalValue\r\n);\r\n\r\nexport const selectShowComplement = createSelector(\r\n    optionsState,\r\n    state => state.showComplement\r\n);\r\n\r\nexport const selectAppTheme = createSelector(\r\n    optionsState,\r\n    state => state.theme\r\n);\r\n","\r\nexport const repoUrl = 'https://gitlab.com/gitgudorgetgot/calc';\r\n","import i18n from 'i18next';\r\nimport { initReactI18next } from 'react-i18next';\r\n\r\nimport translationEN from './en.json';\r\nimport translationPL from './pl.json';\r\n\r\nconst resources = {\r\n    en: {\r\n        translation: translationEN\r\n    },\r\n    pl: {\r\n        translation: translationPL\r\n    }\r\n};\r\n\r\nexport function getNativeName(languageKey: string): string {\r\n    return {\r\n        'en': 'English',\r\n        'pl': 'Polski'\r\n    }[languageKey];\r\n}\r\n\r\nexport const availableThemes = Object.keys(resources);\r\n\r\ni18n\r\n    .use(initReactI18next) // passes i18n down to react-i18next\r\n    .init({\r\n        resources,\r\n        lng: 'en',\r\n        fallbackLng: 'en',\r\n        interpolation: {\r\n            escapeValue: false\r\n        }\r\n    });\r\n\r\nexport default i18n;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './app/app';\r\nimport { Provider } from 'react-redux';\r\nimport { store } from './app/store/configure-store';\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>,\r\n    document.getElementById('root')\r\n);\r\n"],"sourceRoot":"webpack:///"}